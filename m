Return-Path: <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>
X-Original-To: lists+linux-ltp@lfdr.de
Delivered-To: lists+linux-ltp@lfdr.de
Received: from picard.linux.it (picard.linux.it [IPv6:2001:1418:10:5::2])
	by mail.lfdr.de (Postfix) with ESMTPS id 107F5581F78
	for <lists+linux-ltp@lfdr.de>; Wed, 27 Jul 2022 07:27:03 +0200 (CEST)
Received: from picard.linux.it (localhost [IPv6:::1])
	by picard.linux.it (Postfix) with ESMTP id 3486B3C1D8F
	for <lists+linux-ltp@lfdr.de>; Wed, 27 Jul 2022 07:27:02 +0200 (CEST)
X-Original-To: ltp@lists.linux.it
Delivered-To: ltp@picard.linux.it
Received: from in-6.smtp.seeweb.it (in-6.smtp.seeweb.it
 [IPv6:2001:4b78:1:20::6])
 (using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
 key-exchange X25519 server-signature ECDSA (P-384))
 (No client certificate requested)
 by picard.linux.it (Postfix) with ESMTPS id 6B75F3C1A1E
 for <ltp@lists.linux.it>; Wed, 27 Jul 2022 07:26:59 +0200 (CEST)
Received: from mail.jv-coder.de (mail.jv-coder.de [5.9.79.73])
 (using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
 key-exchange X25519 server-signature RSA-PSS (2048 bits) server-digest SHA256)
 (No client certificate requested)
 by in-6.smtp.seeweb.it (Postfix) with ESMTPS id 5F3B81400C5B
 for <ltp@lists.linux.it>; Wed, 27 Jul 2022 07:26:55 +0200 (CEST)
Received: from [10.40.94.2] (unknown [91.26.40.236])
 by mail.jv-coder.de (Postfix) with ESMTPSA id AE69F9FE82;
 Wed, 27 Jul 2022 05:26:53 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=jv-coder.de; s=dkim;
 t=1658899614; bh=4ovRBEzAc9aKhfIPEzjzSif7AOnIFbOiNV+32sXjze0=;
 h=Message-ID:Date:MIME-Version:Subject:To:From;
 b=Qe4uXJ3b3eZhT+Y55Vcy0PU49A7aszelHp7g2Zp4icrbzlfR+2G90Q3Vzsy033sTe
 /YkxndM5Aj4uVG8w9R4rIxVUIMXgODbfCAT0KtxHNtDaVYYVghJG2gd05RxH1KMigM
 OKwsk/kylVYN3iHetdB8p2KSnEMew2k1pw/hizlU=
Message-ID: <9fb52291-7d86-25cb-d4de-52fb4db78eb2@jv-coder.de>
Date: Wed, 27 Jul 2022 07:26:52 +0200
MIME-Version: 1.0
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:91.0) Gecko/20100101
 Thunderbird/91.11.0
Content-Language: en-US
To: rpalethorpe@suse.de
References: <20220627125321.1560677-1-lkml@jv-coder.de>
 <20220627125321.1560677-3-lkml@jv-coder.de> <87czekrseu.fsf@suse.de>
From: Joerg Vehlow <lkml@jv-coder.de>
In-Reply-To: <87czekrseu.fsf@suse.de>
X-Spam-Status: No, score=0.1 required=7.0 tests=DKIM_SIGNED,DKIM_VALID,
 DKIM_VALID_AU,DKIM_VALID_EF,NICE_REPLY_A,SPF_HELO_NONE,SPF_PASS
 autolearn=disabled version=3.4.4
X-Spam-Checker-Version: SpamAssassin 3.4.4 (2020-01-24) on in-6.smtp.seeweb.it
X-Virus-Scanned: clamav-milter 0.102.4 at in-6.smtp.seeweb.it
X-Virus-Status: Clean
Subject: Re: [LTP] [PATCH 2/3] openposix: Setup autoconf and fix
 installation layout
X-BeenThere: ltp@lists.linux.it
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Linux Test Project <ltp.lists.linux.it>
List-Unsubscribe: <https://lists.linux.it/options/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=unsubscribe>
List-Archive: <http://lists.linux.it/pipermail/ltp/>
List-Post: <mailto:ltp@lists.linux.it>
List-Help: <mailto:ltp-request@lists.linux.it?subject=help>
List-Subscribe: <https://lists.linux.it/listinfo/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=subscribe>
Cc: ltp@lists.linux.it, Joerg Vehlow <joerg.vehlow@aox.de>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Errors-To: ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it
Sender: "ltp" <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>

Hi Richard,

Am 7/5/2022 um 7:57 AM schrieb Richard Palethorpe:
> Hello Joerg,
> 
> Joerg Vehlow <lkml@jv-coder.de> writes:
> 
>>  
>> -distclean: distclean-makefiles
>> +.PHONY: distclean
>> +distclean: clean distclean-makefiles
>> +	@rm -f $(AUTOGENERATED_FILES)
> 
> Shouldn't this also include the configure script itself? Running
> distclean on the LTP root removes the top level configure script.
No it does not. If autotools generates all the makefiles, it would do
that, but with the hand-crafted makefiles of ltp, it does not.
The same is true for the realtime testsuite. It only deletes the
configure script in maintainer-clean. To keep it consistent, I went for
the same cleanup, as ltp itself an the realtime testsuite use.

$ make distclean &>/dev/null && ls configure
configure


>> diff --git a/testcases/open_posix_testsuite/QUICK-START b/testcases/open_posix_testsuite/QUICK-START
>> index 6f5d881b4..649d7a3d7 100644
>> --- a/testcases/open_posix_testsuite/QUICK-START
>> +++ b/testcases/open_posix_testsuite/QUICK-START
>> @@ -10,8 +10,6 @@ No worries! Here's a quick doc to help you around POSIX** Test Suite.
>>  Setting up your machine
>>  ========================
>>  
>> -* There is nothing to install, the suite is intended to be run directly.
>> -
>>  * See the "BUILD" file for info on how to set up the Makefile and your machine,
>>    depending on what specific area you are concentrating on.
>>  (Signals, Semaphores, Threads, Timers or Message Queues).
>> @@ -20,8 +18,8 @@ Setting up your machine
>>  Running the tests
>>  ===================
>>  
>> -* Easiest way to run all the tests is to do a "make all" in the top-level
>> -  directory.
>> +* Easiest way to run all the tests is to do a "./configure && make all"
> 
> Trailing whitespace at the end of this line
Fixed in v2

>> diff --git a/testcases/open_posix_testsuite/configure.ac b/testcases/open_posix_testsuite/configure.ac
>> new file mode 100644
>> index 000000000..ae0399d07
>> --- /dev/null
>> +++ b/testcases/open_posix_testsuite/configure.ac
>> @@ -0,0 +1,18 @@
>> +AC_PREREQ(2.61)
>> +AC_INIT([open_posix_testsuite], [LTP_VERSION], [ltp@lists.linux.it])
>> +AC_CONFIG_FILES([ \
>> +    include/mk/config.mk \
>> +])
>> +
>> +AC_PROG_CC_C99
> 
> This causes a deprecation warning for me
As already explained, I will replace it with AC_PROG_CC in v2

Joerg


-- 
Mailing list info: https://lists.linux.it/listinfo/ltp
