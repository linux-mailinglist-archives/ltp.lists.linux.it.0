Return-Path: <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>
X-Original-To: lists+linux-ltp@lfdr.de
Delivered-To: lists+linux-ltp@lfdr.de
Received: from picard.linux.it (picard.linux.it [213.254.12.146])
	by mail.lfdr.de (Postfix) with ESMTPS id 8458C26182
	for <lists+linux-ltp@lfdr.de>; Wed, 22 May 2019 12:14:35 +0200 (CEST)
Received: from picard.linux.it (localhost [IPv6:::1])
	by picard.linux.it (Postfix) with ESMTP id 50915294AD7
	for <lists+linux-ltp@lfdr.de>; Wed, 22 May 2019 12:14:35 +0200 (CEST)
X-Original-To: ltp@lists.linux.it
Delivered-To: ltp@picard.linux.it
Received: from in-7.smtp.seeweb.it (in-7.smtp.seeweb.it [217.194.8.7])
 by picard.linux.it (Postfix) with ESMTP id 564B43EA3F9
 for <ltp@lists.linux.it>; Wed, 22 May 2019 12:14:31 +0200 (CEST)
Received: from heian.cn.fujitsu.com (mail.cn.fujitsu.com [183.91.158.132])
 by in-7.smtp.seeweb.it (Postfix) with ESMTP id D2E60201209
 for <ltp@lists.linux.it>; Wed, 22 May 2019 12:14:24 +0200 (CEST)
X-IronPort-AV: E=Sophos;i="5.60,498,1549900800"; d="scan'208";a="64162466"
Received: from unknown (HELO cn.fujitsu.com) ([10.167.33.5])
 by heian.cn.fujitsu.com with ESMTP; 22 May 2019 18:14:21 +0800
Received: from G08CNEXCHPEKD02.g08.fujitsu.local (unknown [10.167.33.83])
 by cn.fujitsu.com (Postfix) with ESMTP id C2DD44CDAD75;
 Wed, 22 May 2019 18:14:22 +0800 (CST)
Received: from localhost.localdomain (10.167.215.30) by
 G08CNEXCHPEKD02.g08.fujitsu.local (10.167.33.89) with Microsoft SMTP Server
 (TLS) id 14.3.439.0; Wed, 22 May 2019 18:14:18 +0800
From: Yang Xu <xuyang2018.jy@cn.fujitsu.com>
To: <chrubis@suse.cz>
Date: Wed, 22 May 2019 18:14:16 +0800
Message-ID: <1558520056-2257-1-git-send-email-xuyang2018.jy@cn.fujitsu.com>
X-Mailer: git-send-email 1.8.3.1
In-Reply-To: <20190520130407.GB27675@rei.lan>
References: <20190520130407.GB27675@rei.lan>
MIME-Version: 1.0
X-Originating-IP: [10.167.215.30]
X-yoursite-MailScanner-ID: C2DD44CDAD75.A106B
X-yoursite-MailScanner: Found to be clean
X-yoursite-MailScanner-From: xuyang2018.jy@cn.fujitsu.com
X-Spam-Status: No, score=0.0 required=7.0 tests=SPF_HELO_NONE,SPF_NONE
 autolearn=disabled version=3.4.0
X-Virus-Scanned: clamav-milter 0.99.2 at in-7.smtp.seeweb.it
X-Virus-Status: Clean
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on in-7.smtp.seeweb.it
Cc: ltp@lists.linux.it
Subject: [LTP] [PATCH v2] syscalls/prctl04.c: New test for prctl() with
	PR_{SET, GET}_SECCOMP
X-BeenThere: ltp@lists.linux.it
X-Mailman-Version: 2.1.18
Precedence: list
List-Id: Linux Test Project <ltp.lists.linux.it>
List-Unsubscribe: <https://lists.linux.it/options/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=unsubscribe>
List-Archive: <http://lists.linux.it/pipermail/ltp/>
List-Post: <mailto:ltp@lists.linux.it>
List-Help: <mailto:ltp-request@lists.linux.it?subject=help>
List-Subscribe: <https://lists.linux.it/listinfo/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it
Sender: "ltp" <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>

U2lnbmVkLW9mZi1ieTogWWFuZyBYdSA8eHV5YW5nMjAxOC5qeUBjbi5mdWppdHN1LmNvbT4KLS0t
CiBjb25maWd1cmUuYWMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgIDEgKwogaW5j
bHVkZS9sYXBpL3ByY3RsLmggICAgICAgICAgICAgICAgICAgICAgIHwgICA1ICsKIGluY2x1ZGUv
bGFwaS9zZWNjb21wLmggICAgICAgICAgICAgICAgICAgICB8ICA0MCArKysrCiBydW50ZXN0L3N5
c2NhbGxzICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgIDEgKwogdGVzdGNhc2VzL2tlcm5l
bC9zeXNjYWxscy9wcmN0bC8uZ2l0aWdub3JlIHwgICAxICsKIHRlc3RjYXNlcy9rZXJuZWwvc3lz
Y2FsbHMvcHJjdGwvcHJjdGwwNC5jICB8IDIyOSArKysrKysrKysrKysrKysrKysrKysKIDYgZmls
ZXMgY2hhbmdlZCwgMjc3IGluc2VydGlvbnMoKykKIGNyZWF0ZSBtb2RlIDEwMDY0NCBpbmNsdWRl
L2xhcGkvc2VjY29tcC5oCiBjcmVhdGUgbW9kZSAxMDA2NDQgdGVzdGNhc2VzL2tlcm5lbC9zeXNj
YWxscy9wcmN0bC9wcmN0bDA0LmMKCmRpZmYgLS1naXQgYS9jb25maWd1cmUuYWMgYi9jb25maWd1
cmUuYWMKaW5kZXggZmFkOGY4Mzk2Li5jODU4YWZmNDIgMTAwNjQ0Ci0tLSBhL2NvbmZpZ3VyZS5h
YworKysgYi9jb25maWd1cmUuYWMKQEAgLTQ2LDYgKzQ2LDcgQEAgQUNfQ0hFQ0tfSEVBREVSUyhb
IFwKICAgICBsaW51eC9tZW1wb2xpY3kuaCBcCiAgICAgbGludXgvbW9kdWxlLmggXAogICAgIGxp
bnV4L25ldGxpbmsuaCBcCisgICAgbGludXgvc2VjY29tcC5oIFwKICAgICBsaW51eC91c2VyZmF1
bHRmZC5oIFwKICAgICBtbS5oIFwKICAgICBuZXRpbmV0L3NjdHAuaCBcCmRpZmYgLS1naXQgYS9p
bmNsdWRlL2xhcGkvcHJjdGwuaCBiL2luY2x1ZGUvbGFwaS9wcmN0bC5oCmluZGV4IDZkYjhhNjQ4
MC4uZjQyYmQ2NDU5IDEwMDY0NAotLS0gYS9pbmNsdWRlL2xhcGkvcHJjdGwuaAorKysgYi9pbmNs
dWRlL2xhcGkvcHJjdGwuaApAQCAtOSw2ICs5LDExIEBACiAKICNpbmNsdWRlIDxzeXMvcHJjdGwu
aD4KIAorI2lmbmRlZiBQUl9TRVRfU0VDQ09NUAorIyBkZWZpbmUgUFJfR0VUX1NFQ0NPTVAgIDIx
CisjIGRlZmluZSBQUl9TRVRfU0VDQ09NUCAgMjIKKyNlbmRpZgorCiAjaWZuZGVmIFBSX1NFVF9D
SElMRF9TVUJSRUFQRVIKICMgZGVmaW5lIFBSX1NFVF9DSElMRF9TVUJSRUFQRVIJMzYKICMgZGVm
aW5lIFBSX0dFVF9DSElMRF9TVUJSRUFQRVIJMzcKZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGFwaS9z
ZWNjb21wLmggYi9pbmNsdWRlL2xhcGkvc2VjY29tcC5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0Cmlu
ZGV4IDAwMDAwMDAwMC4uZWVhZDUzYzQ4Ci0tLSAvZGV2L251bGwKKysrIGIvaW5jbHVkZS9sYXBp
L3NlY2NvbXAuaApAQCAtMCwwICsxLDQwIEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjog
R1BMLTIuMC1vci1sYXRlcgorLyoKKyAqIENvcHlyaWdodCAoYykgMjAxOSBGVUpJVFNVIExJTUlU
RUQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCisgKiBBdXRob3I6IFlhbmcgWHUgPHh1eWFuZzIwMTgu
anlAY24uZnVqaXRzdS5jb20+CisgKi8KKyNpZm5kZWYgTEFQSV9TRUNDT01QX0hfXworIyBkZWZp
bmUgX0xBUElfU0VDQ09NUF9ICisKKyNpbmNsdWRlIDxsaW51eC90eXBlcy5oPgorCisjaWZkZWYg
SEFWRV9MSU5VWF9TRUNDT01QX0gKKyNpbmNsdWRlIDxsaW51eC9zZWNjb21wLmg+CisjZWxzZQor
LyogVmFsaWQgdmFsdWVzIGZvciBzZWNjb21wLm1vZGUgYW5kIHByY3RsKFBSX1NFVF9TRUNDT01Q
LCA8bW9kZT4pICovCisjZGVmaW5lIFNFQ0NPTVBfTU9ERV9ESVNBQkxFRCAgIDAKKyNkZWZpbmUg
U0VDQ09NUF9NT0RFX1NUUklDVCAgICAgMQorI2RlZmluZSBTRUNDT01QX01PREVfRklMVEVSICAg
ICAyCisKKyNkZWZpbmUgU0VDQ09NUF9SRVRfS0lMTF9USFJFQUQgIDB4MDAwMDAwMDBVIC8qIGtp
bGwgdGhlIHRocmVhZCAqLworI2RlZmluZSBTRUNDT01QX1JFVF9LSUxMICAgICAgICAgU0VDQ09N
UF9SRVRfS0lMTF9USFJFQUQKKyNkZWZpbmUgU0VDQ09NUF9SRVRfQUxMT1cgICAgICAgIDB4N2Zm
ZjAwMDBVIC8qIGFsbG93ICovCisKKy8qKgorICogc3RydWN0IHNlY2NvbXBfZGF0YSAtIHRoZSBm
b3JtYXQgdGhlIEJQRiBwcm9ncmFtIGV4ZWN1dGVzIG92ZXIuCisgKiBAbnI6IHRoZSBzeXN0ZW0g
Y2FsbCBudW1iZXIKKyAqIEBhcmNoOiBpbmRpY2F0ZXMgc3lzdGVtIGNhbGwgY29udmVudGlvbiBh
cyBhbiBBVURJVF9BUkNIXyogdmFsdWUKKyAqICAgICAgICBhcyBkZWZpbmVkIGluIDxsaW51eC9h
dWRpdC5oPi4KKyAqIEBpbnN0cnVjdGlvbl9wb2ludGVyOiBhdCB0aGUgdGltZSBvZiB0aGUgc3lz
dGVtIGNhbGwuCisgKiBAYXJnczogdXAgdG8gNiBzeXN0ZW0gY2FsbCBhcmd1bWVudHMgYWx3YXlz
IHN0b3JlZCBhcyA2NC1iaXQgdmFsdWVzCisgKiByZWdhcmRsZXNzIG9mIHRoZSBhcmNoaXRlY3R1
cmUuCisgKi8KK3N0cnVjdCBzZWNjb21wX2RhdGEgeworCWludCBucjsKKwlfX3UzMiBhcmNoOwor
CV9fdTY0IGluc3RydWN0aW9uX3BvaW50ZXI7CisJX191NjQgYXJnc1s2XTsKK307CisKKyNlbmRp
ZiAvKiBIQVZFX0xJTlVYX1NFQ0NPTVBfSCovCisjZW5kaWYgLyogX0xBUElfU0VDQ09NUF9IICov
CmRpZmYgLS1naXQgYS9ydW50ZXN0L3N5c2NhbGxzIGIvcnVudGVzdC9zeXNjYWxscwppbmRleCAy
YjhjYTcxOWIuLjUxYmZmMjk5MCAxMDA2NDQKLS0tIGEvcnVudGVzdC9zeXNjYWxscworKysgYi9y
dW50ZXN0L3N5c2NhbGxzCkBAIC04NjMsNiArODYzLDcgQEAgcHBvbGwwMSBwcG9sbDAxCiBwcmN0
bDAxIHByY3RsMDEKIHByY3RsMDIgcHJjdGwwMgogcHJjdGwwMyBwcmN0bDAzCitwcmN0bDA0IHBy
Y3RsMDQKIAogcHJlYWQwMSBwcmVhZDAxCiBwcmVhZDAxXzY0IHByZWFkMDFfNjQKZGlmZiAtLWdp
dCBhL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvcHJjdGwvLmdpdGlnbm9yZSBiL3Rlc3RjYXNl
cy9rZXJuZWwvc3lzY2FsbHMvcHJjdGwvLmdpdGlnbm9yZQppbmRleCAyZjQ2YTlhMTIuLjFjM2Rh
MzA1MiAxMDA2NDQKLS0tIGEvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9wcmN0bC8uZ2l0aWdu
b3JlCisrKyBiL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvcHJjdGwvLmdpdGlnbm9yZQpAQCAt
MSwzICsxLDQgQEAKIC9wcmN0bDAxCiAvcHJjdGwwMgogL3ByY3RsMDMKKy9wcmN0bDA0CmRpZmYg
LS1naXQgYS90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL3ByY3RsL3ByY3RsMDQuYyBiL3Rlc3Rj
YXNlcy9rZXJuZWwvc3lzY2FsbHMvcHJjdGwvcHJjdGwwNC5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0
CmluZGV4IDAwMDAwMDAwMC4uOWFjZDJjNmZiCi0tLSAvZGV2L251bGwKKysrIGIvdGVzdGNhc2Vz
L2tlcm5lbC9zeXNjYWxscy9wcmN0bC9wcmN0bDA0LmMKQEAgLTAsMCArMSwyMjkgQEAKKy8vIFNQ
RFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9yLWxhdGVyCisvKgorICogQ29weXJpZ2h0
IChjKSAyMDE5IEZVSklUU1UgTElNSVRFRC4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KKyAqIEF1dGhv
cjogWWFuZyBYdSA8eHV5YW5nMjAxOC5qeUBjbi5mdWppdHN1LmNvbT4KKyAqCisgKiBUZXN0IFBS
X0dFVF9TRUNDT01QIGFuZCBQUl9TRVRfU0VDQ09NUCBvZiBwcmN0bCgyKS4KKyAqIDEpIElmIFBS
X1NFVF9TRUNDT01QIHNldHMgdGhlIFNFQ0NPTVBfTU9ERV9TVFJJQ1QgZm9yIHRoZSBjYWxsaW5n
IHRocmVhZCwKKyAqICAgIHRoZSBvbmx5IHN5c3RlbSBjYWxsIHRoYXQgdGhlIHRocmVhZCBpcyBw
ZXJtaXR0ZWQgdG8gbWFrZSBhcmUgcmVhZCgyKSwKKyAqICAgIHdyaXRlKDIpLF9leGl0KDIpKGJ1
dCBub3QgZXhpdF9ncm91cCgyKSksIGFuZCBzaWdyZXR1cm4oMikuICBPdGhlcgorICogICAgc3lz
dGVtIGNhbGxzIHJlc3VsdCBpbiB0aGUgZGVsaXZlcnkgb2YgYSBTSUdLSUxMIHNpZ25hbC4gVGhp
cyBvcGVyYXRpb24KKyAqICAgIGlzIGF2YWlsYWJsZSBvbmx5IGlmIHRoZSBrZXJuZWwgaXMgY29u
ZmlndXJlZCB3aXRoIENPTkZJR19TRUNDT01QIGVuYWJsZWQuCisgKiAyKSBJZiBQUl9TRVRfU0VD
Q09NUCBzZXRzIHRoZSBTRUNDT01QX01PREVfRklMVEVSIGZvciB0aGUgY2FsbGluZyB0aHJlYWQs
CisgKiAgICB0aGUgc3lzdGVtIGNhbGxzIGFsbG93ZWQgYXJlIGRlZmluZWQgYnkgYSBwb2ludGVy
IHRvIGEgQmVya2VsZXkgUGFja2V0CisgKiAgICBGaWx0ZXIuIE90aGVyIHN5c3RlbSBjYWxscyBy
ZXN1bHQgaW50IHRoZSBkZWxpdmVyeSBvZiBhIFNJR1NZUyBzaWduYWwKKyAqICAgIHdpdGggU0VD
Q09NUF9SRVRfS0lMTC4gVGhlIFNFQ0NPTVBfU0VUX01PREVfRklMVEVSIG9wZXJhdGlvbiBpcyBh
dmFpbGFibGUKKyAqICAgIG9ubHkgaWYgdGhlIGtlcm5lbCBpcyBjb25maWd1cmVkIHdpdGggQ09O
RklHX1NFQ0NPTVBfRklMVEVSIGVuYWJsZWQuCisgKiAzKSBJZiBTRUNDT01QX01PREVfRklMVEVS
IGZpbHRlcnMgcGVybWl0IGZvcmsoMiksIHRoZW4gdGhlIHNlY2NvbXAgbW9kZQorICogICAgaXMg
aW5oZXJpdGVkIGJ5IGNoaWxkcmVuIGNyZWF0ZWQgYnkgZm9yaygyKS4KKyAqLworCisjaW5jbHVk
ZSA8ZXJybm8uaD4KKyNpbmNsdWRlIDxzaWduYWwuaD4KKyNpbmNsdWRlIDxzeXMvcHJjdGwuaD4K
KyNpbmNsdWRlIDxzeXMvd2FpdC5oPgorI2luY2x1ZGUgPHN5cy90eXBlcy5oPgorI2luY2x1ZGUg
PGxpbnV4L2ZpbHRlci5oPgorI2luY2x1ZGUgPHVuaXN0ZC5oPgorI2luY2x1ZGUgPHN0ZGxpYi5o
PgorI2luY2x1ZGUgPHN0ZGRlZi5oPgorI2luY2x1ZGUgInRzdF90ZXN0LmgiCisjaW5jbHVkZSAi
bGFwaS9zeXNjYWxscy5oIgorI2luY2x1ZGUgImxhcGkvcHJjdGwuaCIKKyNpbmNsdWRlICJjb25m
aWcuaCIKKyNpbmNsdWRlICJsYXBpL3NlY2NvbXAuaCIKKworI2RlZmluZSBGTkFNRSAiZmlsZW5h
bWUiCisKK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgc29ja19maWx0ZXIgIHN0cmljdF9maWx0ZXJbXSA9
IHsKKwlCUEZfU1RNVChCUEZfTEQgfCBCUEZfVyB8IEJQRl9BQlMsIChvZmZzZXRvZiAoc3RydWN0
IHNlY2NvbXBfZGF0YSwgbnIpKSksCisKKwlCUEZfSlVNUChCUEZfSk1QIHwgQlBGX0pFUSwgX19O
Ul9jbG9zZSwgNSwgMCksCisJQlBGX0pVTVAoQlBGX0pNUCB8IEJQRl9KRVEsIF9fTlJfZXhpdCwg
IDQsIDApLAorCUJQRl9KVU1QKEJQRl9KTVAgfCBCUEZfSkVRLCBfX05SX3dhaXQ0LCAzLCAwKSwK
KwlCUEZfSlVNUChCUEZfSk1QIHwgQlBGX0pFUSwgX19OUl93cml0ZSwgMiwgMCksCisJQlBGX0pV
TVAoQlBGX0pNUCB8IEJQRl9KRVEsIF9fTlJfY2xvbmUsIDEsIDApLAorCisJQlBGX1NUTVQoQlBG
X1JFVCB8IEJQRl9LLCBTRUNDT01QX1JFVF9LSUxMKSwKKwlCUEZfU1RNVChCUEZfUkVUIHwgQlBG
X0ssIFNFQ0NPTVBfUkVUX0FMTE9XKQorfTsKKworc3RhdGljIGNvbnN0IHN0cnVjdCBzb2NrX2Zw
cm9nICBzdHJpY3QgPSB7CisJLmxlbiA9ICh1bnNpZ25lZCBzaG9ydClBUlJBWV9TSVpFKHN0cmlj
dF9maWx0ZXIpLAorCS5maWx0ZXIgPSAoc3RydWN0IHNvY2tfZmlsdGVyICopc3RyaWN0X2ZpbHRl
cgorfTsKKworc3RhdGljIHZvaWQgY2hlY2tfc3RyaWN0X21vZGUoaW50KTsKK3N0YXRpYyB2b2lk
IGNoZWNrX2ZpbHRlcl9tb2RlKGludCk7CisKK3N0YXRpYyBzdHJ1Y3QgdGNhc2UgeworCXZvaWQg
KCpmdW5jX2NoZWNrKSgpOworCWludCBwYXNzX2ZsYWc7CisJaW50IHZhbDsKKwlpbnQgZXhwX3Np
Z25hbDsKKwljaGFyICptZXNzYWdlOworfSB0Y2FzZXNbXSA9IHsKKwl7Y2hlY2tfc3RyaWN0X21v
ZGUsIDEsIDEsIFNJR0tJTEwsCisJIlNFQ0NPTVBfTU9ERV9TVFJJQ1QgZG9lc24ndCBwZXJtaXQg
R0VUX1NFQ0NPTVAgY2FsbCJ9LAorCisJe2NoZWNrX3N0cmljdF9tb2RlLCAwLCAyLCBTSUdLSUxM
LAorCSJTRUNDT01QX01PREVfU1RSSUNUIGRvZXNuJ3QgcGVybWl0IHJlYWQoMikgd3JpdGUoMikg
YW5kIF9leGl0KDIpIn0sCisKKwl7Y2hlY2tfc3RyaWN0X21vZGUsIDEsIDMsIFNJR0tJTEwsCisJ
IlNFQ0NPTVBfTU9ERV9TVFJJQ1QgZG9lc24ndCBwZXJtaXQgY2xvc2UoMikifSwKKworCXtjaGVj
a19maWx0ZXJfbW9kZSwgMSwgMSwgU0lHU1lTLAorCSJTRUNDT01QX01PREVfRklMVEVSIGRvZXN0
bid0IHBlcm1pdCBHRVRfU0VDQ09NUCBjYWxsIn0sCisKKwl7Y2hlY2tfZmlsdGVyX21vZGUsIDAs
IDIsIFNJR1NZUywKKwkiU0VDQ09NUF9NT0RFX0ZJTFRFUiBkb2Vzbid0IHBlcm1pdCBjbG9zZSgy
KSJ9LAorCisJe2NoZWNrX2ZpbHRlcl9tb2RlLCAxLCAzLCBTSUdTWVMsCisJIlNFQ0NPTVBfTU9E
RV9GSUxURVIgZG9lc24ndCBwZXJtaXQgZXhpdCgpIn0sCisKKwl7Y2hlY2tfZmlsdGVyX21vZGUs
IDAsIDQsIFNJR1NZUywKKwkiU0VDQ09NUF9NT0RFX0ZJTFRFUiBkb2Vzbid0IHBlcm1pdCBleGl0
KCkifQorfTsKKworc3RhdGljIHZvaWQgY2hlY2tfZmlsdGVyX21vZGVfaW5oZXJpdCh2b2lkKQor
eworCWludCBjaGlsZHBpZDsKKwlpbnQgY2hpbGRzdGF0dXM7CisKKwljaGlsZHBpZCA9IGZvcmso
KTsKKwlpZiAoY2hpbGRwaWQgPT0gMCkgeworCQl0c3RfcmVzKFRQQVNTLCAiU0VDQ09NUF9NT0RF
X0ZJTFRFUiBwZXJtaXRzIGZvcmsoMikiKTsKKwkJZXhpdCgwKTsKKwl9CisKKwl3YWl0NChjaGls
ZHBpZCwgJmNoaWxkc3RhdHVzLCAwLCBOVUxMKTsKKwlpZiAoV0lGU0lHTkFMRUQoY2hpbGRzdGF0
dXMpICYmIFdURVJNU0lHKGNoaWxkc3RhdHVzKSA9PSBTSUdTWVMpCisJCXRzdF9yZXMoVFBBU1Ms
CisJCQkiU0VDQ09NUF9NT0RFX0ZJTFRFUiBoYXMgYmVlbiBpbmhlcml0ZWQgYnkgY2hpbGQiKTsK
KwllbHNlCisJCXRzdF9yZXMoVEZBSUwsCisJCQkiU0VDQ09NUF9NT0RFX0ZJTFRFUiBpc24ndCBi
ZWVuIGluaGVyaXRlZCBieSBjaGlsZCIpOworfQorCitzdGF0aWMgdm9pZCBjaGVja19zdHJpY3Rf
bW9kZShpbnQgdmFsKQoreworCWludCBmZDsKKwljaGFyIGJ1ZlsyXTsKKworCWZkID0gU0FGRV9P
UEVOKEZOQU1FLCBPX1JEV1IgfCBPX0NSRUFULCAwNjY2KTsKKworCVRFU1QocHJjdGwoUFJfU0VU
X1NFQ0NPTVAsIFNFQ0NPTVBfTU9ERV9TVFJJQ1QpKTsKKwlpZiAoVFNUX1JFVCA9PSAtMSkgewor
CQl0c3RfcmVzKFRGQUlMIHwgVFRFUlJOTywKKwkJCSJwcmN0bChQUl9TRVRfU0VDQ09NUCkgc2V0
cyBTRUNDT01QX01PREVfU1RSSUNUIGZhaWxlZCIpOworCQlyZXR1cm47CisJfQorCisJc3dpdGNo
ICh2YWwpIHsKKwljYXNlIDE6CXsKKwkJdHN0X3JlcyhUUEFTUywKKwkJCSJwcmN0bChQUl9TRVRf
U0VDQ09NUCkgc2V0cyBTRUNDT01QX01PREVfU1RSSUNUIHN1Y2NlZWQiKTsKKwkJcHJjdGwoUFJf
R0VUX1NFQ0NPTVApOworCQl0c3RfcmVzKFRGQUlMLCAicHJjdGwoUFJfR0VUX1NFQ0NPTVApIHN1
Y2NlZWQgdW5leHBlY3RlZGx5Iik7CisJYnJlYWs7CisJfQorCWNhc2UgMjogeworCQlTQUZFX1dS
SVRFKDEsIGZkLCAiYSIsIDEpOworCQlTQUZFX1JFQUQoMCwgZmQsIGJ1ZiwgMSk7CisJCXRzdF9y
ZXMoVFBBU1MsCisJCQkiU0VDQ09NUF9NT0RFX1NUUklDVCBwZXJtaXRzIHJlYWQoMikgd3JpdGUo
MikgYW5kIF9leGl0KDIpIik7CisJYnJlYWs7CisJfQorCWNhc2UgMzogeworCQljbG9zZShmZCk7
CisJCXRzdF9yZXMoVEZBSUwsCisJCQkiU0VDQ09NUF9NT0RFX1NUUklDVCBwZXJtaXRzIGNsb3Nl
KDIpIHVuZXhwZWN0ZGx5Iik7CisJYnJlYWs7CisJfQorCX0KKworCXRzdF9zeXNjYWxsKF9fTlJf
ZXhpdCwgMCk7Cit9CisKK3N0YXRpYyB2b2lkIGNoZWNrX2ZpbHRlcl9tb2RlKGludCB2YWwpCit7
CisJaW50IGZkOworCisJZmQgPSBTQUZFX09QRU4oRk5BTUUsIE9fUkRXUiB8IE9fQ1JFQVQsIDA2
NjYpOworCisJVEVTVChwcmN0bChQUl9TRVRfU0VDQ09NUCwgU0VDQ09NUF9NT0RFX0ZJTFRFUiwg
JnN0cmljdCkpOworCWlmIChUU1RfUkVUID09IC0xKSB7CisJCWlmIChUU1RfRVJSID09IEVJTlZB
TCkKKwkJCXRzdF9yZXMoVENPTkYsCisJCQkJImtlcm5lbCBkb2Vzbid0IHN1cHBvcnQgU0VDQ09N
UF9NT0RFX0ZJTFRFUiIpOworCQllbHNlCisJCQl0c3RfcmVzKFRGQUlMIHwgVEVSUk5PLAorCQkJ
CSJwcmN0bChQUl9TRVRfU0VDQ09NUCkgc2V0cyBzdHJpY3QgZmlsdGVyIGZhaWxlZCIpOworCQly
ZXR1cm47CisJfQorCisJc3dpdGNoICh2YWwpIHsKKwljYXNlIDE6IHsKKwkJdHN0X3JlcyhUUEFT
UywKKwkJCSJwcmN0bChQUl9TRVRfU0VDQ09NUCkgc2V0cyBzdHJpY3QgZmlsdGVyIHN1Y2NlZWQi
KTsKKwkJcHJjdGwoUFJfR0VUX1NFQ0NPTVApOworCQl0c3RfcmVzKFRGQUlMLCAicHJjdGwoUFJf
R0VUX1NFQ0NPTVApIHN1Y2NlZWQgdW5leHBlY3RlZGx5Iik7CisJYnJlYWs7CisJfQorCWNhc2Ug
MjogeworCQljbG9zZShmZCk7CisJCXRzdF9yZXMoVFBBU1MsICJTRUNDT01QX01PREVfRklMVEVS
IHBlcm1pdHMgY2xvc2UoMikiKTsKKwlicmVhazsKKwl9CisJY2FzZSAzOgorCQlleGl0KDApOwor
CWJyZWFrOworCWNhc2UgNDoKKwkJY2hlY2tfZmlsdGVyX21vZGVfaW5oZXJpdCgpOworCWJyZWFr
OworCX0KKwl0c3Rfc3lzY2FsbChfX05SX2V4aXQsIDApOworfQorCitzdGF0aWMgdm9pZCB2ZXJp
ZnlfcHJjdGwodW5zaWduZWQgaW50IG4pCit7CisJaW50IHBpZDsKKwlpbnQgc3RhdHVzOworCXN0
cnVjdCB0Y2FzZSAqdGMgPSAmdGNhc2VzW25dOworCisJcGlkID0gU0FGRV9GT1JLKCk7CisJaWYg
KHBpZCA9PSAwKSB7CisJCXRjLT5mdW5jX2NoZWNrKHRjLT52YWwpOworCX0gZWxzZSB7CisJCVNB
RkVfV0FJVFBJRChwaWQsICZzdGF0dXMsIDApOworCQlpZiAoV0lGU0lHTkFMRUQoc3RhdHVzKSAm
JiBXVEVSTVNJRyhzdGF0dXMpID09IHRjLT5leHBfc2lnbmFsKSB7CisJCQlpZiAodGMtPnBhc3Nf
ZmxhZykKKwkJCQl0c3RfcmVzKFRQQVNTLCAiJXMiLCB0Yy0+bWVzc2FnZSk7CisJCQllbHNlCisJ
CQkJdHN0X3JlcyhURkFJTCwgIiVzIiwgdGMtPm1lc3NhZ2UpOworCQkJcmV0dXJuOworCQl9CisK
KwkJaWYgKG4gPT0gNSkKKwkJCXRzdF9yZXMoVEZBSUwsCisJCQkJIlNFQ0NPTVBfTU9ERV9GSUxU
RVIgcGVybWl0cyBleGl0KCkgdW5leHBlY3RkbHkiKTsKKwl9Cit9CisKK3N0YXRpYyB2b2lkIHNl
dHVwKHZvaWQpCit7CisJVEVTVChwcmN0bChQUl9HRVRfU0VDQ09NUCkpOworCWlmIChUU1RfUkVU
ID09IDApCisJCXRzdF9yZXMoVElORk8sICJrZXJuZWwgc3VwcG9ydCBQUl9HRVQvU0VUX1NFQ0NP
TVAiKTsKKwlpZiAoVFNUX0VSUiA9PSBFSU5WQUwpCisJCXRzdF9icmsoVEJST0ssICJrZXJuZWwg
ZG9lc24ndCBzdXBwb3J0IFBSX0dFVC9TRVRfU0VDQ09NUCIpOworfQorCitzdGF0aWMgc3RydWN0
IHRzdF90ZXN0IHRlc3QgPSB7CisJLnNldHVwID0gc2V0dXAsCisJLnRlc3QgPSB2ZXJpZnlfcHJj
dGwsCisJLnRjbnQgPSBBUlJBWV9TSVpFKHRjYXNlcyksCisJLmZvcmtzX2NoaWxkID0gMSwKKwku
bmVlZHNfdG1wZGlyID0gMSwKKwkubmVlZHNfcm9vdCA9IDEsCit9OwotLSAKMi4xOC4xCgoKCgot
LSAKTWFpbGluZyBsaXN0IGluZm86IGh0dHBzOi8vbGlzdHMubGludXguaXQvbGlzdGluZm8vbHRw
Cg==
