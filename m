Return-Path: <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>
X-Original-To: lists+linux-ltp@lfdr.de
Delivered-To: lists+linux-ltp@lfdr.de
Received: from picard.linux.it (picard.linux.it [213.254.12.146])
	by mail.lfdr.de (Postfix) with ESMTPS id AABA229AA7
	for <lists+linux-ltp@lfdr.de>; Fri, 24 May 2019 17:11:32 +0200 (CEST)
Received: from picard.linux.it (localhost [IPv6:::1])
	by picard.linux.it (Postfix) with ESMTP id 7DA393EA687
	for <lists+linux-ltp@lfdr.de>; Fri, 24 May 2019 17:11:32 +0200 (CEST)
X-Original-To: ltp@lists.linux.it
Delivered-To: ltp@picard.linux.it
Received: from in-4.smtp.seeweb.it (in-4.smtp.seeweb.it [217.194.8.4])
 by picard.linux.it (Postfix) with ESMTP id E06743EA1B6
 for <ltp@lists.linux.it>; Fri, 24 May 2019 17:11:29 +0200 (CEST)
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by in-4.smtp.seeweb.it (Postfix) with ESMTPS id BD7841000521
 for <ltp@lists.linux.it>; Fri, 24 May 2019 17:11:21 +0200 (CEST)
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 03E9CAE65;
 Fri, 24 May 2019 15:11:23 +0000 (UTC)
Date: Fri, 24 May 2019 17:11:23 +0200
From: Cyril Hrubis <chrubis@suse.cz>
To: Jinhui huang <huangjh.jy@cn.fujitsu.com>
Message-ID: <20190524151122.GB30293@rei>
References: <1558660677-13516-1-git-send-email-huangjh.jy@cn.fujitsu.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <1558660677-13516-1-git-send-email-huangjh.jy@cn.fujitsu.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Virus-Scanned: clamav-milter 0.99.2 at in-4.smtp.seeweb.it
X-Virus-Status: Clean
X-Spam-Status: No, score=0.0 required=7.0 tests=HEADER_FROM_DIFFERENT_DOMAINS, 
 SPF_HELO_NONE,SPF_PASS autolearn=disabled version=3.4.0
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on in-4.smtp.seeweb.it
Cc: ltp@lists.linux.it
Subject: Re: [LTP] [PATCH] syscalls/sched_setaffinity01.c: rewrite test with
 new API
X-BeenThere: ltp@lists.linux.it
X-Mailman-Version: 2.1.18
Precedence: list
List-Id: Linux Test Project <ltp.lists.linux.it>
List-Unsubscribe: <https://lists.linux.it/options/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=unsubscribe>
List-Archive: <http://lists.linux.it/pipermail/ltp/>
List-Post: <mailto:ltp@lists.linux.it>
List-Help: <mailto:ltp-request@lists.linux.it?subject=help>
List-Subscribe: <https://lists.linux.it/listinfo/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it
Sender: "ltp" <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>

SGkhCj4gU2lnbmVkLW9mZi1ieTogSmluaHVpIGh1YW5nIDxodWFuZ2poLmp5QGNuLmZ1aml0c3Uu
Y29tPgo+IC0tLQo+ICAuLi4vc2NoZWRfc2V0YWZmaW5pdHkvc2NoZWRfc2V0YWZmaW5pdHkwMS5j
ICAgICAgICB8IDE4OCArKysrKysrKy0tLS0tLS0tLS0tLS0KPiAgMSBmaWxlIGNoYW5nZWQsIDY3
IGluc2VydGlvbnMoKyksIDEyMSBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvdGVzdGNh
c2VzL2tlcm5lbC9zeXNjYWxscy9zY2hlZF9zZXRhZmZpbml0eS9zY2hlZF9zZXRhZmZpbml0eTAx
LmMgYi90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL3NjaGVkX3NldGFmZmluaXR5L3NjaGVkX3Nl
dGFmZmluaXR5MDEuYwo+IGluZGV4IGU5MzY3ZDYuLjM2NzdiODggMTAwNjQ0Cj4gLS0tIGEvdGVz
dGNhc2VzL2tlcm5lbC9zeXNjYWxscy9zY2hlZF9zZXRhZmZpbml0eS9zY2hlZF9zZXRhZmZpbml0
eTAxLmMKPiArKysgYi90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL3NjaGVkX3NldGFmZmluaXR5
L3NjaGVkX3NldGFmZmluaXR5MDEuYwo+IEBAIC0xLDE3NyArMSwxMjMgQEAKPiArLy8gU1BEWC1M
aWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb3ItbGF0ZXIKPiAgLyoKPiAtICogQ29weXJpZ2h0
IChjKSAyMDE0IE9yYWNsZSBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2
ZWQuCgpZb3UgY2FuJ3QganVzdCByZW1vdmUgb3RoZXIgY29weXJpZ2h0IGhvbGRlcnMgbGlrZSB0
aGlzLgoKPiAtICogVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0
cmlidXRlIGl0IGFuZC9vcgo+IC0gKiBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBH
TlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcwo+IC0gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUg
U29mdHdhcmUgRm91bmRhdGlvbjsgZWl0aGVyIHZlcnNpb24gMiBvZgo+IC0gKiB0aGUgTGljZW5z
ZSwgb3IgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KPiAtICoKPiAtICogVGhp
cyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd291bGQgYmUgdXNl
ZnVsLAo+IC0gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1w
bGllZCB3YXJyYW50eSBvZgo+IC0gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQ
QVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlCj4gLSAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNl
bnNlIGZvciBtb3JlIGRldGFpbHMuCj4gLSAqCj4gLSAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZl
ZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlCj4gLSAqIGFsb25nIHdp
dGggdGhpcyBwcm9ncmFtLiBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2Vz
Lz4uCj4gKyAqIENvcHlyaWdodCAoYykgMjAxOSBGVUpJVFNVIExJTUlURUQuIEFsbCByaWdodHMg
cmVzZXJ2ZWQuCj4gKyAqIEF1dGhvcjogSmluaHVpIGh1YW5nIDxodWFuZ2poLmp5QGNuLmZ1aml0
c3UuY29tPgo+ICAgKi8KPiAgCj4gIC8qCj4gLSAqIFRoaXMgdGVzdCB2ZXJpZmllcyBzY2hlZF9z
ZXRhZmZpbml0eSgyKSBmb3IgYWxsIGVycm9yIGNvbmRpdGlvbnMKPiAtICogdG8gb2NjdXIgY29y
cmVjdGx5Lgo+IC0gKgo+IC0gKiBzY2hlZF9zZXRhZmZpbml0eSgpIHJldHVybnMgLTEgYW5kIHNl
dHMgdGhlIGVycm9yIGNvZGUgdG86Cj4gLSAqCj4gLSAqIDEpIEVGQVVMVCwgaWYgdGhlIHN1cHBs
aWVkIG1lbW9yeSBhZGRyZXNzIGlzIGludmFsaWQKPiAtICogMikgRUlOVkFMLCBpZiB0aGUgbWFz
ayBkb2Vzbid0IGNvbnRhaW4gYXQgbGVhc3Qgb25lCj4gLSAqICAgIHBlcm1pdHRlZCBjcHUKPiAt
ICogMykgRVNSQ0gsIGlmIHRoZSBwcm9jZXNzIHdob3NlIGlkIGlzIHBpZCBjb3VsZCBub3QKPiAt
ICogICAgYmUgZm91bmQKPiAtICogNCkgRVBFUk0sIGlmIHRoZSBjYWxsaW5nIHByb2Nlc3MgZG9l
c24ndCBoYXZlIGFwcHJvcHJpYXRlCj4gLSAqICAgIHByaXZpbGVnZXMKPiArICogRGVzY3JpcHRp
b246Cj4gKyAqIENoZWNrIHZhcmlvdXMgZXJybm9zIGZvciBzY2hlZF9zZXRhZmZpbml0eSgpOgo+
ICsgKiAxKSBFRkFVTFQsIGlmIHRoZSBzdXBwbGllZCBtZW1vcnkgYWRkcmVzcyBpcyBpbnZhbGlk
Lgo+ICsgKiAyKSBFSU5WQUwsIGlmIHRoZSBtYXNrIGRvZXNuJ3QgY29udGFpbiBhdCBsZWFzdCBv
bmUgcGVybWl0dGVkIGNwdS4KPiArICogMykgRVNSQ0gsIGlmIHRoZSBwcm9jZXNzIHdob3NlIGlk
IGlzIHBpZCBjb3VsZCBub3QgYmUgZm91bmQuCj4gKyAqIDQpIEVQRVJNLCBpZiB0aGUgY2FsbGlu
ZyBwcm9jZXNzIGRvZXNuJ3QgaGF2ZSBhcHByb3ByaWF0ZSBwcml2aWxlZ2VzLgo+ICAgKi8KPiAt
Cj4gICNkZWZpbmUgX0dOVV9TT1VSQ0UKPiAgI2luY2x1ZGUgPGVycm5vLmg+Cj4gICNpbmNsdWRl
IDxwd2QuaD4KPiAgI2luY2x1ZGUgPHNjaGVkLmg+Cj4gICNpbmNsdWRlIDxzaWduYWwuaD4KPiAg
I2luY2x1ZGUgPHVuaXN0ZC5oPgo+IC0jaW5jbHVkZSA8c3lzL3R5cGVzLmg+Cj4gLSNpbmNsdWRl
IDxzeXMvd2FpdC5oPgo+IC0jaW5jbHVkZSAidGVzdC5oIgo+IC0jaW5jbHVkZSAic2FmZV9tYWNy
b3MuaCIKPiArI2luY2x1ZGUgPHN0ZGxpYi5oPgo+ICsKPiArI2luY2x1ZGUgInRzdF90ZXN0Lmgi
Cj4gKyNpbmNsdWRlICJ0c3Rfc2FmZV9tYWNyb3MuaCIKPiAgI2luY2x1ZGUgImxhcGkvY3B1c2V0
LmgiCj4gICNpbmNsdWRlICJsYXBpL3N5c2NhbGxzLmgiCj4gIAo+IC1jaGFyICpUQ0lEID0gInNj
aGVkX3NldGFmZmluaXR5MDEiOwo+IC0KPiAtI2RlZmluZSBQSURfTUFYX1BBVEggIi9wcm9jL3N5
cy9rZXJuZWwvcGlkX21heCIKPiAtCj4gIHN0YXRpYyBjcHVfc2V0X3QgKm1hc2ssICplbWFzazsK
PiAgc3RhdGljIGNwdV9zZXRfdCAqZm1hc2sgPSAodm9pZCAqKS0xOwoKVGhpcyBzaG91bGQgYmUg
c2V0IHdpdGggdHN0X2dldF9iYWRfYWRkcigpIGluIHNldHVwKCkKCj4gIHN0YXRpYyBzaXplX3Qg
bWFza19zaXplLCBlbWFza19zaXplOwo+ICBzdGF0aWMgcGlkX3Qgc2VsZl9waWQsIHByaXZpbGVn
ZWRfcGlkLCBmcmVlX3BpZDsKPiAtc3RhdGljIHVpZF90IHVpZDsKPiAtc3RhdGljIGNvbnN0IGNo
YXIgbm9ib2R5X3VpZFtdID0gIm5vYm9keSI7Cj4gIHN0YXRpYyBzdHJ1Y3QgcGFzc3dkICpsdHB1
c2VyOwo+IC1zdGF0aWMgbG9uZyBuY3B1czsKPiAgCj4gLXN0YXRpYyBzdHJ1Y3QgdGVzdF9jYXNl
X3Qgewo+ICtzdGF0aWMgc3RydWN0IHRjYXNlIHsKPiAgCXBpZF90ICpwaWQ7Cj4gLQlzaXplX3Qg
Km1hc2tfc2l6ZTsKPiArCXNpemVfdCAqc2l6ZTsKPiAgCWNwdV9zZXRfdCAqKm1hc2s7Cj4gIAlp
bnQgZXhwX2Vycm5vOwo+IC19IHRlc3RfY2FzZXNbXSA9IHsKPiArfSB0Y2FzZXNbXSA9IHsKPiAg
CXsmc2VsZl9waWQsICZtYXNrX3NpemUsICZmbWFzaywgRUZBVUxUfSwKPiAgCXsmc2VsZl9waWQs
ICZlbWFza19zaXplLCAmZW1hc2ssIEVJTlZBTH0sCj4gIAl7JmZyZWVfcGlkLCAmbWFza19zaXpl
LCAmbWFzaywgRVNSQ0h9LAo+ICAJeyZwcml2aWxlZ2VkX3BpZCwgJm1hc2tfc2l6ZSwgJm1hc2ss
IEVQRVJNfSwKPiAgfTsKPiAgCj4gLWludCBUU1RfVE9UQUwgPSBBUlJBWV9TSVpFKHRlc3RfY2Fz
ZXMpOwo+IC0KPiAtc3RhdGljIHZvaWQgY2xlYW51cCh2b2lkKQo+ICtzdGF0aWMgdm9pZCB2ZXJp
ZnlfdGVzdCh1bnNpZ25lZCBpbnQgbikKPiAgewo+IC0JaWYgKG1hc2sgIT0gTlVMTCkgewo+IC0J
CUNQVV9GUkVFKG1hc2spOwo+IC0JCW1hc2sgPSBOVUxMOwo+IC0JfQo+ICsJc3RydWN0IHRjYXNl
ICp0YyA9ICZ0Y2FzZXNbbl07Cj4gIAo+IC0JaWYgKGVtYXNrICE9IE5VTEwpIHsKPiAtCQlDUFVf
RlJFRShlbWFzayk7Cj4gLQkJZW1hc2sgPSBOVUxMOwo+ICsJaWYgKHRjLT5leHBfZXJybm8gPT0g
RVBFUk0pIHsKPiArCQlwcml2aWxlZ2VkX3BpZCA9IFNBRkVfRk9SSygpOwo+ICsJCWlmIChwcml2
aWxlZ2VkX3BpZCA9PSAwKSB7Cj4gKwkJCXBhdXNlKCk7Cj4gKwkJCWV4aXQoMCk7Cj4gKwkJfQo+
ICsKPiArCQlTQUZFX1NFVEVVSUQobHRwdXNlci0+cHdfdWlkKTsKPiAgCX0KPiAgCj4gLQlTQUZF
X1NFVEVVSUQoTlVMTCwgdWlkKTsKPiArCVRFU1QodHN0X3N5c2NhbGwoX19OUl9zY2hlZF9zZXRh
ZmZpbml0eSwKPiArCQkJCQkqdGMtPnBpZCwgKnRjLT5zaXplLCAqdGMtPm1hc2spKTsKICAgICAg
ICAgICAgICAgICAgICAgICAgIF4KCQkJIEV4Y2Vzc2l2ZSBpbmRlbnRhdGlvbiwgdGhlICp0Yy0+
cGlkIHNob3VsZAoJCQkgc3RhcnQgaGVyZS4KPiArCj4gKwlpZiAoVFNUX1JFVCAhPSAtMSkKPiAr
CQl0c3RfcmVzKFRGQUlMLCAic2NoZWRfc2V0YWZmaW5pdHkoKSBzdWNjZWRlZCB1bmV4cGVjdGVk
bHkiKTsKICAgICAgICAgICAgICAgIEkgZ3Vlc3MgdGhhdCB3ZSBzaG91bGQgZ290byB0byB0aGUg
RVBFUk0gY2xlYW51cCBjb2RlCgkJZnJvbSBoZXJlLCBvdGhlcndpc2Ugd2Ugd2lsbCBwcml0biB0
d28gZmFpbCBtZXNzYWdlcwoJCWlmIFRTVF9SRVQgIT0gLTEuCgo+ICsJaWYgKFRTVF9FUlIgIT0g
dGMtPmV4cF9lcnJubykgewo+ICsJCXRzdF9yZXMoVEZBSUwgfCBUVEVSUk5PLCAic2NoZWRfc2V0
YWZmaW5pdHkoKSBmYWlsZWQgd2l0aCAlcywgIgo+ICsJCQkiYWNjdHVhbGx5IGdvdDoiLCB0c3Rf
c3RyZXJybm8odGMtPmV4cF9lcnJubykpOwoKTEtNTCBjb2Rpbmcgc3R5bGUgcHJlZmVycyBub3Qg
dG8gbGluZS13cmFwIHVzZXIgdmlzaWJsZSBzdHJpbmdzLCBhbHNvCnRoZSBtZXNzYWdlIGlzIG5v
dCBjbGVhciBzbyBpdCBzaG91bGQgYmUgc29tZXRoaW5nIGFzOgoKCQl0c3RfcmVzKFRGQUlMIHwg
VFRFUlJOTywKCQkgICAgICAgICJzY2hlZF9zZXRhZmZpbml0eSgpIHNob3VsZCBmYWlsIHdpdGgg
JXMsIGdvdDoiLAoJCQl0c3Rfc3RyZXJybm8odGMtPmV4cF9lcnJubykpOwoKPiArCX0gZWxzZSB7
Cj4gKwkJdHN0X3JlcyhUUEFTUyB8IFRURVJSTk8sICJzY2hlZF9zZXRhZmZpbml0eSgpIGZhaWxl
ZCIpOwo+ICsJfQo+ICAKPiAtCWlmIChwcml2aWxlZ2VkX3BpZCA+IDApIHsKPiAtCQlraWxsKHBy
aXZpbGVnZWRfcGlkLCBTSUdLSUxMKTsKPiAtCQl3YWl0cGlkKHByaXZpbGVnZWRfcGlkLCBOVUxM
LCAwKTsKPiAtCQlwcml2aWxlZ2VkX3BpZCA9IDA7Cj4gKwlpZiAodGMtPmV4cF9lcnJubyA9PSBF
UEVSTSkgewo+ICsJCVNBRkVfS0lMTChwcml2aWxlZ2VkX3BpZCwgU0lHS0lMTCk7Cj4gKwkJU0FG
RV9XQUlUUElEKHByaXZpbGVnZWRfcGlkLCBOVUxMLCAwKTsKPiArCQlTQUZFX1NFVEVVSUQoMCk7
Cj4gIAl9Cj4gIH0KPiAgCj4gIHN0YXRpYyB2b2lkIHNldHVwKHZvaWQpCj4gIHsKPiAtCXRzdF9y
ZXF1aXJlX3Jvb3QoKTsKClRoZSB0ZXN0IG5lZWRzIHRvIGJlIGV4ZWN1dGVkIHVuZGVyIHJvb3Qs
IHlvdSBoYXZlIGZvcmdvdHRlbiB0byBzZXQgdGhlCi5uZWVkc19yb290IGZsYWcgaW4gdGhlIHRz
dF90ZXN0IHN0cnVjdHVyZSBiZWxvdy4KCj4gLQl1aWQgPSBnZXRldWlkKCk7Cj4gKwlsb25nIG5j
cHVzOwo+ICAJbmNwdXMgPSB0c3RfbmNwdXNfbWF4KCk7Cj4gIAo+IC0JLyogQ3VycmVudCBtYXNr
ICovCj4gIAltYXNrID0gQ1BVX0FMTE9DKG5jcHVzKTsKPiAtCWlmIChtYXNrID09IE5VTEwpCj4g
LQkJdHN0X2Jya20oVEJST0sgfCBURVJSTk8sIGNsZWFudXAsICJDUFVfQUxMT0MoJWxkKSBmYWls
ZWQiLAo+IC0JCQluY3B1cyk7Cj4gKwlpZiAoIW1hc2spCj4gKwkJdHN0X2JyayhUQlJPSyB8IFRU
RVJSTk8sICJDUFVfQUxMT0MoKSBmYWlsZWQiKTsKPiArCj4gIAltYXNrX3NpemUgPSBDUFVfQUxM
T0NfU0laRShuY3B1cyk7Cj4gKwo+ICAJaWYgKHNjaGVkX2dldGFmZmluaXR5KDAsIG1hc2tfc2l6
ZSwgbWFzaykgPCAwKQo+IC0JCXRzdF9icmttKFRCUk9LIHwgVEVSUk5PLCBjbGVhbnVwLCAic2No
ZWRfZ2V0YWZmaW5pdHkoKSBmYWlsZWQiKTsKPiArCQl0c3RfYnJrKFRCUk9LIHwgVFRFUlJOTywg
InNjaGVkX2dldGFmZmluaXR5KCkgZmFpbGVkIik7Cj4gIAo+IC0JLyogTWFzayB3aXRoIG9uZSBt
b3JlIGNwdSB0aGFuIGF2YWlsYWJsZSBvbiB0aGUgc3lzdGVtICovCj4gIAllbWFzayA9IENQVV9B
TExPQyhuY3B1cyArIDEpOwo+IC0JaWYgKGVtYXNrID09IE5VTEwpCj4gLQkJdHN0X2Jya20oVEJS
T0sgfCBURVJSTk8sIGNsZWFudXAsICJDUFVfQUxMT0MoJWxkKSBmYWlsZWQiLAo+IC0JCQluY3B1
cyArIDEpOwo+ICsJaWYgKCFlbWFzaykKPiArCQl0c3RfYnJrKFRCUk9LIHwgVFRFUlJOTywgIkNQ
VV9BTExPQygpIGZhaWxlZCIpOwo+ICsKPiAgCWVtYXNrX3NpemUgPSBDUFVfQUxMT0NfU0laRShu
Y3B1cyArIDEpOwo+ICAJQ1BVX1pFUk9fUyhlbWFza19zaXplLCBlbWFzayk7Cj4gIAlDUFVfU0VU
X1MobmNwdXMsIGVtYXNrX3NpemUsIGVtYXNrKTsKPiAgCj4gLQlwcml2aWxlZ2VkX3BpZCA9IHRz
dF9mb3JrKCk7Cj4gLQlpZiAocHJpdmlsZWdlZF9waWQgPT0gMCkgewo+IC0JCXBhdXNlKCk7Cj4g
LQo+IC0JCWV4aXQoMCk7Cj4gLQl9IGVsc2UgaWYgKHByaXZpbGVnZWRfcGlkIDwgMCkgewo+IC0J
CXRzdF9icmttKFRCUk9LIHwgVEVSUk5PLCBjbGVhbnVwLCAiZm9yaygpIGZhaWxlZCIpOwo+IC0J
fQo+IC0KPiAtCS8qIERyb3BwaW5nIHRoZSByb290IHByaXZpbGVnZXMgKi8KPiAtCWx0cHVzZXIg
PSBnZXRwd25hbShub2JvZHlfdWlkKTsKPiAtCWlmIChsdHB1c2VyID09IE5VTEwpCj4gLQkJdHN0
X2Jya20oVEJST0sgfCBURVJSTk8sIGNsZWFudXAsCj4gLQkJCSJnZXRwd25hbSBmYWlsZWQgZm9y
IHVzZXIgaWQgJXMiLCBub2JvZHlfdWlkKTsKPiAtCj4gLQlTQUZFX1NFVEVVSUQoY2xlYW51cCwg
bHRwdXNlci0+cHdfdWlkKTsKPiArCWx0cHVzZXIgPSBTQUZFX0dFVFBXTkFNKCJub2JvZHkiKTsK
PiAgCj4gLQkvKiB0aGlzIHBpZCBpcyBub3QgdXNlZCBieSB0aGUgT1MgKi8KPiAtCWZyZWVfcGlk
ID0gdHN0X2dldF91bnVzZWRfcGlkKGNsZWFudXApOwo+ICsJZnJlZV9waWQgPSB0c3RfZ2V0X3Vu
dXNlZF9waWQoKTsKPiAgfQo+ICAKPiAtaW50IG1haW4oaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbXSkK
PiArc3RhdGljIHZvaWQgY2xlYW51cCh2b2lkKQo+ICB7Cj4gLQlpbnQgbGM7Cj4gLQlpbnQgaTsK
PiAtCj4gLQl0c3RfcGFyc2Vfb3B0cyhhcmdjLCBhcmd2LCBOVUxMLCBOVUxMKTsKPiAtCj4gLQlz
ZXR1cCgpOwo+IC0KPiAtCWZvciAobGMgPSAwOyBURVNUX0xPT1BJTkcobGMpOyBsYysrKSB7Cj4g
LQkJdHN0X2NvdW50ID0gMDsKPiAtCQlmb3IgKGkgPSAwOyBpIDwgVFNUX1RPVEFMOyBpKyspIHsK
PiAtCQkJLyogQXZvaWQgY2FsbGluZyBnbGliYyB3cmFwcGVyIGZ1bmN0aW9uLCBhcyBpdCBtYXkK
PiAtCQkJICogdHJ5IHRvIHJlYWQvdmFsaWRhdGUgZGF0YSBpbiBjcHUgbWFzay4gVGhpcyB0ZXN0
Cj4gLQkJCSAqIGlzIHBhc3NpbmcgaW52YWxpZCBwb2ludGVyIG9uIHB1cnBvc2UuICovCj4gLQkJ
CVRFU1QobHRwX3N5c2NhbGwoX19OUl9zY2hlZF9zZXRhZmZpbml0eSwKPiAtCQkJCSoodGVzdF9j
YXNlc1tpXS5waWQpLAo+IC0JCQkJKih0ZXN0X2Nhc2VzW2ldLm1hc2tfc2l6ZSksCj4gLQkJCQkq
KHRlc3RfY2FzZXNbaV0ubWFzaykpKTsKPiAtCj4gLQkJCWlmIChURVNUX1JFVFVSTiAhPSAtMSkK
PiAtCQkJCXRzdF9yZXNtKFRGQUlMLAo+IC0JCQkJCSJzY2hlZF9zZXRhZmZpbml0eSgpIHVuZXhw
ZWN0ZWRseSBzdWNjZWRlZCIpOwo+IC0KPiAtCQkJaWYgKFRFU1RfRVJSTk8gPT0gdGVzdF9jYXNl
c1tpXS5leHBfZXJybm8pIHsKPiAtCQkJCXRzdF9yZXNtKFRQQVNTLCAiZXhwZWN0ZWQgZmFpbHVy
ZSB3aXRoICclcyciLAo+IC0JCQkJCXN0cmVycm9yKHRlc3RfY2FzZXNbaV0uZXhwX2Vycm5vKSk7
Cj4gLQkJCX0gZWxzZSB7Cj4gLQkJCQl0c3RfcmVzbShURkFJTCwKPiAtCQkJCQkiY2FsbCByZXR1
cm5lZCAnJXMnLCBleHBlY3RlZCAtICclcyciLAo+IC0JCQkJCXN0cmVycm9yKFRFU1RfRVJSTk8p
LAo+IC0JCQkJCXN0cmVycm9yKHRlc3RfY2FzZXNbaV0uZXhwX2Vycm5vKSk7Cj4gLQkJCX0KPiAt
CQl9Cj4gLQl9Cj4gKwlpZiAobWFzaykKPiArCQlDUFVfRlJFRShtYXNrKTsKPiAgCj4gLQljbGVh
bnVwKCk7Cj4gLQl0c3RfZXhpdCgpOwo+ICsJaWYgKGVtYXNrKQo+ICsJCUNQVV9GUkVFKGVtYXNr
KTsKPiAgfQo+ICsKPiArc3RhdGljIHN0cnVjdCB0c3RfdGVzdCB0ZXN0ID0gewo+ICsJLnRjbnQg
PSBBUlJBWV9TSVpFKHRjYXNlcyksCj4gKwkudGVzdCA9IHZlcmlmeV90ZXN0LAo+ICsJLnNldHVw
ID0gc2V0dXAsCj4gKwkuY2xlYW51cCA9IGNsZWFudXAsCj4gKwkubmVlZHNfdG1wZGlyID0gMSwK
PiArCS5mb3Jrc19jaGlsZCA9IDEsCj4gK307Cj4gLS0gCj4gMS44LjMuMQo+IAo+IAo+IAo+IAo+
IC0tIAo+IE1haWxpbmcgbGlzdCBpbmZvOiBodHRwczovL2xpc3RzLmxpbnV4Lml0L2xpc3RpbmZv
L2x0cAoKLS0gCkN5cmlsIEhydWJpcwpjaHJ1YmlzQHN1c2UuY3oKCi0tIApNYWlsaW5nIGxpc3Qg
aW5mbzogaHR0cHM6Ly9saXN0cy5saW51eC5pdC9saXN0aW5mby9sdHAK
