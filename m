Return-Path: <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>
X-Original-To: lists+linux-ltp@lfdr.de
Delivered-To: lists+linux-ltp@lfdr.de
Received: from picard.linux.it (picard.linux.it [213.254.12.146])
	by mail.lfdr.de (Postfix) with ESMTPS id 1BE42AFBBD5
	for <lists+linux-ltp@lfdr.de>; Mon,  7 Jul 2025 21:41:46 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=lists.linux.it;
 i=@lists.linux.it; q=dns/txt; s=picard; t=1751917305; h=date :
 mime-version : message-id : references : in-reply-to : to : subject :
 list-id : list-unsubscribe : list-archive : list-post : list-help :
 list-subscribe : from : reply-to : cc : content-type :
 content-transfer-encoding : sender : from;
 bh=qqJ+1wpi0nIhkRzWH84YGp84kCflHLehPXkENBFmv0I=;
 b=WPiIEfsK1+elNdOIk/JOOxGq4KiGPL0zG5Ls+mj4kyK+eMh9EYwigLfGPMMVXynVUmjXn
 bjHav872XQwEvrn9cHmVydBoIJg8QYZpveMMXQddbKzxXaMKf0LZU1hba2EyTT7gz6jwZuS
 22yNT1SzGoajDpFgFbLmSyKLLVpJNQE=
Received: from picard.linux.it (localhost [IPv6:::1])
	by picard.linux.it (Postfix) with ESMTP id B95163CA20F
	for <lists+linux-ltp@lfdr.de>; Mon,  7 Jul 2025 21:41:45 +0200 (CEST)
X-Original-To: ltp@lists.linux.it
Delivered-To: ltp@picard.linux.it
Received: from in-3.smtp.seeweb.it (in-3.smtp.seeweb.it [217.194.8.3])
 (using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
 key-exchange X25519 server-signature ECDSA (secp384r1))
 (No client certificate requested)
 by picard.linux.it (Postfix) with ESMTPS id A642C3CA08B
 for <ltp@lists.linux.it>; Mon,  7 Jul 2025 21:40:29 +0200 (CEST)
Received: from mail-wr1-x434.google.com (mail-wr1-x434.google.com
 [IPv6:2a00:1450:4864:20::434])
 (using TLSv1.3 with cipher TLS_AES_128_GCM_SHA256 (128/128 bits)
 key-exchange X25519 server-signature RSA-PSS (2048 bits) server-digest SHA256)
 (No client certificate requested)
 by in-3.smtp.seeweb.it (Postfix) with ESMTPS id CE0FA1A0195D
 for <ltp@lists.linux.it>; Mon,  7 Jul 2025 21:40:28 +0200 (CEST)
Received: by mail-wr1-x434.google.com with SMTP id
 ffacd0b85a97d-3a50fc7ac4dso1599521f8f.0
 for <ltp@lists.linux.it>; Mon, 07 Jul 2025 12:40:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=suse.com; s=google; t=1751917228; x=1752522028; darn=lists.linux.it;
 h=cc:to:in-reply-to:references:message-id:content-transfer-encoding
 :mime-version:subject:date:from:from:to:cc:subject:date:message-id
 :reply-to; bh=1iVQ6bKqS6tlkEMYwV2tb7Ig9DctaY0XwRDl3SbZqrg=;
 b=Vju9XZc189Xq30JYof3xS3Wu3pxHv/xY1+JRH55mA9TPfAUK3rZEA6kSQ6tI0X1oW/
 q9IdrDXLK1uJt49bQ9/Cd4O3w193Bn/S3HbEll659OFhBdV3P7z1LudcAAaUheqGZGHC
 B0I9SSOw63xHjE25KaDtX/dc8G/ON7cfRuX/TINSlq6bx6VanTP3TwYLKaXnDztyGn8C
 xLKXPg3CiSTneLqoQ1vn03Pb94BKjh50oLhW+/0FtE7XStaj4cCWMW6fliXGgOWF+VXp
 rc8yMzfaHzHYZK7h8GdsqzJOxKv2Xvxr940GpexfakUZCikgVWXcQoYIXqPU2p93CEjx
 Uw/A==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20230601; t=1751917228; x=1752522028;
 h=cc:to:in-reply-to:references:message-id:content-transfer-encoding
 :mime-version:subject:date:from:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=1iVQ6bKqS6tlkEMYwV2tb7Ig9DctaY0XwRDl3SbZqrg=;
 b=PnFZklB8VoWbL2WWgxqNVTQonhVOzmquc1OQ7UFW8xBtN9gVyeM73jAF0rgjHOJZ5Q
 XKEJ9J0I9+eh+aJb7rMekjJynLxbP/0fyc5PLcU2lSo47o+moFjakg9pUruMKMbUy7fr
 QP5vo1VZNVQzJ1SVO0oAN1incE3FNRWyfjSjxQJjJ/ERTHjR1u4cdYXnHKjPKEe8C3bS
 OSd79CVIaSq1NewKh2cISOOUKDZRYX9haXe6KqPSi5hPDCw4O6tLNh82oguzYq4kWoL5
 Jt0r6UnHn5kT5iRloiXzQHNu9PjJc7K+GjIFqT8D6FUvsMX8Jqk469Uwc19Ws53urasR
 kuqg==
X-Gm-Message-State: AOJu0YwuzvU2ZzjU2V7BedoeGWpuUxXd91mLjp0He2Yj2ZKWsWNS30aA
 yvYaiYE6xSlTQ8l+3cIVaQ4DjmZeMt+GSqbyeEHIl9c4473alChHvUS9JdPx3l7R7W8=
X-Gm-Gg: ASbGncsByOUZ3QrEXPWlIpXCuEpXilDjOPpYhFwHGJ1+z5yYqyBpi3Z2egwt7yrwkKU
 EYbAH/eY/ftMJM3309OuufD2TDvlkmp4k8EPfkPy7NdAFyU0c4MNsyUQuMmkXzSuBAgRQpaiiUD
 cnw+f6NDSejxb9VMq/hN8MlpYFsqJzJKuD4iQhlXKgP6LdAOIN+1ANowKG7lyRFGwE3fZJTeOZk
 KVP3dr4bthIi17IjY4LTPgg2heDIdOWdSrWUlBM7rk/WYZ9T30bZIcE2sineEOB6jqf4+T5wqtz
 L8iUTUCQRb8dc/09YtWAuXYSwVAnskQ8TxJAcDKF55UexjV4l6bu7ewiccsk
X-Google-Smtp-Source: AGHT+IF7xOlmbBsIw5+pwS6eFgZROYVSD1sRxNmf4MtY9ffybUPURwg2Z4cKdetSchIJikEswi825Q==
X-Received: by 2002:a05:6000:26d1:b0:3a5:2beb:7493 with SMTP id
 ffacd0b85a97d-3b5dde90d6dmr73751f8f.9.1751917227958; 
 Mon, 07 Jul 2025 12:40:27 -0700 (PDT)
Received: from localhost ([177.45.162.214])
 by smtp.gmail.com with UTF8SMTPSA id
 af79cd13be357-7d5dbdb38d9sm659560385a.26.2025.07.07.12.40.27
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 07 Jul 2025 12:40:27 -0700 (PDT)
Date: Mon, 07 Jul 2025 16:40:14 -0300
MIME-Version: 1.0
Message-Id: <20250707-conversions-munmap-v5-3-f273ec86e50f@suse.com>
References: <20250707-conversions-munmap-v5-0-f273ec86e50f@suse.com>
In-Reply-To: <20250707-conversions-munmap-v5-0-f273ec86e50f@suse.com>
To: Linux Test Project <ltp@lists.linux.it>
X-Mailer: b4 0.14.2
X-Developer-Signature: v=1; a=openpgp-sha256; l=6653; i=rbm@suse.com;
 h=from:subject:message-id; bh=D+nD2YEV4NHOCvAWJk2dSV4bT82hwAjI09UgHxdZ16E=;
 b=owEBbQKS/ZANAwAIAckLinxjhlimAcsmYgBobCKdPzBfT0lvb145lxKJ3M+BTirH9+6uJJ4M9
 GTJmXqxglGJAjMEAAEIAB0WIQQDCo6eQk7jwGVXh+HJC4p8Y4ZYpgUCaGwinQAKCRDJC4p8Y4ZY
 pjqKEACGVG1RkD3b35wjIUNOng8dB54qsQ4PS6x+aZuL3UASo6S7WT2thtLiZ5GsSrdDcDBxF4D
 DF0J1esIR4N5dvOKXcY9vWUb/sheVeZBAUr88DCfkWo/MDTO6z3XQdImKtv13ovFgIWOJRypOGs
 BYMJ/wPMjOuCso9qRoiPSvxlHVnkd96XmUT7+44ASGvrRpYRzyExztfVs+EPCdNGZp/a+gTpY79
 kLA1sZZnfxzR/RABURBZVv1eT93h62G7eRuYTuDVMcbULTNba8IFJEzcOmmaklmOT0gpmG++kQQ
 /S61klwM/YIGIo6MRkYy/RNpzCLSVcMhzQurG/sv1sSb1lSJcL7bcIJywVTgu79kZHKslmlOMxU
 m/qe4cvoSVNH3A4RGQ17yyOAiGOJXDH0d/URNGTUAMqbXbOLOeF1/aUZHYHmmqYpPKwZ/jxBK5U
 DZd0a066N87JdqYMWogtJgE8F+G7MHNSN1ucDn+4CKh4ZY89ZzECvHfwmCpx1mf10VQ1RovAYWD
 aK6ARAbrV7EpqNMu75+1jjMX+g/bg/vI+jujNmue2ZOT3+fLvE7WJpZBfrTMTe4oLv9Qt6f+Ena
 KZ8ud84Tk+v162qYU06WNeQ52yDpHT818xkecmVoxtpXs4hxhxJ20aYx7/C/vFAZk7JLAaTyFZT
 SVGixNZjePHkFOg==
X-Developer-Key: i=rbm@suse.com; a=openpgp;
 fpr=030A8E9E424EE3C0655787E1C90B8A7C638658A6
X-Spam-Status: No, score=0.1 required=7.0 tests=DKIM_SIGNED,DKIM_VALID,
 DKIM_VALID_AU,DKIM_VALID_EF,SPF_HELO_NONE,SPF_PASS shortcircuit=no
 autolearn=disabled version=4.0.1
X-Spam-Checker-Version: SpamAssassin 4.0.1 (2024-03-25) on in-3.smtp.seeweb.it
X-Virus-Scanned: clamav-milter 1.0.7 at in-3.smtp.seeweb.it
X-Virus-Status: Clean
Subject: [LTP] [PATCH v5 3/3] syscalls: munmap03: Convert to new API
X-BeenThere: ltp@lists.linux.it
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Linux Test Project <ltp.lists.linux.it>
List-Unsubscribe: <https://lists.linux.it/options/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=unsubscribe>
List-Archive: <http://lists.linux.it/pipermail/ltp/>
List-Post: <mailto:ltp@lists.linux.it>
List-Help: <mailto:ltp-request@lists.linux.it?subject=help>
List-Subscribe: <https://lists.linux.it/listinfo/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=subscribe>
From: =?utf-8?q?Ricardo_B=2E_Marli=C3=A8re_via_ltp?= <ltp@lists.linux.it>
Reply-To: =?utf-8?B?UmljYXJkbyBCLiBNYXJsacOocmU=?= <rbm@suse.com>
Cc: =?utf-8?q?Ricardo_B=2E_Marli=C3=A8re?= <rbm@suse.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it
Sender: "ltp" <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>

RnJvbTogUmljYXJkbyBCLiBNYXJsacOocmUgPHJibUBzdXNlLmNvbT4KClJldmlld2VkLWJ5OiBM
aSBXYW5nIDxsaXdhbmdAcmVkaGF0LmNvbT4KUmV2aWV3ZWQtYnk6IEFuZHJlYSBDZXJ2ZXNhdG8g
PGFuZHJlYS5jZXJ2ZXNhdG9Ac3VzZS5jb20+ClNpZ25lZC1vZmYtYnk6IFJpY2FyZG8gQi4gTWFy
bGnDqHJlIDxyYm1Ac3VzZS5jb20+Ci0tLQogdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9tdW5t
YXAvbXVubWFwMDEuYyB8ICAxMyArKy0KIHRlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvbXVubWFw
L211bm1hcDAzLmMgfCAxNjkgKysrKysrKystLS0tLS0tLS0tLS0tLS0tLS0tLQogMiBmaWxlcyBj
aGFuZ2VkLCA1MiBpbnNlcnRpb25zKCspLCAxMzAgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEv
dGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9tdW5tYXAvbXVubWFwMDEuYyBiL3Rlc3RjYXNlcy9r
ZXJuZWwvc3lzY2FsbHMvbXVubWFwL211bm1hcDAxLmMKaW5kZXggYjJhZWNhNTNhMTEwYzMyOTdl
MGFlYmFjNWZiZWNmMjE5ZjI3MmNiYi4uODI2MDAxYzhiMTU0NzMxYzgzYmNkNGM0NGUyMzYwMTQ1
MjY0NTQyMyAxMDA2NDQKLS0tIGEvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9tdW5tYXAvbXVu
bWFwMDEuYworKysgYi90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL211bm1hcC9tdW5tYXAwMS5j
CkBAIC04MiwxMSArODIsMTQgQEAgc3RhdGljIHZvaWQgc2V0dXAodm9pZCkKIAogc3RhdGljIHZv
aWQgY2xlYW51cCh2b2lkKQogewotCWxvbmcgbGVuOwotCi0JaWYgKG1hcF9iYXNlKSB7Ci0JCWxl
biA9IHRzdF92YXJpYW50ID8gcGFnZV9zeiA6IG1hcF9sZW47Ci0JCVNBRkVfTVVOTUFQKG1hcF9i
YXNlLCBsZW4pOworCWlmICh0c3RfdmFyaWFudCkgeworCQlpZiAobWFwX2FkZHIpCisJCQlTQUZF
X01VTk1BUChtYXBfYmFzZSwgbWFwX2xlbl9mdWxsKTsKKwkJZWxzZSBpZiAobWFwX2Jhc2UpCisJ
CQlTQUZFX01VTk1BUChtYXBfYmFzZSwgcGFnZV9zeik7CisJfSBlbHNlIHsKKwkJaWYgKG1hcF9h
ZGRyKQorCQkJU0FGRV9NVU5NQVAobWFwX2FkZHIsIG1hcF9sZW4pOwogCX0KIAlpZiAoZmQgIT0g
LTEpCiAJCVNBRkVfQ0xPU0UoZmQpOwpkaWZmIC0tZ2l0IGEvdGVzdGNhc2VzL2tlcm5lbC9zeXNj
YWxscy9tdW5tYXAvbXVubWFwMDMuYyBiL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvbXVubWFw
L211bm1hcDAzLmMKaW5kZXggNjBiY2I5M2IwZTM1OWI1NzkyOTRkNjc0NWUxZTcyOTM0MGMwZDky
ZS4uYmU2MDdlNzZhNTM5ZTcxMGU4Zjg1YmQ2MDgwYTI4NGM5MDBkMjRlMiAxMDA2NDQKLS0tIGEv
dGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9tdW5tYXAvbXVubWFwMDMuYworKysgYi90ZXN0Y2Fz
ZXMva2VybmVsL3N5c2NhbGxzL211bm1hcC9tdW5tYXAwMy5jCkBAIC0xLDE0OCArMSw2NyBAQAor
Ly8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb3ItbGF0ZXIKIC8qCi0gKgotICog
ICBDb3B5cmlnaHQgKGMpIEludGVybmF0aW9uYWwgQnVzaW5lc3MgTWFjaGluZXMgIENvcnAuLCAy
MDAxCi0gKgotICogICBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTsgIHlvdSBjYW4gcmVk
aXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkKLSAqICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRo
ZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKLSAqICAgdGhlIEZy
ZWUgU29mdHdhcmUgRm91bmRhdGlvbjsgZWl0aGVyIHZlcnNpb24gMiBvZiB0aGUgTGljZW5zZSwg
b3IKLSAqICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KLSAqCi0gKiAgIFRo
aXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNl
ZnVsLAotICogICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7ICB3aXRob3V0IGV2ZW4gdGhlIGlt
cGxpZWQgd2FycmFudHkgb2YKLSAqICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEg
UEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlCi0gKiAgIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGlj
ZW5zZSBmb3IgbW9yZSBkZXRhaWxzLgotICoKLSAqICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVk
IGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKLSAqICAgYWxvbmcgd2l0
aCB0aGlzIHByb2dyYW07ICBpZiBub3QsIHdyaXRlIHRvIHRoZSBGcmVlIFNvZnR3YXJlCi0gKiAg
IEZvdW5kYXRpb24sIEluYy4sIDUxIEZyYW5rbGluIFN0cmVldCwgRmlmdGggRmxvb3IsIEJvc3Rv
biwgTUEgMDIxMTAtMTMwMSBVU0EKKyAqIENvcHlyaWdodCAoYykgSW50ZXJuYXRpb25hbCBCdXNp
bmVzcyBNYWNoaW5lcyAgQ29ycC4sIDIwMDEKKyAqCTA3LzIwMDEgUG9ydGVkIGJ5IFdheW5lIEJv
eWVyCisgKiBDb3B5cmlnaHQgKGMpIDIwMjUgU1VTRSBMTEMgUmljYXJkbyBCLiBNYXJsacOocmUg
PHJibUBzdXNlLmNvbT4KICAqLwogCi0vKgotICogVGVzdCBEZXNjcmlwdGlvbjoKLSAqICBWZXJp
ZnkgdGhhdCwKLSAqICAgMS4gbXVubWFwKCkgZmFpbHMgd2l0aCAtMSByZXR1cm4gdmFsdWUgYW5k
IHNldHMgZXJybm8gdG8gRUlOVkFMCi0gKiAgICAgIGlmIGFkZHJlc3NlcyBpbiB0aGUgcmFuZ2Ug
W2FkZHIsYWRkcitsZW4pIGFyZSBvdXRzaWRlIHRoZSB2YWxpZAotICoJcmFuZ2UgZm9yIHRoZSBh
ZGRyZXNzIHNwYWNlIG9mIGEgcHJvY2Vzcy4KLSAqICAgMi4gbXVubWFwKCkgZmFpbHMgd2l0aCAt
MSByZXR1cm4gdmFsdWUgYW5kIHNldHMgZXJybm8gdG8gRUlOVkFMCi0gKiAgICAgIGlmIHRoZSBs
ZW4gYXJndW1lbnQgaXMgMC4KLSAqICAgMy4gbXVubWFwKCkgZmFpbHMgd2l0aCAtMSByZXR1cm4g
dmFsdWUgYW5kIHNldHMgZXJybm8gdG8gRUlOVkFMCi0gKiAgICAgIGlmIHRoZSBhZGRyIGFyZ3Vt
ZW50IGlzIG5vdCBhIG11bHRpcGxlIG9mIHRoZSBwYWdlIHNpemUgYXMKLSAqICAgICAgcmV0dXJu
ZWQgYnkgc3lzY29uZigpLgorLypcCisgKiBWZXJpZnkgdGhhdCwgbXVubWFwKCkgZmFpbHMgd2l0
aCBlcnJubzoKICAqCi0gKiBISVNUT1JZCi0gKgkwNy8yMDAxIFBvcnRlZCBieSBXYXluZSBCb3ll
cgorICogLSBFSU5WQUwsIGlmIGFkZHJlc3NlcyBpbiB0aGUgcmFuZ2UgW2FkZHIsYWRkcitsZW4p
IGFyZSBvdXRzaWRlIHRoZSB2YWxpZAorICogICByYW5nZSBmb3IgdGhlIGFkZHJlc3Mgc3BhY2Ug
b2YgYSBwcm9jZXNzLgorICogLSBFSU5WQUwsIGlmIHRoZSBsZW4gYXJndW1lbnQgaXMgMC4KKyAq
IC0gRUlOVkFMLCBpZiB0aGUgYWRkciBhcmd1bWVudCBpcyBub3QgYSBtdWx0aXBsZSBvZiB0aGUg
cGFnZSBzaXplIGFzCisgKiAgIHJldHVybmVkIGJ5IHN5c2NvbmYoKS4KICAqLwogCi0jaW5jbHVk
ZSA8ZXJybm8uaD4KLSNpbmNsdWRlIDx1bmlzdGQuaD4KLSNpbmNsdWRlIDxmY250bC5oPgotI2lu
Y2x1ZGUgPHN5cy9tbWFuLmg+Ci0jaW5jbHVkZSA8c3lzL3Jlc291cmNlLmg+Ci0jaW5jbHVkZSA8
c3lzL3N0YXQuaD4KLQotI2luY2x1ZGUgInRlc3QuaCIKLSNpbmNsdWRlICJzYWZlX21hY3Jvcy5o
IgotCi1jaGFyICpUQ0lEID0gIm11bm1hcDAzIjsKKyNpbmNsdWRlICJ0c3RfdGVzdC5oIgogCiBz
dGF0aWMgc2l6ZV90IHBhZ2Vfc3o7Ci1zdGF0aWMgY2hhciAqZ2xvYmFsX2FkZHI7Ci1zdGF0aWMg
c2l6ZV90IGdsb2JhbF9tYXBsZW47Ci0KLXN0YXRpYyB2b2lkIHNldHVwKHZvaWQpOwotc3RhdGlj
IHZvaWQgY2xlYW51cCh2b2lkKTsKLQotc3RhdGljIHZvaWQgdGVzdF9laW52YWwxKHZvaWQpOwot
c3RhdGljIHZvaWQgdGVzdF9laW52YWwyKHZvaWQpOwotc3RhdGljIHZvaWQgdGVzdF9laW52YWwz
KHZvaWQpOwotc3RhdGljIHZvaWQgKCp0ZXN0ZnVuY1tdKSh2b2lkKSA9IHsgdGVzdF9laW52YWwx
LCB0ZXN0X2VpbnZhbDIsIHRlc3RfZWludmFsMyB9OwotaW50IFRTVF9UT1RBTCA9IEFSUkFZX1NJ
WkUodGVzdGZ1bmMpOwotCi1pbnQgbWFpbihpbnQgYWMsIGNoYXIgKiphdikKK3N0YXRpYyBjaGFy
ICptYXBfYWRkcjsKK3N0YXRpYyBjaGFyICptYXBfYWRkcl9vdXQ7CitzdGF0aWMgc2l6ZV90IG1h
cF9sZW47CitzdGF0aWMgc2l6ZV90IG1hcF9sZW5femVybzsKKworc3RhdGljIHN0cnVjdCB0Y2Fz
ZSB7CisJaW50IGV4cF9lcnJubzsKKwljaGFyICoqYWRkcjsKKwlzaXplX3QgKmxlbjsKK30gdGNh
c2VzW10gPSB7CisJeyBFSU5WQUwsICZtYXBfYWRkcl9vdXQsICZtYXBfbGVuIH0sCisJeyBFSU5W
QUwsICZtYXBfYWRkciwgJm1hcF9sZW5femVybyB9LAorCXsgRUlOVkFMLCAmbWFwX2FkZHIgKyAx
LCAmbWFwX2xlbiB9LAorfTsKKworc3RhdGljIHZvaWQgcnVuKHVuc2lnbmVkIGludCBpKQogewot
CWludCBpLCBsYzsKLQotCXRzdF9wYXJzZV9vcHRzKGFjLCBhdiwgTlVMTCwgTlVMTCk7Ci0KLQlz
ZXR1cCgpOwotCi0JZm9yIChsYyA9IDA7IFRFU1RfTE9PUElORyhsYyk7IGxjKyspIHsKLQkJdHN0
X2NvdW50ID0gMDsKKwlzdHJ1Y3QgdGNhc2UgKnRjID0gJnRjYXNlc1tpXTsKIAotCQlmb3IgKGkg
PSAwOyBpIDwgVFNUX1RPVEFMOyBpKyspCi0JCQkoKnRlc3RmdW5jW2ldKSgpOwotCX0KLQotCWNs
ZWFudXAoKTsKLQl0c3RfZXhpdCgpOworCVRTVF9FWFBfRkFJTChtdW5tYXAodGMtPmFkZHIsICp0
Yy0+bGVuKSwgdGMtPmV4cF9lcnJubyk7CiB9CiAKIHN0YXRpYyB2b2lkIHNldHVwKHZvaWQpCi17
Ci0JdHN0X3NpZyhOT0ZPUkssIERFRl9IQU5ETEVSLCBjbGVhbnVwKTsKLQotCVRFU1RfUEFVU0U7
Ci0KLQlwYWdlX3N6ID0gKHNpemVfdClzeXNjb25mKF9TQ19QQUdFU0laRSk7Ci0KLQlnbG9iYWxf
bWFwbGVuID0gcGFnZV9zeiAqIDI7Ci0JZ2xvYmFsX2FkZHIgPSBTQUZFX01NQVAoY2xlYW51cCwg
TlVMTCwgZ2xvYmFsX21hcGxlbiwgUFJPVF9SRUFEIHwKLQkJCQlQUk9UX1dSSVRFLCBNQVBfUFJJ
VkFURSB8IE1BUF9BTk9OWU1PVVMsIC0xLCAwKTsKLX0KLQotc3RhdGljIHZvaWQgY2hlY2tfYW5k
X3ByaW50KGludCBleHBlY3RlZF9lcnJubykKLXsKLQlpZiAoVEVTVF9SRVRVUk4gPT0gLTEpIHsK
LQkJaWYgKFRFU1RfRVJSTk8gPT0gZXhwZWN0ZWRfZXJybm8pIHsKLQkJCXRzdF9yZXNtKFRQQVNT
IHwgVFRFUlJOTywgImZhaWxlZCBhcyBleHBlY3RlZCIpOwotCQl9IGVsc2UgewotCQkJdHN0X3Jl
c20oVEZBSUwgfCBUVEVSUk5PLAotCQkJCSAiZmFpbGVkIHVuZXhwZWN0ZWRseTsgZXhwZWN0ZWQg
LSAlZCA6ICVzIiwKLQkJCQkgZXhwZWN0ZWRfZXJybm8sIHN0cmVycm9yKGV4cGVjdGVkX2Vycm5v
KSk7Ci0JCX0KLQl9IGVsc2UgewotCQl0c3RfcmVzbShURkFJTCwgIm11bm1hcCBzdWNjZWVkZWQg
dW5leHBlY3RlZGx5Iik7Ci0JfQotfQotCi1zdGF0aWMgdm9pZCB0ZXN0X2VpbnZhbDEodm9pZCkK
IHsKIAlzdHJ1Y3QgcmxpbWl0IGJya3ZhbDsKLQljaGFyICphZGRyOwotCXNpemVfdCBtYXBfbGVu
OwotCi0JU0FGRV9HRVRSTElNSVQoY2xlYW51cCwgUkxJTUlUX0RBVEEsICZicmt2YWwpOwogCi0J
YWRkciA9IChjaGFyICopYnJrdmFsLnJsaW1fbWF4OworCXBhZ2Vfc3ogPSBTQUZFX1NZU0NPTkYo
X1NDX1BBR0VTSVpFKTsKIAltYXBfbGVuID0gcGFnZV9zeiAqIDI7CisJbWFwX2FkZHIgPSBTQUZF
X01NQVAoTlVMTCwgbWFwX2xlbiwgUFJPVF9SRUFEIHwgUFJPVF9XUklURSwKKwkJCSAgICAgTUFQ
X1BSSVZBVEUgfCBNQVBfQU5PTllNT1VTLCAtMSwgMCk7CiAKLQlURVNUKG11bm1hcChhZGRyLCBt
YXBfbGVuKSk7Ci0KLQljaGVja19hbmRfcHJpbnQoRUlOVkFMKTsKLX0KLQotc3RhdGljIHZvaWQg
dGVzdF9laW52YWwyKHZvaWQpCi17Ci0JY2hhciAqYWRkciA9IGdsb2JhbF9hZGRyOwotCXNpemVf
dCBtYXBfbGVuID0gMDsKLQotCVRFU1QobXVubWFwKGFkZHIsIG1hcF9sZW4pKTsKLQotCWNoZWNr
X2FuZF9wcmludChFSU5WQUwpOwotfQotCi1zdGF0aWMgdm9pZCB0ZXN0X2VpbnZhbDModm9pZCkK
LXsKLQljaGFyICphZGRyID0gKGNoYXIgKikoZ2xvYmFsX2FkZHIgKyAxKTsKLQlzaXplX3QgbWFw
X2xlbiA9IHBhZ2Vfc3o7Ci0KLQlURVNUKG11bm1hcChhZGRyLCBtYXBfbGVuKSk7Ci0KLQljaGVj
a19hbmRfcHJpbnQoRUlOVkFMKTsKKwlTQUZFX0dFVFJMSU1JVChSTElNSVRfREFUQSwgJmJya3Zh
bCk7CisJbWFwX2FkZHJfb3V0ID0gKGNoYXIgKilicmt2YWwucmxpbV9tYXg7CiB9CiAKIHN0YXRp
YyB2b2lkIGNsZWFudXAodm9pZCkKIHsKLQlpZiAobXVubWFwKGdsb2JhbF9hZGRyLCBnbG9iYWxf
bWFwbGVuKSA9PSAtMSkKLQkJdHN0X3Jlc20oVFdBUk4gfCBURVJSTk8sICJtdW5tYXAgZmFpbGVk
Iik7CisJaWYgKG1hcF9hZGRyKQorCQlTQUZFX01VTk1BUChtYXBfYWRkciwgbWFwX2xlbik7CiB9
CisKK3N0YXRpYyBzdHJ1Y3QgdHN0X3Rlc3QgdGVzdCA9IHsKKwkudGVzdCA9IHJ1biwKKwkudGNu
dCA9IEFSUkFZX1NJWkUodGNhc2VzKSwKKwkuc2V0dXAgPSBzZXR1cCwKKwkuY2xlYW51cCA9IGNs
ZWFudXAsCit9OwoKLS0gCjIuNTAuMAoKCi0tIApNYWlsaW5nIGxpc3QgaW5mbzogaHR0cHM6Ly9s
aXN0cy5saW51eC5pdC9saXN0aW5mby9sdHAK
