Return-Path: <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>
X-Original-To: lists+linux-ltp@lfdr.de
Delivered-To: lists+linux-ltp@lfdr.de
Received: from picard.linux.it (picard.linux.it [IPv6:2001:1418:10:5::2])
	by mail.lfdr.de (Postfix) with ESMTPS id EB6812A450
	for <lists+linux-ltp@lfdr.de>; Sat, 25 May 2019 14:03:40 +0200 (CEST)
Received: from picard.linux.it (localhost [IPv6:::1])
	by picard.linux.it (Postfix) with ESMTP id BB63F29879E
	for <lists+linux-ltp@lfdr.de>; Sat, 25 May 2019 14:03:40 +0200 (CEST)
X-Original-To: ltp@lists.linux.it
Delivered-To: ltp@picard.linux.it
Received: from in-4.smtp.seeweb.it (in-4.smtp.seeweb.it [217.194.8.4])
 by picard.linux.it (Postfix) with ESMTP id 245B73EA1C0
 for <ltp@lists.linux.it>; Sat, 25 May 2019 14:03:31 +0200 (CEST)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by in-4.smtp.seeweb.it (Postfix) with ESMTPS id 7D90710000EB
 for <ltp@lists.linux.it>; Sat, 25 May 2019 14:03:26 +0200 (CEST)
Received: from smtp.corp.redhat.com (int-mx07.intmail.prod.int.phx2.redhat.com
 [10.5.11.22])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 33D5E7FDCC;
 Sat, 25 May 2019 12:03:28 +0000 (UTC)
Received: from localhost (dhcp-12-130.nay.redhat.com [10.66.12.130])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 9D83C100200D;
 Sat, 25 May 2019 12:03:27 +0000 (UTC)
From: Murphy Zhou <xzhou@redhat.com>
To: pvorel@suse.cz
Date: Sat, 25 May 2019 19:51:12 +0800
Message-Id: <20190525115112.15399-2-xzhou@redhat.com>
In-Reply-To: <20190525115112.15399-1-xzhou@redhat.com>
References: <20190524122357.GA28108@dell5510>
 <20190525115112.15399-1-xzhou@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.84 on 10.5.11.22
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.27]); Sat, 25 May 2019 12:03:28 +0000 (UTC)
X-Virus-Scanned: clamav-milter 0.99.2 at in-4.smtp.seeweb.it
X-Virus-Status: Clean
X-Spam-Status: No, score=-0.0 required=7.0 tests=SPF_HELO_PASS,SPF_PASS
 autolearn=disabled version=3.4.0
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on in-4.smtp.seeweb.it
Cc: ltp@lists.linux.it
Subject: [LTP] [PATCH v4 2/2] OVL_MNT: setup overlayfs dirs and mount in a
	separated mountpoint
X-BeenThere: ltp@lists.linux.it
X-Mailman-Version: 2.1.18
Precedence: list
List-Id: Linux Test Project <ltp.lists.linux.it>
List-Unsubscribe: <https://lists.linux.it/options/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=unsubscribe>
List-Archive: <http://lists.linux.it/pipermail/ltp/>
List-Post: <mailto:ltp@lists.linux.it>
List-Help: <mailto:ltp-request@lists.linux.it?subject=help>
List-Subscribe: <https://lists.linux.it/listinfo/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it
Sender: "ltp" <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>

U29tZSB0ZXN0cyBhcmUgbW91bnRpbmcgb3ZlcmxheWZzIGludGVybmFsbHkgYW5kIHJ1biB0ZXN0
cyBvbiBpdC4KVGhpcyBtb3VudCBjYW4gZmFpbCBpZiB0aGUgZmlsZXN5c3RlbSB3ZSBhcmUgcnVu
bmluZyBvbiBkb2VzIG5vdApzdXBwb3J0IG92ZXJsYXkgbW91bnQgdXBvbiBpdC4gRm9yIGV4YW1w
bGUsIHdlIGFyZSBhbHJlYWR5IHJ1bm5pbmcKdGVzdHMgb24gb3ZlcmxheWZzIG9yIE5GUywgb3Ig
Q0lGUy4gVGVzdCB3aWxsIHJlcG9ydCBicm9rZW4gYW5kCmZhaWx1cmUuCgpGaXhpbmcgdGhpcyBi
eSBwdXQgb3ZlcmxheWZzIGRpcnMgaW4gYSBzZXBhcmF0ZWQgbW91bnRwb2ludCwgbGlrZSBpbgpy
ZWFkYWhlYWQwMiBieSBBbWlyLgoKU3VnZ2VzdGVkLWJ5OiBQZXRyIFZvcmVsIDxwdm9yZWxAc3Vz
ZS5jej4KU3VnZ2VzdGVkLWJ5OiBBbWlyIEdvbGRzdGVpbiA8YW1pcjczaWxAZ21haWwuY29tPgpT
aWduZWQtb2ZmLWJ5OiBNdXJwaHkgWmhvdSA8eHpob3VAcmVkaGF0LmNvbT4KLS0tCiAuLi4va2Vy
bmVsL3N5c2NhbGxzL2V4ZWN2ZWF0L2V4ZWN2ZWF0MDMuYyAgICAgfCAyMyArKysrLS0tLS0tLS0t
CiB0ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2lub3RpZnkvaW5vdGlmeTA3LmMgfCAyNyArKysr
LS0tLS0tLS0tLS0KIHRlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDgu
YyB8IDI5ICsrKysrLS0tLS0tLS0tLS0KIC4uLi9rZXJuZWwvc3lzY2FsbHMvcmVhZGFoZWFkL3Jl
YWRhaGVhZDAyLmMgICB8IDM0ICsrKy0tLS0tLS0tLS0tLS0tLS0KIDQgZmlsZXMgY2hhbmdlZCwg
MjYgaW5zZXJ0aW9ucygrKSwgODcgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvdGVzdGNhc2Vz
L2tlcm5lbC9zeXNjYWxscy9leGVjdmVhdC9leGVjdmVhdDAzLmMgYi90ZXN0Y2FzZXMva2VybmVs
L3N5c2NhbGxzL2V4ZWN2ZWF0L2V4ZWN2ZWF0MDMuYwppbmRleCBkZWYzMzkyM2IuLjQ0NmZmNGYx
ZCAxMDA2NDQKLS0tIGEvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9leGVjdmVhdC9leGVjdmVh
dDAzLmMKKysrIGIvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9leGVjdmVhdC9leGVjdmVhdDAz
LmMKQEAgLTU1LDEwICs1NSwxMSBAQAogI2luY2x1ZGUgImxhcGkvZmNudGwuaCIKICNpbmNsdWRl
ICJleGVjdmVhdC5oIgogCi0jZGVmaW5lIE9WTF9NTlQgIm92bCIKICNkZWZpbmUgVEVTVF9BUFAg
ImV4ZWN2ZWF0X2NoaWxkIgogI2RlZmluZSBURVNUX0ZJTEVfUEFUSCBPVkxfTU5UIi8iVEVTVF9B
UFAKIAorc3RhdGljIGNvbnN0IGNoYXIgbW50cG9pbnRbXSA9IE9WTF9CQVNFX01OVFBPSU5UOwor
CiBzdGF0aWMgaW50IG92bF9tb3VudGVkOwogCiBzdGF0aWMgdm9pZCBkb19jaGlsZCh2b2lkKQpA
QCAtODYsMjQgKzg3LDEwIEBAIHN0YXRpYyB2b2lkIHZlcmlmeV9leGVjdmVhdCh2b2lkKQogCiBz
dGF0aWMgdm9pZCBzZXR1cCh2b2lkKQogewotCWludCByZXQ7Ci0KIAljaGVja19leGVjdmVhdCgp
OwogCi0JLyogU2V0dXAgYW4gb3ZlcmxheSBtb3VudCB3aXRoIGxvd2VyIGZpbGUgKi8KLQlTQUZF
X01LRElSKCJsb3dlciIsIDA3NTUpOwotCVNBRkVfTUtESVIoInVwcGVyIiwgMDc1NSk7Ci0JU0FG
RV9NS0RJUigid29yayIsIDA3NTUpOwotCVNBRkVfTUtESVIoT1ZMX01OVCwgMDc1NSk7Ci0JcmV0
ID0gbW91bnQoIm92ZXJsYXkiLCBPVkxfTU5ULCAib3ZlcmxheSIsIDAsCi0JCSAgICAibG93ZXJk
aXI9bG93ZXIsdXBwZXJkaXI9dXBwZXIsd29ya2Rpcj13b3JrIik7Ci0JaWYgKHJldCA8IDApIHsK
LQkJaWYgKGVycm5vID09IEVOT0RFVikgewotCQkJdHN0X2JyayhUQ09ORiwKLQkJCQkib3Zlcmxh
eWZzIGlzIG5vdCBjb25maWd1cmVkIGluIHRoaXMga2VybmVsLiIpOwotCQl9Ci0JCXRzdF9icmso
VEJST0sgfCBURVJSTk8sICJvdmVybGF5ZnMgbW91bnQgZmFpbGVkIik7Ci0JfQorCWNyZWF0ZV9v
dmVybGF5X2RpcnMoKTsKKwlTQUZFX01PVU5UX09WRVJMQVkoKTsKIAlvdmxfbW91bnRlZCA9IDE7
CiB9CiAKQEAgLTEyMSw2ICsxMDgsOCBAQCBzdGF0aWMgY29uc3QgY2hhciAqY29uc3QgcmVzb3Vy
Y2VfZmlsZXNbXSA9IHsKIHN0YXRpYyBzdHJ1Y3QgdHN0X3Rlc3QgdGVzdCA9IHsKIAkubmVlZHNf
cm9vdCA9IDEsCiAJLm5lZWRzX3RtcGRpciA9IDEsCisJLm1vdW50X2RldmljZSA9IDEsCisJLm1u
dHBvaW50ID0gbW50cG9pbnQsCiAJLmZvcmtzX2NoaWxkID0gMSwKIAkuY2hpbGRfbmVlZHNfcmVp
bml0ID0gMSwKIAkuc2V0dXAgPSBzZXR1cCwKZGlmZiAtLWdpdCBhL3Rlc3RjYXNlcy9rZXJuZWwv
c3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDcuYyBiL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMv
aW5vdGlmeS9pbm90aWZ5MDcuYwppbmRleCA5NjM3MGI1Y2YuLjdkNmFiYTUxZiAxMDA2NDQKLS0t
IGEvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9pbm90aWZ5L2lub3RpZnkwNy5jCisrKyBiL3Rl
c3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDcuYwpAQCAtNzMsMTMgKzcz
LDEzIEBAIHN0cnVjdCBldmVudF90IHsKIAl1bnNpZ25lZCBpbnQgbWFzazsKIH07CiAKLSNkZWZp
bmUgT1ZMX01OVCAib3ZsIgogI2RlZmluZSBESVJfTkFNRSAidGVzdF9kaXIiCiAjZGVmaW5lIERJ
Ul9QQVRIIE9WTF9NTlQiLyJESVJfTkFNRQogI2RlZmluZSBGSUxFX05BTUUgInRlc3RfZmlsZSIK
ICNkZWZpbmUgRklMRV9QQVRIIE9WTF9NTlQiLyJESVJfTkFNRSIvIkZJTEVfTkFNRQogCiBzdGF0
aWMgaW50IG92bF9tb3VudGVkOworc3RhdGljIGNvbnN0IGNoYXIgbW50cG9pbnRbXSA9IE9WTF9C
QVNFX01OVFBPSU5UOwogCiBzdGF0aWMgc3RydWN0IGV2ZW50X3QgZXZlbnRfc2V0W0VWRU5UX01B
WF07CiAKQEAgLTE2MSwyNiArMTYxLDEyIEBAIHZvaWQgdmVyaWZ5X2lub3RpZnkodm9pZCkKIHN0
YXRpYyB2b2lkIHNldHVwKHZvaWQpCiB7CiAJc3RydWN0IHN0YXQgYnVmOwotCWludCByZXQ7CiAK
IAkvKiBTZXR1cCBhbiBvdmVybGF5IG1vdW50IHdpdGggbG93ZXIgZGlyIGFuZCBmaWxlICovCi0J
U0FGRV9NS0RJUigibG93ZXIiLCAwNzU1KTsKLQlTQUZFX01LRElSKCJsb3dlci8iRElSX05BTUUs
IDA3NTUpOwotCVNBRkVfVE9VQ0goImxvd2VyLyJESVJfTkFNRSIvIkZJTEVfTkFNRSwgMDY0NCwg
TlVMTCk7Ci0JU0FGRV9NS0RJUigidXBwZXIiLCAwNzU1KTsKLQlTQUZFX01LRElSKCJ3b3JrIiwg
MDc1NSk7Ci0JU0FGRV9NS0RJUihPVkxfTU5ULCAwNzU1KTsKLQlyZXQgPSBtb3VudCgib3Zlcmxh
eSIsIE9WTF9NTlQsICJvdmVybGF5IiwgMCwKLQkJICAgICJsb3dlcmRpcj1sb3dlcix1cHBlcmRp
cj11cHBlcix3b3JrZGlyPXdvcmsiKTsKLQlpZiAocmV0IDwgMCkgewotCQlpZiAoZXJybm8gPT0g
RU5PREVWKSB7Ci0JCQl0c3RfYnJrKFRDT05GLAotCQkJCSJvdmVybGF5ZnMgaXMgbm90IGNvbmZp
Z3VyZWQgaW4gdGhpcyBrZXJuZWwuIik7Ci0JCX0gZWxzZSB7Ci0JCQl0c3RfYnJrKFRCUk9LIHwg
VEVSUk5PLAotCQkJCSJvdmVybGF5ZnMgbW91bnQgZmFpbGVkIik7Ci0JCX0KLQl9CisJY3JlYXRl
X292ZXJsYXlfZGlycygpOworCVNBRkVfTUtESVIoT1ZMX0xPV0VSIi8iRElSX05BTUUsIDA3NTUp
OworCVNBRkVfVE9VQ0goT1ZMX0xPV0VSIi8iRElSX05BTUUiLyJGSUxFX05BTUUsIDA2NDQsIE5V
TEwpOworCVNBRkVfTU9VTlRfT1ZFUkxBWSgpOwogCW92bF9tb3VudGVkID0gMTsKIAogCWZkX25v
dGlmeSA9IG15aW5vdGlmeV9pbml0MShPX05PTkJMT0NLKTsKQEAgLTIyMSw3ICsyMDcsNiBAQCBz
dGF0aWMgdm9pZCBjbGVhbnVwKHZvaWQpCiAJaWYgKHJlYXBfd2QgJiYgbXlpbm90aWZ5X3JtX3dh
dGNoKGZkX25vdGlmeSwgd2QpIDwgMCkgewogCQl0c3RfcmVzKFRXQVJOLAogCQkJImlub3RpZnlf
cm1fd2F0Y2ggKCVkLCAlZCkgZmFpbGVkLCIsIGZkX25vdGlmeSwgd2QpOwotCiAJfQogCiAJaWYg
KGZkX25vdGlmeSA+IDApCkBAIC0yMzQsNiArMjE5LDggQEAgc3RhdGljIHZvaWQgY2xlYW51cCh2
b2lkKQogc3RhdGljIHN0cnVjdCB0c3RfdGVzdCB0ZXN0ID0gewogCS5uZWVkc19yb290ID0gMSwK
IAkubmVlZHNfdG1wZGlyID0gMSwKKwkubW91bnRfZGV2aWNlID0gMSwKKwkubW50cG9pbnQgPSBt
bnRwb2ludCwKIAkuc2V0dXAgPSBzZXR1cCwKIAkuY2xlYW51cCA9IGNsZWFudXAsCiAJLnRlc3Rf
YWxsID0gdmVyaWZ5X2lub3RpZnksCmRpZmYgLS1naXQgYS90ZXN0Y2FzZXMva2VybmVsL3N5c2Nh
bGxzL2lub3RpZnkvaW5vdGlmeTA4LmMgYi90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2lub3Rp
ZnkvaW5vdGlmeTA4LmMKaW5kZXggYWNkYjk1MzQ1Li45MjllZDA4ZjEgMTAwNjQ0Ci0tLSBhL3Rl
c3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDguYworKysgYi90ZXN0Y2Fz
ZXMva2VybmVsL3N5c2NhbGxzL2lub3RpZnkvaW5vdGlmeTA4LmMKQEAgLTc0LDExICs3NCwxMSBA
QCBzdHJ1Y3QgZXZlbnRfdCB7CiAJdW5zaWduZWQgaW50IG1hc2s7CiB9OwogCi0jZGVmaW5lIE9W
TF9NTlQgIm92bCIKICNkZWZpbmUgRklMRV9OQU1FICJ0ZXN0X2ZpbGUiCiAjZGVmaW5lIEZJTEVf
UEFUSCBPVkxfTU5UIi8iRklMRV9OQU1FCiAKIHN0YXRpYyBpbnQgb3ZsX21vdW50ZWQ7CitzdGF0
aWMgY29uc3QgY2hhciBtbnRwb2ludFtdID0gT1ZMX0JBU0VfTU5UUE9JTlQ7CiAKIHN0YXRpYyBz
dHJ1Y3QgZXZlbnRfdCBldmVudF9zZXRbRVZFTlRfTUFYXTsKIApAQCAtMTA0LDggKzEwNCw4IEBA
IHZvaWQgdmVyaWZ5X2lub3RpZnkodm9pZCkKIAl0ZXN0X2NudCsrOwogCiAJLyogTWFrZSBzdXJl
IGV2ZW50cyBvbiB1cHBlci9sb3dlciBkbyBub3Qgc2hvdyBpbiBvdmVybGF5IHdhdGNoICovCi0J
U0FGRV9UT1VDSCgibG93ZXIvIkZJTEVfTkFNRSwgMDY0NCwgTlVMTCk7Ci0JU0FGRV9UT1VDSCgi
dXBwZXIvIkZJTEVfTkFNRSwgMDY0NCwgTlVMTCk7CisJU0FGRV9UT1VDSChPVkxfTE9XRVIiLyJG
SUxFX05BTUUsIDA2NDQsIE5VTEwpOworCVNBRkVfVE9VQ0goT1ZMX0xPV0VSIi8iRklMRV9OQU1F
LCAwNjQ0LCBOVUxMKTsKIAogCWludCBsZW4gPSByZWFkKGZkX25vdGlmeSwgZXZlbnRfYnVmLCBF
VkVOVF9CVUZfTEVOKTsKIAlpZiAobGVuID09IC0xICYmIGVycm5vICE9IEVBR0FJTikgewpAQCAt
MTU0LDI1ICsxNTQsMTEgQEAgdm9pZCB2ZXJpZnlfaW5vdGlmeSh2b2lkKQogc3RhdGljIHZvaWQg
c2V0dXAodm9pZCkKIHsKIAlzdHJ1Y3Qgc3RhdCBidWY7Ci0JaW50IHJldDsKIAogCS8qIFNldHVw
IGFuIG92ZXJsYXkgbW91bnQgd2l0aCBsb3dlciBmaWxlICovCi0JU0FGRV9NS0RJUigibG93ZXIi
LCAwNzU1KTsKLQlTQUZFX1RPVUNIKCJsb3dlci8iRklMRV9OQU1FLCAwNjQ0LCBOVUxMKTsKLQlT
QUZFX01LRElSKCJ1cHBlciIsIDA3NTUpOwotCVNBRkVfTUtESVIoIndvcmsiLCAwNzU1KTsKLQlT
QUZFX01LRElSKE9WTF9NTlQsIDA3NTUpOwotCXJldCA9IG1vdW50KCJvdmVybGF5IiwgT1ZMX01O
VCwgIm92ZXJsYXkiLCAwLAotCQkgICAgImxvd2VyZGlyPWxvd2VyLHVwcGVyZGlyPXVwcGVyLHdv
cmtkaXI9d29yayIpOwotCWlmIChyZXQgPCAwKSB7Ci0JCWlmIChlcnJubyA9PSBFTk9ERVYpIHsK
LQkJCXRzdF9icmsoVENPTkYsCi0JCQkJIm92ZXJsYXlmcyBpcyBub3QgY29uZmlndXJlZCBpbiB0
aGlzIGtlcm5lbC4iKTsKLQkJfSBlbHNlIHsKLQkJCXRzdF9icmsoVEJST0sgfCBURVJSTk8sCi0J
CQkJIm92ZXJsYXlmcyBtb3VudCBmYWlsZWQiKTsKLQkJfQotCX0KKwljcmVhdGVfb3ZlcmxheV9k
aXJzKCk7CisJU0FGRV9UT1VDSChPVkxfTE9XRVIiLyJGSUxFX05BTUUsIDA2NDQsIE5VTEwpOwor
CVNBRkVfTU9VTlRfT1ZFUkxBWSgpOwogCW92bF9tb3VudGVkID0gMTsKIAogCWZkX25vdGlmeSA9
IG15aW5vdGlmeV9pbml0MShPX05PTkJMT0NLKTsKQEAgLTIxNyw3ICsyMDMsNiBAQCBzdGF0aWMg
dm9pZCBjbGVhbnVwKHZvaWQpCiAJaWYgKHJlYXBfd2QgJiYgbXlpbm90aWZ5X3JtX3dhdGNoKGZk
X25vdGlmeSwgd2QpIDwgMCkgewogCQl0c3RfcmVzKFRXQVJOLAogCQkJImlub3RpZnlfcm1fd2F0
Y2ggKCVkLCAlZCkgZmFpbGVkLCIsIGZkX25vdGlmeSwgd2QpOwotCiAJfQogCiAJaWYgKGZkX25v
dGlmeSA+IDApCkBAIC0yMzAsNiArMjE1LDggQEAgc3RhdGljIHZvaWQgY2xlYW51cCh2b2lkKQog
c3RhdGljIHN0cnVjdCB0c3RfdGVzdCB0ZXN0ID0gewogCS5uZWVkc19yb290ID0gMSwKIAkubmVl
ZHNfdG1wZGlyID0gMSwKKwkubW91bnRfZGV2aWNlID0gMSwKKwkubW50cG9pbnQgPSBtbnRwb2lu
dCwKIAkuc2V0dXAgPSBzZXR1cCwKIAkuY2xlYW51cCA9IGNsZWFudXAsCiAJLnRlc3RfYWxsID0g
dmVyaWZ5X2lub3RpZnksCmRpZmYgLS1naXQgYS90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL3Jl
YWRhaGVhZC9yZWFkYWhlYWQwMi5jIGIvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9yZWFkYWhl
YWQvcmVhZGFoZWFkMDIuYwppbmRleCAzOWRkYmQ1ODMuLmRiOTVjMmIwMSAxMDA2NDQKLS0tIGEv
dGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9yZWFkYWhlYWQvcmVhZGFoZWFkMDIuYworKysgYi90
ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL3JlYWRhaGVhZC9yZWFkYWhlYWQwMi5jCkBAIC00NCwx
NiArNDQsMTEgQEAgc3RhdGljIGludCBwYWdlc2l6ZTsKIHN0YXRpYyB1bnNpZ25lZCBsb25nIGNh
Y2hlZF9tYXg7CiBzdGF0aWMgaW50IG92bF9tb3VudGVkOwogCi0jZGVmaW5lIE1OVFBPSU5UICAg
ICAgICAibW50cG9pbnQiCi0jZGVmaW5lIE9WTF9MT1dFUglNTlRQT0lOVCIvbG93ZXIiCi0jZGVm
aW5lIE9WTF9VUFBFUglNTlRQT0lOVCIvdXBwZXIiCi0jZGVmaW5lIE9WTF9XT1JLCU1OVFBPSU5U
Ii93b3JrIgotI2RlZmluZSBPVkxfTU5UCQlNTlRQT0lOVCIvb3ZsIgogc3RhdGljIGludCByZWFk
YWhlYWRfbGVuZ3RoICA9IDQwOTY7CiBzdGF0aWMgY2hhciBzeXNfYmRpX3JhX3BhdGhbUEFUSF9N
QVhdOwogc3RhdGljIGludCBvcmlnX2JkaV9saW1pdDsKIAotc3RhdGljIGNvbnN0IGNoYXIgbW50
cG9pbnRbXSA9IE1OVFBPSU5UOworc3RhdGljIGNvbnN0IGNoYXIgbW50cG9pbnRbXSA9IE9WTF9C
QVNFX01OVFBPSU5UOwogCiBzdGF0aWMgc3RydWN0IHRzdF9vcHRpb24gb3B0aW9uc1tdID0gewog
CXsiczoiLCAmb3B0X2ZzaXplc3RyLCAiLXMgICAgdGVzdGZpbGUgc2l6ZSAoZGVmYXVsdCA2NE1C
KSJ9LApAQCAtMTMyLDcgKzEyNyw4IEBAIHN0YXRpYyB2b2lkIGNyZWF0ZV90ZXN0ZmlsZShpbnQg
dXNlX292ZXJsYXkpCiAJY2hhciAqdG1wOwogCXNpemVfdCBpOwogCi0Jc3ByaW50Zih0ZXN0Zmls
ZSwgIiVzL3Rlc3RmaWxlIiwgdXNlX292ZXJsYXkgPyBPVkxfTU5UIDogTU5UUE9JTlQpOworCXNw
cmludGYodGVzdGZpbGUsICIlcy90ZXN0ZmlsZSIsCisJCXVzZV9vdmVybGF5ID8gT1ZMX01OVCA6
IE9WTF9CQVNFX01OVFBPSU5UKTsKIAl0c3RfcmVzKFRJTkZPLCAiY3JlYXRpbmcgdGVzdCBmaWxl
IG9mIHNpemU6ICV6dSIsIHRlc3RmaWxlX3NpemUpOwogCXRtcCA9IFNBRkVfTUFMTE9DKHBhZ2Vz
aXplKTsKIApAQCAtMzI5LDI3ICszMjUsNiBAQCBzdGF0aWMgdm9pZCB0ZXN0X3JlYWRhaGVhZCh1
bnNpZ25lZCBpbnQgbikKIAl9CiB9CiAKLXN0YXRpYyB2b2lkIHNldHVwX292ZXJsYXkodm9pZCkK
LXsKLQlpbnQgcmV0OwotCi0JLyogU2V0dXAgYW4gb3ZlcmxheSBtb3VudCB3aXRoIGxvd2VyIGRp
ciBhbmQgZmlsZSAqLwotCVNBRkVfTUtESVIoT1ZMX0xPV0VSLCAwNzU1KTsKLQlTQUZFX01LRElS
KE9WTF9VUFBFUiwgMDc1NSk7Ci0JU0FGRV9NS0RJUihPVkxfV09SSywgMDc1NSk7Ci0JU0FGRV9N
S0RJUihPVkxfTU5ULCAwNzU1KTsKLQlyZXQgPSBtb3VudCgib3ZlcmxheSIsIE9WTF9NTlQsICJv
dmVybGF5IiwgMCwgImxvd2VyZGlyPSJPVkxfTE9XRVIKLQkJICAgICIsdXBwZXJkaXI9Ik9WTF9V
UFBFUiIsd29ya2Rpcj0iT1ZMX1dPUkspOwotCWlmIChyZXQgPCAwKSB7Ci0JCWlmIChlcnJubyA9
PSBFTk9ERVYpIHsKLQkJCXRzdF9yZXMoVElORk8sCi0JCQkJIm92ZXJsYXlmcyBpcyBub3QgY29u
ZmlndXJlZCBpbiB0aGlzIGtlcm5lbC4iKTsKLQkJCXJldHVybjsKLQkJfQotCQl0c3RfYnJrKFRC
Uk9LIHwgVEVSUk5PLCAib3ZlcmxheWZzIG1vdW50IGZhaWxlZCIpOwotCX0KLQlvdmxfbW91bnRl
ZCA9IDE7Ci19CiAKIC8qCiAgKiBXZSB0cnkgcmFpc2luZyBiZGkgcmVhZGFoZWFkIGxpbWl0IGFz
IG11Y2ggYXMgd2UgY2FuLiBXZSB3cml0ZQpAQCAtNDEzLDcgKzM4OCw4IEBAIHN0YXRpYyB2b2lk
IHNldHVwKHZvaWQpCiAJc2V0dXBfcmVhZGFoZWFkX2xlbmd0aCgpOwogCXRzdF9yZXMoVElORk8s
ICJyZWFkYWhlYWQgbGVuZ3RoOiAlZCIsIHJlYWRhaGVhZF9sZW5ndGgpOwogCi0Jc2V0dXBfb3Zl
cmxheSgpOworCWNyZWF0ZV9vdmVybGF5X2RpcnMoKTsKKwlvdmxfbW91bnRlZCA9IFRTVF9NT1VO
VF9PVkVSTEFZKCk7CiB9CiAKIHN0YXRpYyB2b2lkIGNsZWFudXAodm9pZCkKLS0gCjIuMjEuMAoK
Ci0tIApNYWlsaW5nIGxpc3QgaW5mbzogaHR0cHM6Ly9saXN0cy5saW51eC5pdC9saXN0aW5mby9s
dHAK
