Return-Path: <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>
X-Original-To: lists+linux-ltp@lfdr.de
Delivered-To: lists+linux-ltp@lfdr.de
Received: from picard.linux.it (picard.linux.it [IPv6:2001:1418:10:5::2])
	by mail.lfdr.de (Postfix) with ESMTPS id 4A4D1176D1
	for <lists+linux-ltp@lfdr.de>; Wed,  8 May 2019 13:28:33 +0200 (CEST)
Received: from picard.linux.it (localhost [IPv6:::1])
	by picard.linux.it (Postfix) with ESMTP id 2400D294AD7
	for <lists+linux-ltp@lfdr.de>; Wed,  8 May 2019 13:28:33 +0200 (CEST)
X-Original-To: ltp@lists.linux.it
Delivered-To: ltp@picard.linux.it
Received: from in-5.smtp.seeweb.it (in-5.smtp.seeweb.it
 [IPv6:2001:4b78:1:20::5])
 by picard.linux.it (Postfix) with ESMTP id B1A963EACC4
 for <ltp@lists.linux.it>; Wed,  8 May 2019 13:28:30 +0200 (CEST)
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by in-5.smtp.seeweb.it (Postfix) with ESMTPS id 3FC4C6009F2
 for <ltp@lists.linux.it>; Wed,  8 May 2019 13:28:31 +0200 (CEST)
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 10497AC3A
 for <ltp@lists.linux.it>; Wed,  8 May 2019 11:28:29 +0000 (UTC)
From: Christian Amann <camann@suse.com>
To: ltp@lists.linux.it
Date: Wed,  8 May 2019 13:28:22 +0200
Message-Id: <20190508112822.27255-1-camann@suse.com>
X-Mailer: git-send-email 2.16.4
X-Virus-Scanned: clamav-milter 0.99.2 at in-5.smtp.seeweb.it
X-Virus-Status: Clean
Subject: [LTP] [PATCH v3] syscalls/rt_sigqueueinfo01: rewrote testcase
X-BeenThere: ltp@lists.linux.it
X-Mailman-Version: 2.1.18
Precedence: list
List-Id: Linux Test Project <ltp.lists.linux.it>
List-Unsubscribe: <https://lists.linux.it/options/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=unsubscribe>
List-Archive: <http://lists.linux.it/pipermail/ltp/>
List-Post: <mailto:ltp@lists.linux.it>
List-Help: <mailto:ltp-request@lists.linux.it?subject=help>
List-Subscribe: <https://lists.linux.it/listinfo/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it
Sender: "ltp" <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>

VGhlIHByZXZpb3VzIGltcGxlbWVudGF0aW9uIG9ubHkgdGVzdGVkIGlmIHRoZSBzeXNjYWxsIGNh
bgpiZSBjYWxsZWQgYXQgYWxsLiBOb3cgaXQgYWxzbyBjaGVja3MgaWYgdGhlIGNvcnJlY3Qgc2ln
bmFsCmFuZCBkYXRhIGlzIHNlbnQgYW5kIHJlY2VpdmVkLgoKU2lnbmVkLW9mZi1ieTogQ2hyaXN0
aWFuIEFtYW5uIDxjYW1hbm5Ac3VzZS5jb20+Ci0tLQoKTm90ZXM6CiAgICBLZXB0IGhlYWRlciBm
aWxlIGluIGNhc2Ugb2YgZnV0dXJlIGFkZGl0aW9ucy4KICAgIE90aGVyIHRoYW4gdGhhdDogaW5j
bHVkZWQgYWxsIHN1Z2dlc3Rpb25zIGZyb20gdjIgb2YgdGhpcyBwYXRjaC4KICAgICsgYWRkZWQg
c29sdXRpb24gdG8gYXZvaWQgJ3RzdF9icmsoVEZBSUwsIC4uLiknCgogdGVzdGNhc2VzL2tlcm5l
bC9zeXNjYWxscy9ydF9zaWdxdWV1ZWluZm8vTWFrZWZpbGUgfCAgIDIgKwogLi4uL3N5c2NhbGxz
L3J0X3NpZ3F1ZXVlaW5mby9ydF9zaWdxdWV1ZWluZm8uaCAgICAgfCAgMTcgKysKIC4uLi9zeXNj
YWxscy9ydF9zaWdxdWV1ZWluZm8vcnRfc2lncXVldWVpbmZvMDEuYyAgIHwgMTg5ICsrKysrKysr
KysrLS0tLS0tLS0tLQogMyBmaWxlcyBjaGFuZ2VkLCAxMjEgaW5zZXJ0aW9ucygrKSwgODcgZGVs
ZXRpb25zKC0pCiBjcmVhdGUgbW9kZSAxMDA2NDQgdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9y
dF9zaWdxdWV1ZWluZm8vcnRfc2lncXVldWVpbmZvLmgKCmRpZmYgLS1naXQgYS90ZXN0Y2FzZXMv
a2VybmVsL3N5c2NhbGxzL3J0X3NpZ3F1ZXVlaW5mby9NYWtlZmlsZSBiL3Rlc3RjYXNlcy9rZXJu
ZWwvc3lzY2FsbHMvcnRfc2lncXVldWVpbmZvL01ha2VmaWxlCmluZGV4IDJlZjg2ZjA2Zi4uNDk4
YmE4ZTMxIDEwMDY0NAotLS0gYS90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL3J0X3NpZ3F1ZXVl
aW5mby9NYWtlZmlsZQorKysgYi90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL3J0X3NpZ3F1ZXVl
aW5mby9NYWtlZmlsZQpAQCAtMjEsMyArMjEsNSBAQCB0b3Bfc3JjZGlyCQk/PSAuLi8uLi8uLi8u
LgogaW5jbHVkZSAkKHRvcF9zcmNkaXIpL2luY2x1ZGUvbWsvdGVzdGNhc2VzLm1rCiAKIGluY2x1
ZGUgJCh0b3Bfc3JjZGlyKS9pbmNsdWRlL21rL2dlbmVyaWNfbGVhZl90YXJnZXQubWsKKworcnRf
c2lncXVldWVpbmZvMDE6IENGTEFHUyArPSAtcHRocmVhZApkaWZmIC0tZ2l0IGEvdGVzdGNhc2Vz
L2tlcm5lbC9zeXNjYWxscy9ydF9zaWdxdWV1ZWluZm8vcnRfc2lncXVldWVpbmZvLmggYi90ZXN0
Y2FzZXMva2VybmVsL3N5c2NhbGxzL3J0X3NpZ3F1ZXVlaW5mby9ydF9zaWdxdWV1ZWluZm8uaApu
ZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAuLjE0ODlhZmFkZgotLS0gL2Rldi9u
dWxsCisrKyBiL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvcnRfc2lncXVldWVpbmZvL3J0X3Np
Z3F1ZXVlaW5mby5oCkBAIC0wLDAgKzEsMTcgQEAKKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVy
OiBHUEwtMi4wLW9yLWxhdGVyCisvKgorICogQ29weXJpZ2h0IChjKSAyMDE5IFNVU0UgTExDCisg
KiBBdXRob3I6IENocmlzdGlhbiBBbWFubiA8Y2FtYW5uQHN1c2UuY29tPgorICovCisKKyNpZm5k
ZWYgX19SVF9TSUdRVUVVRUlORk9fSF9fCisjZGVmaW5lIF9fUlRfU0lHUVVFVUVJTkZPX0hfXwor
CisjaW5jbHVkZSAibGFwaS9zeXNjYWxscy5oIgorCitzdGF0aWMgaW50IHN5c19ydF9zaWdxdWV1
ZWluZm8ocGlkX3QgdGdpZCwgaW50IHNpZywgc2lnaW5mb190ICp1aW5mbykKK3sKKwlyZXR1cm4g
dHN0X3N5c2NhbGwoX19OUl9ydF9zaWdxdWV1ZWluZm8sIHRnaWQsIHNpZywgdWluZm8pOworfQor
CisjZW5kaWYgLyogX19SVF9TSUdRVUVVRUlORk9fSF9fICovCmRpZmYgLS1naXQgYS90ZXN0Y2Fz
ZXMva2VybmVsL3N5c2NhbGxzL3J0X3NpZ3F1ZXVlaW5mby9ydF9zaWdxdWV1ZWluZm8wMS5jIGIv
dGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9ydF9zaWdxdWV1ZWluZm8vcnRfc2lncXVldWVpbmZv
MDEuYwppbmRleCA5ZDBjZmY5NmQuLjU5OTZlOTk4YiAxMDA2NDQKLS0tIGEvdGVzdGNhc2VzL2tl
cm5lbC9zeXNjYWxscy9ydF9zaWdxdWV1ZWluZm8vcnRfc2lncXVldWVpbmZvMDEuYworKysgYi90
ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL3J0X3NpZ3F1ZXVlaW5mby9ydF9zaWdxdWV1ZWluZm8w
MS5jCkBAIC0xLDEwMiArMSwxMTcgQEAKLS8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi0vKiBDb3B5
cmlnaHQgKGMpIENyYWNrZXJqYWNrIFByb2plY3QuLCAyMDA3ICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAqLwotLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8KLS8qIFRoaXMgcHJvZ3Jh
bSBpcyBmcmVlIHNvZnR3YXJlOyAgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlm
eSAgICAgICovCi0vKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1Ymxp
YyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieSAgICAgICAqLwotLyogdGhlIEZyZWUgU29mdHdhcmUg
Rm91bmRhdGlvbjsgZWl0aGVyIHZlcnNpb24gMiBvZiB0aGUgTGljZW5zZSwgb3IgICAgICAgICAg
Ki8KLS8qIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICovCi0vKiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLwotLyog
VGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1
c2VmdWwsICAgICAgICAgICAgKi8KLS8qIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgIHdpdGhv
dXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiAgICAgICAgICAgICovCi0vKiBNRVJDSEFO
VEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgICAgICAg
ICAgICAgICAgICAqLwotLyogdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3Jl
IGRldGFpbHMuICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8KLS8qICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICovCi0vKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2Vu
ZXJhbCBQdWJsaWMgTGljZW5zZSAgICAgICAgICAqLwotLyogYWxvbmcgd2l0aCB0aGlzIHByb2dy
YW07ICBpZiBub3QsIHdyaXRlIHRvIHRoZSBGcmVlIFNvZnR3YXJlICAgICAgICAgICAgICAgKi8K
LS8qIEZvdW5kYXRpb24sIEluYy4sIDUxIEZyYW5rbGluIFN0cmVldCwgRmlmdGggRmxvb3IsIEJv
c3RvbiwgTUEgMDIxMTAtMTMwMSBVU0EgICAgKi8KLS8qICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovCi0v
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqLwotLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLS8qICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICovCi0vKiBGaWxlOiAgICAgICAgcnRfc2lncXVldWVpbmZvMDEuYyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLwotLyogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgKi8KLS8qIERlc2NyaXB0aW9uOiBUaGlzIHRlc3RzIHRoZSBydF9zaWdxdWV1ZWluZm8o
KSBzeXNjYWxsLiAgICAgICAgICAgICAgICAgICAgICovCi0vKgkJcnRfc2lncXVldWVpbmZvKCkg
U2VuZCBzaWduYWwgaW5mb3JtYXRpb24gdG8gYSBzaWduYWwJICAgICAgKi8KLS8qCQkJCQkJCQkJ
ICAgICAgKi8KLS8qIFVzYWdlOiAgPGZvciBjb21tYW5kLWxpbmU+ICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovCi0vKiBydF9zaWdxdWV1ZWluZm8wMSBb
LWMgbl0gWy1lXVstaSBuXSBbLUkgeF0gWy1wIHhdIFstdF0gICAgICAgICAgICAgICAgICAgICAq
LwotLyogICAgICB3aGVyZSwgIC1jIG4gOiBSdW4gbiBjb3BpZXMgY29uY3VycmVudGx5LiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgKi8KLS8qICAgICAgICAgICAgICAtZSAgIDogVHVybiBv
biBlcnJubyBsb2dnaW5nLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovCi0vKiAg
ICAgICAgICAgICAgLWkgbiA6IEV4ZWN1dGUgdGVzdCBuIHRpbWVzLiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAqLwotLyogICAgICAgICAgICAgIC1JIHggOiBFeGVjdXRlIHRlc3Qg
Zm9yIHggc2Vjb25kcy4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8KLS8qICAgICAgICAg
ICAgICAtUCB4IDogUGF1c2UgZm9yIHggc2Vjb25kcyBiZXR3ZWVuIGl0ZXJhdGlvbnMuICAgICAg
ICAgICAgICAgICovCi0vKiAgICAgICAgICAgICAgLXQgICA6IFR1cm4gb24gc3lzY2FsbCB0aW1p
bmcuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLwotLyogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgKi8KLS8qIFRvdGFsIFRlc3RzOiAyICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICovCi0vKiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLwot
LyogVGVzdCBOYW1lOiAgIHJ0X3NpZ3F1ZXVlaW5mbzAxICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICovCi0vKiBIaXN0b3J5OiAgICAgUG9ydGluZyBmcm9tIENy
YWNrZXJqYWNrIHRvIExUUCBpcyBkb25lIGJ5ICAgICAgICAgICAgICAgICAgICAqLwotLyogICAg
ICAgICAgICAgIE1hbmFzIEt1bWFyIE5heWFrIG1ha25heWFrQGluLmlibS5jb20+ICAgICAgICAg
ICAgICAgICAgICAgICAgKi8KLS8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi0jaW5jbHVkZSA8c3lz
L3dhaXQuaD4KLSNpbmNsdWRlIDxzdGRpby5oPgorLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6
IEdQTC0yLjAtb3ItbGF0ZXIKKy8qCisgKiBDb3B5cmlnaHQgKGMpIDIwMTkgU1VTRSBMTEMKKyAq
IEF1dGhvcjogQ2hyaXN0aWFuIEFtYW5uIDxjYW1hbm5Ac3VzZS5jb20+CisgKi8KKworLyoKKyAq
IFRoaXMgdGVzdHMgdGhlIHJ0X3NpZ3F1ZXVlaW5mbygpIHN5c2NhbGwuCisgKgorICogSXQgZG9l
cyBzbyBieSBjcmVhdGluZyBhIHRocmVhZCB3aGljaCByZWdpc3RlcnMgdGhlIGNvcnJlc3BvbmRp
bmcKKyAqIHNpZ25hbCBoYW5kbGVyLiBBZnRlciB0aGF0IHRoZSBtYWluIHRocmVhZCBzZW5kcyBh
IHNpZ25hbCBhbmQgZGF0YQorICogdG8gdGhlIGhhbmRsZXIgdGhyZWFkLiBJZiB0aGUgY29ycmVj
dCBzaWduYWwgYW5kIGRhdGEgaXMgcmVjZWl2ZWQsCisgKiB0aGUgdGVzdCBpcyBzdWNjZXNzZnVs
LgorICovCisKICNpbmNsdWRlIDxzaWduYWwuaD4KLSNpbmNsdWRlIDxlcnIuaD4KLSNpbmNsdWRl
IDxlcnJuby5oPgogI2luY2x1ZGUgPHN0ZGxpYi5oPgotI2luY2x1ZGUgPHVuaXN0ZC5oPgotI2lu
Y2x1ZGUgPHN5cy9zeXNjYWxsLmg+Ci0jaW5jbHVkZSA8c3RyaW5nLmg+CisjaW5jbHVkZSAiY29u
ZmlnLmgiCisjaW5jbHVkZSAidHN0X3Rlc3QuaCIKKyNpbmNsdWRlICJ0c3Rfc2FmZV9wdGhyZWFk
LmgiCisKKyNpZmRlZiBIQVZFX1NUUlVDVF9TSUdBQ1RJT05fU0FfU0lHQUNUSU9OCisjaW5jbHVk
ZSAicnRfc2lncXVldWVpbmZvLmgiCiAKLSNpbmNsdWRlICJ0ZXN0LmgiCi0jaW5jbHVkZSAibGFw
aS9zeXNjYWxscy5oIgorI2RlZmluZSBTSUdOQUwJU0lHVVNSMQorI2RlZmluZSBEQVRBCTc3Nwog
Ci1jaGFyICpUQ0lEID0gInJ0X3NpZ3F1ZXVlaW5mbzAxIjsKLWludCB0ZXN0bm87Ci1pbnQgVFNU
X1RPVEFMID0gMjsKK3N0YXRpYyBzdHJ1Y3Qgc2lnYWN0aW9uICpzaWdfYWN0aW9uOworc3RhdGlj
IGludCBzaWdfcmVjOworc3RhdGljIHNpZ2luZm9fdCAqdWluZm87CitzdGF0aWMgcGlkX3QgdGlk
OworCitzdGF0aWMgdm9pZCByZWNlaXZlZF9zaWduYWwoaW50IHNpZywgc2lnaW5mb190ICppbmZv
LCB2b2lkICp1Y29udGV4dCkKK3sKKwlpZiAoaW5mbyAmJiB1Y29udGV4dCkgeworCQlpZiAoc2ln
ID09IFNJR05BTCAmJiBpbmZvLT5zaV92YWx1ZS5zaXZhbF9pbnQgPT0gREFUQSkgeworCQkJdHN0
X3JlcyhUUEFTUywgIlJlY2VpdmVkIGNvcnJlY3Qgc2lnbmFsIGFuZCBkYXRhISIpOworCQkJc2ln
X3JlYyA9IDE7CisJCX0gZWxzZQorCQkJdHN0X3JlcyhURkFJTCwgIlJlY2VpdmVkIHdyb25nIHNp
Z25hbCBhbmQvb3IgZGF0YSEiKTsKKwl9IGVsc2UKKwkJdHN0X3JlcyhURkFJTCwgIlNpZ25hbCBo
YW5kbGluZyB3ZW50IHdyb25nISIpOworfQogCi12b2lkIGNsZWFudXAodm9pZCkKK3N0YXRpYyB2
b2lkICpoYW5kbGVfdGhyZWFkKHZvaWQgKmFyZyBMVFBfQVRUUklCVVRFX1VOVVNFRCkKIHsKKwlp
bnQgcmV0OwogCi0JdHN0X3JtZGlyKCk7CisJdGlkID0gdHN0X3N5c2NhbGwoX19OUl9nZXR0aWQp
OwogCisJcmV0ID0gc2lnYWN0aW9uKFNJR05BTCwgc2lnX2FjdGlvbiwgTlVMTCk7CisJaWYgKHJl
dCkKKwkJdHN0X2JyayhUQlJPSywgIkZhaWxlZCB0byBzZXQgc2lnYWN0aW9uIGZvciBoYW5kbGVy
IHRocmVhZCEiKTsKKworCVRTVF9DSEVDS1BPSU5UX1dBS0UoMCk7CisJVFNUX0NIRUNLUE9JTlRf
V0FJVCgxKTsKKwlyZXR1cm4gYXJnOwogfQogCi12b2lkIHNldHVwKHZvaWQpCitzdGF0aWMgdm9p
ZCB2ZXJpZnlfc2lncXVldWVpbmZvKHZvaWQpCiB7Ci0JVEVTVF9QQVVTRTsKLQl0c3RfdG1wZGly
KCk7CisJcHRocmVhZF90IHRocjsKKworCVNBRkVfUFRIUkVBRF9DUkVBVEUoJnRociwgTlVMTCwg
aGFuZGxlX3RocmVhZCwgTlVMTCk7CisKKwlUU1RfQ0hFQ0tQT0lOVF9XQUlUKDApOworCisJVEVT
VChzeXNfcnRfc2lncXVldWVpbmZvKHRpZCwgU0lHTkFMLCB1aW5mbykpOworCWlmIChUU1RfUkVU
ICE9IDApIHsKKwkJdHN0X3JlcyhURkFJTCB8IFRURVJSTk8sICJydF9zaWdxdWV1ZWluZm8oKSBm
YWlsZWQiKTsKKwkJcmV0dXJuOworCX0KKworCVRTVF9DSEVDS1BPSU5UX1dBS0UoMSk7CisJU0FG
RV9QVEhSRUFEX0pPSU4odGhyLCBOVUxMKTsKKworCWlmIChzaWdfcmVjKQorCQl0c3RfcmVzKFRQ
QVNTLCAicnRfc2lncXVldWVpbmZvKCkgd2FzIHN1Y2Nlc3NmdWwhIik7CiB9CiAKLWludCBtYWlu
KHZvaWQpCitzdGF0aWMgdm9pZCBzZXR1cCh2b2lkKQogewotCWludCBzdGF0dXM7Ci0JcGlkX3Qg
cGlkOwotCXBpZCA9IGdldHBpZCgpOwotCXNpZ2luZm9fdCB1aW5mbzsKLQotCXRzdF9jb3VudCA9
IDA7Ci0JZm9yICh0ZXN0bm8gPSAwOyB0ZXN0bm8gPCBUU1RfVE9UQUw7ICsrdGVzdG5vKSB7Ci0J
CVRFU1QocGlkID0gZm9yaygpKTsKLQkJc2V0dXAoKTsKLQkJaWYgKFRFU1RfUkVUVVJOIDwgMCkK
LQkJCXRzdF9icmttKFRGQUlMIHwgVFRFUlJOTywgY2xlYW51cCwgImZvcmsgZmFpbGVkIik7Ci0J
CWVsc2UgaWYgKFRFU1RfUkVUVVJOID09IDApIHsKLQkJCXVpbmZvLnNpX2Vycm5vID0gMDsKLQkJ
CXVpbmZvLnNpX2NvZGUgPSBTSV9RVUVVRTsKLQkJCVRFU1QobHRwX3N5c2NhbGwoX19OUl9ydF9z
aWdxdWV1ZWluZm8sIGdldHBpZCgpLAotCQkJCVNJR0NITEQsICZ1aW5mbykpOwotCQkJaWYgKFRF
U1RfUkVUVVJOICE9IDApCi0JCQkJZXJyKDEsICJydF9zaWdxdWV1ZWluZm8iKTsKLQkJCWV4aXQo
MCk7Ci0JCX0gZWxzZSB7Ci0JCQl3YWl0KCZzdGF0dXMpOwotCQkJaWYgKFdJRkVYSVRFRChzdGF0
dXMpICYmIFdFWElUU1RBVFVTKHN0YXR1cykgPT0gMCkKLQkJCQl0c3RfcmVzbShUUEFTUywgIlRl
c3QgU3VjY2VlZGVkIik7Ci0JCQllbHNlCi0JCQkJdHN0X3Jlc20oVEZBSUwsICJUZXN0IEZhaWxl
ZCIpOwotCQl9Ci0JCWNsZWFudXAoKTsKLQl9Ci0JdHN0X2V4aXQoKTsKKwlzaWdfYWN0aW9uID0g
U0FGRV9NQUxMT0Moc2l6ZW9mKHN0cnVjdCBzaWdhY3Rpb24pKTsKKworCW1lbXNldChzaWdfYWN0
aW9uLCAwLCBzaXplb2YoKnNpZ19hY3Rpb24pKTsKKwlzaWdfYWN0aW9uLT5zYV9zaWdhY3Rpb24g
PSByZWNlaXZlZF9zaWduYWw7CisJc2lnX2FjdGlvbi0+c2FfZmxhZ3MgPSBTQV9TSUdJTkZPOwor
CisJdWluZm8gPSBTQUZFX01BTExPQyhzaXplb2Yoc2lnaW5mb190KSk7CisKKwltZW1zZXQodWlu
Zm8sIDAsIHNpemVvZigqdWluZm8pKTsKKwl1aW5mby0+c2lfY29kZSA9IFNJX1FVRVVFOworCXVp
bmZvLT5zaV9waWQgPSBnZXRwaWQoKTsKKwl1aW5mby0+c2lfdWlkID0gZ2V0dWlkKCk7CisJdWlu
Zm8tPnNpX3ZhbHVlLnNpdmFsX2ludCA9IERBVEE7CisKKwlzaWdfcmVjID0gMDsKIH0KKworc3Rh
dGljIHZvaWQgY2xlYW51cCh2b2lkKQoreworCWZyZWUodWluZm8pOworCWZyZWUoc2lnX2FjdGlv
bik7Cit9CisKK3N0YXRpYyBzdHJ1Y3QgdHN0X3Rlc3QgdGVzdCA9IHsKKwkudGVzdF9hbGwgPSB2
ZXJpZnlfc2lncXVldWVpbmZvLAorCS5zZXR1cCA9IHNldHVwLAorCS5jbGVhbnVwID0gY2xlYW51
cCwKKwkubmVlZHNfY2hlY2twb2ludHMgPSAxLAorCS50aW1lb3V0ID0gMjAsCit9OworCisjZWxz
ZQorCVRTVF9URVNUX1RDT05GKAorCQkiVGhpcyBzeXN0ZW0gZG9lcyBub3Qgc3VwcG9ydCBydF9z
aWdxdWV1ZWluZm8oKS4iKTsKKyNlbmRpZiAvKiBIQVZFX1NUUlVDVF9TSUdBQ1RJT05fU0FfU0lH
QUNUSU9OICovCi0tIAoyLjE2LjQKCgotLSAKTWFpbGluZyBsaXN0IGluZm86IGh0dHBzOi8vbGlz
dHMubGludXguaXQvbGlzdGluZm8vbHRwCg==
