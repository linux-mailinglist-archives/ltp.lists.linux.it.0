Return-Path: <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>
X-Original-To: lists+linux-ltp@lfdr.de
Delivered-To: lists+linux-ltp@lfdr.de
Received: from picard.linux.it (picard.linux.it [IPv6:2001:1418:10:5::2])
	by mail.lfdr.de (Postfix) with ESMTPS id AED3B2EAD2
	for <lists+linux-ltp@lfdr.de>; Thu, 30 May 2019 04:53:19 +0200 (CEST)
Received: from picard.linux.it (localhost [IPv6:::1])
	by picard.linux.it (Postfix) with ESMTP id 7EDEE294AE2
	for <lists+linux-ltp@lfdr.de>; Thu, 30 May 2019 04:53:19 +0200 (CEST)
X-Original-To: ltp@lists.linux.it
Delivered-To: ltp@picard.linux.it
Received: from in-6.smtp.seeweb.it (in-6.smtp.seeweb.it
 [IPv6:2001:4b78:1:20::6])
 by picard.linux.it (Postfix) with ESMTP id 6D6F93EA1DD
 for <ltp@lists.linux.it>; Thu, 30 May 2019 04:53:13 +0200 (CEST)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by in-6.smtp.seeweb.it (Postfix) with ESMTPS id 8440E1400F96
 for <ltp@lists.linux.it>; Thu, 30 May 2019 04:53:12 +0200 (CEST)
Received: from smtp.corp.redhat.com (int-mx08.intmail.prod.int.phx2.redhat.com
 [10.5.11.23])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id B020C19D04A;
 Thu, 30 May 2019 02:53:10 +0000 (UTC)
Received: from localhost (dhcp-12-130.nay.redhat.com [10.66.12.130])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 2A28D19C70;
 Thu, 30 May 2019 02:53:09 +0000 (UTC)
From: Murphy Zhou <xzhou@redhat.com>
To: amir73il@gmail.com,
	pvorel@suse.cz
Date: Thu, 30 May 2019 10:53:01 +0800
Message-Id: <20190530025301.9616-2-xzhou@redhat.com>
In-Reply-To: <20190530025301.9616-1-xzhou@redhat.com>
References: <CAOQ4uxhYVDDh961PCBqikrO=QjPG-yUEUvwWn8hBCkB0ugMuzg@mail.gmail.com>
 <20190530025301.9616-1-xzhou@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.84 on 10.5.11.23
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.29]); Thu, 30 May 2019 02:53:10 +0000 (UTC)
X-Virus-Scanned: clamav-milter 0.99.2 at in-6.smtp.seeweb.it
X-Virus-Status: Clean
X-Spam-Status: No, score=-0.0 required=7.0 tests=SPF_HELO_PASS,SPF_PASS
 autolearn=disabled version=3.4.0
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on in-6.smtp.seeweb.it
Cc: ltp@lists.linux.it
Subject: [LTP] [PATCH v6 2/2] OVL_MNT: setup overlayfs dirs and mount in a
	separated mountpoint
X-BeenThere: ltp@lists.linux.it
X-Mailman-Version: 2.1.18
Precedence: list
List-Id: Linux Test Project <ltp.lists.linux.it>
List-Unsubscribe: <https://lists.linux.it/options/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=unsubscribe>
List-Archive: <http://lists.linux.it/pipermail/ltp/>
List-Post: <mailto:ltp@lists.linux.it>
List-Help: <mailto:ltp-request@lists.linux.it?subject=help>
List-Subscribe: <https://lists.linux.it/listinfo/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it
Sender: "ltp" <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>

U29tZSB0ZXN0cyBhcmUgbW91bnRpbmcgb3ZlcmxheWZzIGludGVybmFsbHkgYW5kIHJ1biB0ZXN0
cyBvbiBpdC4KVGhpcyBtb3VudCBjYW4gZmFpbCBpZiB0aGUgZmlsZXN5c3RlbSB3ZSBhcmUgcnVu
bmluZyBvbiBkb2VzIG5vdApzdXBwb3J0IG92ZXJsYXkgbW91bnQgdXBvbiBpdC4gRm9yIGV4YW1w
bGUsIHdlIGFyZSBhbHJlYWR5IHJ1bm5pbmcKdGVzdHMgb24gb3ZlcmxheWZzIG9yIE5GUywgb3Ig
Q0lGUy4gVGVzdCB3aWxsIHJlcG9ydCBicm9rZW4gYW5kCmZhaWx1cmUuCgpGaXhpbmcgdGhpcyBi
eSBwdXQgb3ZlcmxheWZzIGRpcnMgaW4gYSBzZXBhcmF0ZWQgbW91bnRwb2ludCwgbGlrZSBpbgpy
ZWFkYWhlYWQwMiBieSBBbWlyLgoKU3VnZ2VzdGVkLWJ5OiBQZXRyIFZvcmVsIDxwdm9yZWxAc3Vz
ZS5jej4KU3VnZ2VzdGVkLWJ5OiBBbWlyIEdvbGRzdGVpbiA8YW1pcjczaWxAZ21haWwuY29tPgpS
ZXZpZXdlZC1ieTogQW1pciBHb2xkc3RlaW4gPGFtaXI3M2lsQGdtYWlsLmNvbT4KU2lnbmVkLW9m
Zi1ieTogTXVycGh5IFpob3UgPHh6aG91QHJlZGhhdC5jb20+Ci0tLQogLi4uL2tlcm5lbC9zeXNj
YWxscy9leGVjdmVhdC9leGVjdmVhdDAzLmMgICAgIHwgMzEgKystLS0tLS0tLS0tLS0tLQogdGVz
dGNhc2VzL2tlcm5lbC9zeXNjYWxscy9pbm90aWZ5L2lub3RpZnkwNy5jIHwgMzMgKysrKy0tLS0t
LS0tLS0tLS0KIHRlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDguYyB8
IDM3ICsrKysrLS0tLS0tLS0tLS0tLS0KIC4uLi9rZXJuZWwvc3lzY2FsbHMvcmVhZGFoZWFkL3Jl
YWRhaGVhZDAyLmMgICB8IDMzICsrLS0tLS0tLS0tLS0tLS0tCiA0IGZpbGVzIGNoYW5nZWQsIDI2
IGluc2VydGlvbnMoKyksIDEwOCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS90ZXN0Y2FzZXMv
a2VybmVsL3N5c2NhbGxzL2V4ZWN2ZWF0L2V4ZWN2ZWF0MDMuYyBiL3Rlc3RjYXNlcy9rZXJuZWwv
c3lzY2FsbHMvZXhlY3ZlYXQvZXhlY3ZlYXQwMy5jCmluZGV4IGRlZjMzOTIzYi4uN2RmMWIwZmFh
IDEwMDY0NAotLS0gYS90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2V4ZWN2ZWF0L2V4ZWN2ZWF0
MDMuYworKysgYi90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2V4ZWN2ZWF0L2V4ZWN2ZWF0MDMu
YwpAQCAtNTUsMTEgKzU1LDEwIEBACiAjaW5jbHVkZSAibGFwaS9mY250bC5oIgogI2luY2x1ZGUg
ImV4ZWN2ZWF0LmgiCiAKLSNkZWZpbmUgT1ZMX01OVCAib3ZsIgogI2RlZmluZSBURVNUX0FQUCAi
ZXhlY3ZlYXRfY2hpbGQiCiAjZGVmaW5lIFRFU1RfRklMRV9QQVRIIE9WTF9NTlQiLyJURVNUX0FQ
UAogCi1zdGF0aWMgaW50IG92bF9tb3VudGVkOworc3RhdGljIGNvbnN0IGNoYXIgbW50cG9pbnRb
XSA9IE9WTF9CQVNFX01OVFBPSU5UOwogCiBzdGF0aWMgdm9pZCBkb19jaGlsZCh2b2lkKQogewpA
QCAtODYsMzEgKzg1LDcgQEAgc3RhdGljIHZvaWQgdmVyaWZ5X2V4ZWN2ZWF0KHZvaWQpCiAKIHN0
YXRpYyB2b2lkIHNldHVwKHZvaWQpCiB7Ci0JaW50IHJldDsKLQogCWNoZWNrX2V4ZWN2ZWF0KCk7
Ci0KLQkvKiBTZXR1cCBhbiBvdmVybGF5IG1vdW50IHdpdGggbG93ZXIgZmlsZSAqLwotCVNBRkVf
TUtESVIoImxvd2VyIiwgMDc1NSk7Ci0JU0FGRV9NS0RJUigidXBwZXIiLCAwNzU1KTsKLQlTQUZF
X01LRElSKCJ3b3JrIiwgMDc1NSk7Ci0JU0FGRV9NS0RJUihPVkxfTU5ULCAwNzU1KTsKLQlyZXQg
PSBtb3VudCgib3ZlcmxheSIsIE9WTF9NTlQsICJvdmVybGF5IiwgMCwKLQkJICAgICJsb3dlcmRp
cj1sb3dlcix1cHBlcmRpcj11cHBlcix3b3JrZGlyPXdvcmsiKTsKLQlpZiAocmV0IDwgMCkgewot
CQlpZiAoZXJybm8gPT0gRU5PREVWKSB7Ci0JCQl0c3RfYnJrKFRDT05GLAotCQkJCSJvdmVybGF5
ZnMgaXMgbm90IGNvbmZpZ3VyZWQgaW4gdGhpcyBrZXJuZWwuIik7Ci0JCX0KLQkJdHN0X2JyayhU
QlJPSyB8IFRFUlJOTywgIm92ZXJsYXlmcyBtb3VudCBmYWlsZWQiKTsKLQl9Ci0Jb3ZsX21vdW50
ZWQgPSAxOwotfQotCi1zdGF0aWMgdm9pZCBjbGVhbnVwKHZvaWQpCi17Ci0JaWYgKG92bF9tb3Vu
dGVkKQotCQlTQUZFX1VNT1VOVChPVkxfTU5UKTsKIH0KIAogc3RhdGljIGNvbnN0IGNoYXIgKmNv
bnN0IHJlc291cmNlX2ZpbGVzW10gPSB7CkBAIC0xMjEsMTAgKzk2LDEyIEBAIHN0YXRpYyBjb25z
dCBjaGFyICpjb25zdCByZXNvdXJjZV9maWxlc1tdID0gewogc3RhdGljIHN0cnVjdCB0c3RfdGVz
dCB0ZXN0ID0gewogCS5uZWVkc19yb290ID0gMSwKIAkubmVlZHNfdG1wZGlyID0gMSwKKwkubW91
bnRfZGV2aWNlID0gMSwKKwkubmVlZHNfb3ZlcmxheSA9IDEsCisJLm1udHBvaW50ID0gbW50cG9p
bnQsCiAJLmZvcmtzX2NoaWxkID0gMSwKIAkuY2hpbGRfbmVlZHNfcmVpbml0ID0gMSwKIAkuc2V0
dXAgPSBzZXR1cCwKLQkuY2xlYW51cCA9IGNsZWFudXAsCiAJLnRlc3RfYWxsID0gdmVyaWZ5X2V4
ZWN2ZWF0LAogCS5yZXNvdXJjZV9maWxlcyA9IHJlc291cmNlX2ZpbGVzLAogfTsKZGlmZiAtLWdp
dCBhL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDcuYyBiL3Rlc3Rj
YXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDcuYwppbmRleCA5NjM3MGI1Y2Yu
LjQ3ODE3Y2Q0MiAxMDA2NDQKLS0tIGEvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9pbm90aWZ5
L2lub3RpZnkwNy5jCisrKyBiL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90
aWZ5MDcuYwpAQCAtNzMsMTMgKzczLDEyIEBAIHN0cnVjdCBldmVudF90IHsKIAl1bnNpZ25lZCBp
bnQgbWFzazsKIH07CiAKLSNkZWZpbmUgT1ZMX01OVCAib3ZsIgogI2RlZmluZSBESVJfTkFNRSAi
dGVzdF9kaXIiCiAjZGVmaW5lIERJUl9QQVRIIE9WTF9NTlQiLyJESVJfTkFNRQogI2RlZmluZSBG
SUxFX05BTUUgInRlc3RfZmlsZSIKICNkZWZpbmUgRklMRV9QQVRIIE9WTF9NTlQiLyJESVJfTkFN
RSIvIkZJTEVfTkFNRQogCi1zdGF0aWMgaW50IG92bF9tb3VudGVkOworc3RhdGljIGNvbnN0IGNo
YXIgbW50cG9pbnRbXSA9IE9WTF9CQVNFX01OVFBPSU5UOwogCiBzdGF0aWMgc3RydWN0IGV2ZW50
X3QgZXZlbnRfc2V0W0VWRU5UX01BWF07CiAKQEAgLTE2MSwyNyArMTYwLDEyIEBAIHZvaWQgdmVy
aWZ5X2lub3RpZnkodm9pZCkKIHN0YXRpYyB2b2lkIHNldHVwKHZvaWQpCiB7CiAJc3RydWN0IHN0
YXQgYnVmOwotCWludCByZXQ7CiAKIAkvKiBTZXR1cCBhbiBvdmVybGF5IG1vdW50IHdpdGggbG93
ZXIgZGlyIGFuZCBmaWxlICovCi0JU0FGRV9NS0RJUigibG93ZXIiLCAwNzU1KTsKLQlTQUZFX01L
RElSKCJsb3dlci8iRElSX05BTUUsIDA3NTUpOwotCVNBRkVfVE9VQ0goImxvd2VyLyJESVJfTkFN
RSIvIkZJTEVfTkFNRSwgMDY0NCwgTlVMTCk7Ci0JU0FGRV9NS0RJUigidXBwZXIiLCAwNzU1KTsK
LQlTQUZFX01LRElSKCJ3b3JrIiwgMDc1NSk7Ci0JU0FGRV9NS0RJUihPVkxfTU5ULCAwNzU1KTsK
LQlyZXQgPSBtb3VudCgib3ZlcmxheSIsIE9WTF9NTlQsICJvdmVybGF5IiwgMCwKLQkJICAgICJs
b3dlcmRpcj1sb3dlcix1cHBlcmRpcj11cHBlcix3b3JrZGlyPXdvcmsiKTsKLQlpZiAocmV0IDwg
MCkgewotCQlpZiAoZXJybm8gPT0gRU5PREVWKSB7Ci0JCQl0c3RfYnJrKFRDT05GLAotCQkJCSJv
dmVybGF5ZnMgaXMgbm90IGNvbmZpZ3VyZWQgaW4gdGhpcyBrZXJuZWwuIik7Ci0JCX0gZWxzZSB7
Ci0JCQl0c3RfYnJrKFRCUk9LIHwgVEVSUk5PLAotCQkJCSJvdmVybGF5ZnMgbW91bnQgZmFpbGVk
Iik7Ci0JCX0KLQl9Ci0Jb3ZsX21vdW50ZWQgPSAxOworCVNBRkVfVU1PVU5UKE9WTF9NTlQpOwor
CVNBRkVfTUtESVIoT1ZMX0xPV0VSIi8iRElSX05BTUUsIDA3NTUpOworCVNBRkVfVE9VQ0goT1ZM
X0xPV0VSIi8iRElSX05BTUUiLyJGSUxFX05BTUUsIDA2NDQsIE5VTEwpOworCVNBRkVfTU9VTlRf
T1ZFUkxBWSgpOwogCiAJZmRfbm90aWZ5ID0gbXlpbm90aWZ5X2luaXQxKE9fTk9OQkxPQ0spOwog
CWlmIChmZF9ub3RpZnkgPCAwKSB7CkBAIC0yMjEsMTkgKzIwNSwxOCBAQCBzdGF0aWMgdm9pZCBj
bGVhbnVwKHZvaWQpCiAJaWYgKHJlYXBfd2QgJiYgbXlpbm90aWZ5X3JtX3dhdGNoKGZkX25vdGlm
eSwgd2QpIDwgMCkgewogCQl0c3RfcmVzKFRXQVJOLAogCQkJImlub3RpZnlfcm1fd2F0Y2ggKCVk
LCAlZCkgZmFpbGVkLCIsIGZkX25vdGlmeSwgd2QpOwotCiAJfQogCiAJaWYgKGZkX25vdGlmeSA+
IDApCiAJCVNBRkVfQ0xPU0UoZmRfbm90aWZ5KTsKLQotCWlmIChvdmxfbW91bnRlZCkKLQkJU0FG
RV9VTU9VTlQoT1ZMX01OVCk7CiB9CiAKIHN0YXRpYyBzdHJ1Y3QgdHN0X3Rlc3QgdGVzdCA9IHsK
IAkubmVlZHNfcm9vdCA9IDEsCiAJLm5lZWRzX3RtcGRpciA9IDEsCisJLm1vdW50X2RldmljZSA9
IDEsCisJLm5lZWRzX292ZXJsYXkgPSAxLAorCS5tbnRwb2ludCA9IG1udHBvaW50LAogCS5zZXR1
cCA9IHNldHVwLAogCS5jbGVhbnVwID0gY2xlYW51cCwKIAkudGVzdF9hbGwgPSB2ZXJpZnlfaW5v
dGlmeSwKZGlmZiAtLWdpdCBhL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90
aWZ5MDguYyBiL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDguYwpp
bmRleCBhY2RiOTUzNDUuLjA2N2MwMWRiYiAxMDA2NDQKLS0tIGEvdGVzdGNhc2VzL2tlcm5lbC9z
eXNjYWxscy9pbm90aWZ5L2lub3RpZnkwOC5jCisrKyBiL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2Fs
bHMvaW5vdGlmeS9pbm90aWZ5MDguYwpAQCAtNzQsMTEgKzc0LDEwIEBAIHN0cnVjdCBldmVudF90
IHsKIAl1bnNpZ25lZCBpbnQgbWFzazsKIH07CiAKLSNkZWZpbmUgT1ZMX01OVCAib3ZsIgogI2Rl
ZmluZSBGSUxFX05BTUUgInRlc3RfZmlsZSIKICNkZWZpbmUgRklMRV9QQVRIIE9WTF9NTlQiLyJG
SUxFX05BTUUKIAotc3RhdGljIGludCBvdmxfbW91bnRlZDsKK3N0YXRpYyBjb25zdCBjaGFyIG1u
dHBvaW50W10gPSBPVkxfQkFTRV9NTlRQT0lOVDsKIAogc3RhdGljIHN0cnVjdCBldmVudF90IGV2
ZW50X3NldFtFVkVOVF9NQVhdOwogCkBAIC0xMDQsOCArMTAzLDggQEAgdm9pZCB2ZXJpZnlfaW5v
dGlmeSh2b2lkKQogCXRlc3RfY250Kys7CiAKIAkvKiBNYWtlIHN1cmUgZXZlbnRzIG9uIHVwcGVy
L2xvd2VyIGRvIG5vdCBzaG93IGluIG92ZXJsYXkgd2F0Y2ggKi8KLQlTQUZFX1RPVUNIKCJsb3dl
ci8iRklMRV9OQU1FLCAwNjQ0LCBOVUxMKTsKLQlTQUZFX1RPVUNIKCJ1cHBlci8iRklMRV9OQU1F
LCAwNjQ0LCBOVUxMKTsKKwlTQUZFX1RPVUNIKE9WTF9MT1dFUiIvIkZJTEVfTkFNRSwgMDY0NCwg
TlVMTCk7CisJU0FGRV9UT1VDSChPVkxfVVBQRVIiLyJGSUxFX05BTUUsIDA2NDQsIE5VTEwpOwog
CiAJaW50IGxlbiA9IHJlYWQoZmRfbm90aWZ5LCBldmVudF9idWYsIEVWRU5UX0JVRl9MRU4pOwog
CWlmIChsZW4gPT0gLTEgJiYgZXJybm8gIT0gRUFHQUlOKSB7CkBAIC0xNTQsMzIgKzE1MywxNyBA
QCB2b2lkIHZlcmlmeV9pbm90aWZ5KHZvaWQpCiBzdGF0aWMgdm9pZCBzZXR1cCh2b2lkKQogewog
CXN0cnVjdCBzdGF0IGJ1ZjsKLQlpbnQgcmV0OwogCiAJLyogU2V0dXAgYW4gb3ZlcmxheSBtb3Vu
dCB3aXRoIGxvd2VyIGZpbGUgKi8KLQlTQUZFX01LRElSKCJsb3dlciIsIDA3NTUpOwotCVNBRkVf
VE9VQ0goImxvd2VyLyJGSUxFX05BTUUsIDA2NDQsIE5VTEwpOwotCVNBRkVfTUtESVIoInVwcGVy
IiwgMDc1NSk7Ci0JU0FGRV9NS0RJUigid29yayIsIDA3NTUpOwotCVNBRkVfTUtESVIoT1ZMX01O
VCwgMDc1NSk7Ci0JcmV0ID0gbW91bnQoIm92ZXJsYXkiLCBPVkxfTU5ULCAib3ZlcmxheSIsIDAs
Ci0JCSAgICAibG93ZXJkaXI9bG93ZXIsdXBwZXJkaXI9dXBwZXIsd29ya2Rpcj13b3JrIik7Ci0J
aWYgKHJldCA8IDApIHsKLQkJaWYgKGVycm5vID09IEVOT0RFVikgewotCQkJdHN0X2JyayhUQ09O
RiwKLQkJCQkib3ZlcmxheWZzIGlzIG5vdCBjb25maWd1cmVkIGluIHRoaXMga2VybmVsLiIpOwot
CQl9IGVsc2UgewotCQkJdHN0X2JyayhUQlJPSyB8IFRFUlJOTywKLQkJCQkib3ZlcmxheWZzIG1v
dW50IGZhaWxlZCIpOwotCQl9Ci0JfQotCW92bF9tb3VudGVkID0gMTsKKwlTQUZFX1VNT1VOVChP
VkxfTU5UKTsKKwlTQUZFX1RPVUNIKE9WTF9MT1dFUiIvIkZJTEVfTkFNRSwgMDY0NCwgTlVMTCk7
CisJU0FGRV9NT1VOVF9PVkVSTEFZKCk7CiAKIAlmZF9ub3RpZnkgPSBteWlub3RpZnlfaW5pdDEo
T19OT05CTE9DSyk7CiAJaWYgKGZkX25vdGlmeSA8IDApIHsKIAkJaWYgKGVycm5vID09IEVOT1NZ
UykgewogCQkJdHN0X2JyayhUQ09ORiwKLQkJCQkiaW5vdGlmeSBpcyBub3QgY29uZmlndXJlZCBp
biB0aGlzIGtlcm5lbC4iKTsKKwkJCQkiaW5vdGlmeSBpcyBub3QgY29uZmlndXJlZCBpbiB0aGlz
IGtlcm5lbCIpOwogCQl9IGVsc2UgewogCQkJdHN0X2JyayhUQlJPSyB8IFRFUlJOTywKIAkJCQki
aW5vdGlmeV9pbml0ICgpIGZhaWxlZCIpOwpAQCAtMjE3LDE5ICsyMDEsMTggQEAgc3RhdGljIHZv
aWQgY2xlYW51cCh2b2lkKQogCWlmIChyZWFwX3dkICYmIG15aW5vdGlmeV9ybV93YXRjaChmZF9u
b3RpZnksIHdkKSA8IDApIHsKIAkJdHN0X3JlcyhUV0FSTiwKIAkJCSJpbm90aWZ5X3JtX3dhdGNo
ICglZCwgJWQpIGZhaWxlZCwiLCBmZF9ub3RpZnksIHdkKTsKLQogCX0KIAogCWlmIChmZF9ub3Rp
ZnkgPiAwKQogCQlTQUZFX0NMT1NFKGZkX25vdGlmeSk7Ci0KLQlpZiAob3ZsX21vdW50ZWQpCi0J
CVNBRkVfVU1PVU5UKE9WTF9NTlQpOwogfQogCiBzdGF0aWMgc3RydWN0IHRzdF90ZXN0IHRlc3Qg
PSB7CiAJLm5lZWRzX3Jvb3QgPSAxLAogCS5uZWVkc190bXBkaXIgPSAxLAorCS5tb3VudF9kZXZp
Y2UgPSAxLAorCS5uZWVkc19vdmVybGF5ID0gMSwKKwkubW50cG9pbnQgPSBtbnRwb2ludCwKIAku
c2V0dXAgPSBzZXR1cCwKIAkuY2xlYW51cCA9IGNsZWFudXAsCiAJLnRlc3RfYWxsID0gdmVyaWZ5
X2lub3RpZnksCmRpZmYgLS1naXQgYS90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL3JlYWRhaGVh
ZC9yZWFkYWhlYWQwMi5jIGIvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9yZWFkYWhlYWQvcmVh
ZGFoZWFkMDIuYwppbmRleCAzOWRkYmQ1ODMuLmY2ZTA3MTczZCAxMDA2NDQKLS0tIGEvdGVzdGNh
c2VzL2tlcm5lbC9zeXNjYWxscy9yZWFkYWhlYWQvcmVhZGFoZWFkMDIuYworKysgYi90ZXN0Y2Fz
ZXMva2VybmVsL3N5c2NhbGxzL3JlYWRhaGVhZC9yZWFkYWhlYWQwMi5jCkBAIC00NCwxNiArNDQs
MTEgQEAgc3RhdGljIGludCBwYWdlc2l6ZTsKIHN0YXRpYyB1bnNpZ25lZCBsb25nIGNhY2hlZF9t
YXg7CiBzdGF0aWMgaW50IG92bF9tb3VudGVkOwogCi0jZGVmaW5lIE1OVFBPSU5UICAgICAgICAi
bW50cG9pbnQiCi0jZGVmaW5lIE9WTF9MT1dFUglNTlRQT0lOVCIvbG93ZXIiCi0jZGVmaW5lIE9W
TF9VUFBFUglNTlRQT0lOVCIvdXBwZXIiCi0jZGVmaW5lIE9WTF9XT1JLCU1OVFBPSU5UIi93b3Jr
IgotI2RlZmluZSBPVkxfTU5UCQlNTlRQT0lOVCIvb3ZsIgogc3RhdGljIGludCByZWFkYWhlYWRf
bGVuZ3RoICA9IDQwOTY7CiBzdGF0aWMgY2hhciBzeXNfYmRpX3JhX3BhdGhbUEFUSF9NQVhdOwog
c3RhdGljIGludCBvcmlnX2JkaV9saW1pdDsKIAotc3RhdGljIGNvbnN0IGNoYXIgbW50cG9pbnRb
XSA9IE1OVFBPSU5UOworc3RhdGljIGNvbnN0IGNoYXIgbW50cG9pbnRbXSA9IE9WTF9CQVNFX01O
VFBPSU5UOwogCiBzdGF0aWMgc3RydWN0IHRzdF9vcHRpb24gb3B0aW9uc1tdID0gewogCXsiczoi
LCAmb3B0X2ZzaXplc3RyLCAiLXMgICAgdGVzdGZpbGUgc2l6ZSAoZGVmYXVsdCA2NE1CKSJ9LApA
QCAtMTMyLDcgKzEyNyw4IEBAIHN0YXRpYyB2b2lkIGNyZWF0ZV90ZXN0ZmlsZShpbnQgdXNlX292
ZXJsYXkpCiAJY2hhciAqdG1wOwogCXNpemVfdCBpOwogCi0Jc3ByaW50Zih0ZXN0ZmlsZSwgIiVz
L3Rlc3RmaWxlIiwgdXNlX292ZXJsYXkgPyBPVkxfTU5UIDogTU5UUE9JTlQpOworCXNwcmludGYo
dGVzdGZpbGUsICIlcy90ZXN0ZmlsZSIsCisJCXVzZV9vdmVybGF5ID8gT1ZMX01OVCA6IE9WTF9C
QVNFX01OVFBPSU5UKTsKIAl0c3RfcmVzKFRJTkZPLCAiY3JlYXRpbmcgdGVzdCBmaWxlIG9mIHNp
emU6ICV6dSIsIHRlc3RmaWxlX3NpemUpOwogCXRtcCA9IFNBRkVfTUFMTE9DKHBhZ2VzaXplKTsK
IApAQCAtMzI5LDI3ICszMjUsNiBAQCBzdGF0aWMgdm9pZCB0ZXN0X3JlYWRhaGVhZCh1bnNpZ25l
ZCBpbnQgbikKIAl9CiB9CiAKLXN0YXRpYyB2b2lkIHNldHVwX292ZXJsYXkodm9pZCkKLXsKLQlp
bnQgcmV0OwotCi0JLyogU2V0dXAgYW4gb3ZlcmxheSBtb3VudCB3aXRoIGxvd2VyIGRpciBhbmQg
ZmlsZSAqLwotCVNBRkVfTUtESVIoT1ZMX0xPV0VSLCAwNzU1KTsKLQlTQUZFX01LRElSKE9WTF9V
UFBFUiwgMDc1NSk7Ci0JU0FGRV9NS0RJUihPVkxfV09SSywgMDc1NSk7Ci0JU0FGRV9NS0RJUihP
VkxfTU5ULCAwNzU1KTsKLQlyZXQgPSBtb3VudCgib3ZlcmxheSIsIE9WTF9NTlQsICJvdmVybGF5
IiwgMCwgImxvd2VyZGlyPSJPVkxfTE9XRVIKLQkJICAgICIsdXBwZXJkaXI9Ik9WTF9VUFBFUiIs
d29ya2Rpcj0iT1ZMX1dPUkspOwotCWlmIChyZXQgPCAwKSB7Ci0JCWlmIChlcnJubyA9PSBFTk9E
RVYpIHsKLQkJCXRzdF9yZXMoVElORk8sCi0JCQkJIm92ZXJsYXlmcyBpcyBub3QgY29uZmlndXJl
ZCBpbiB0aGlzIGtlcm5lbC4iKTsKLQkJCXJldHVybjsKLQkJfQotCQl0c3RfYnJrKFRCUk9LIHwg
VEVSUk5PLCAib3ZlcmxheWZzIG1vdW50IGZhaWxlZCIpOwotCX0KLQlvdmxfbW91bnRlZCA9IDE7
Ci19CiAKIC8qCiAgKiBXZSB0cnkgcmFpc2luZyBiZGkgcmVhZGFoZWFkIGxpbWl0IGFzIG11Y2gg
YXMgd2UgY2FuLiBXZSB3cml0ZQpAQCAtNDEzLDcgKzM4OCw3IEBAIHN0YXRpYyB2b2lkIHNldHVw
KHZvaWQpCiAJc2V0dXBfcmVhZGFoZWFkX2xlbmd0aCgpOwogCXRzdF9yZXMoVElORk8sICJyZWFk
YWhlYWQgbGVuZ3RoOiAlZCIsIHJlYWRhaGVhZF9sZW5ndGgpOwogCi0Jc2V0dXBfb3ZlcmxheSgp
OworCW92bF9tb3VudGVkID0gVFNUX01PVU5UX09WRVJMQVkoKTsKIH0KIAogc3RhdGljIHZvaWQg
Y2xlYW51cCh2b2lkKQotLSAKMi4yMS4wCgoKLS0gCk1haWxpbmcgbGlzdCBpbmZvOiBodHRwczov
L2xpc3RzLmxpbnV4Lml0L2xpc3RpbmZvL2x0cAo=
