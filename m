Return-Path: <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>
X-Original-To: lists+linux-ltp@lfdr.de
Delivered-To: lists+linux-ltp@lfdr.de
Received: from picard.linux.it (picard.linux.it [IPv6:2001:1418:10:5::2])
	by mail.lfdr.de (Postfix) with ESMTPS id ABEFB4E674
	for <lists+linux-ltp@lfdr.de>; Fri, 21 Jun 2019 12:51:26 +0200 (CEST)
Received: from picard.linux.it (localhost [IPv6:::1])
	by picard.linux.it (Postfix) with ESMTP id 814333EB00A
	for <lists+linux-ltp@lfdr.de>; Fri, 21 Jun 2019 12:51:26 +0200 (CEST)
X-Original-To: ltp@lists.linux.it
Delivered-To: ltp@picard.linux.it
Received: from in-5.smtp.seeweb.it (in-5.smtp.seeweb.it
 [IPv6:2001:4b78:1:20::5])
 by picard.linux.it (Postfix) with ESMTP id 94FDC3EAFFE
 for <ltp@lists.linux.it>; Fri, 21 Jun 2019 12:51:22 +0200 (CEST)
Received: from m12-11.163.com (m12-11.163.com [220.181.12.11])
 by in-5.smtp.seeweb.it (Postfix) with ESMTP id E64B66010AD
 for <ltp@lists.linux.it>; Fri, 21 Jun 2019 12:51:23 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=163.com;
 s=s110527; h=From:Subject:Date:Message-Id; bh=cKfabrWRqKBlOo3E5J
 wiGOnMBTOCu5rtPsiQgLGBJ6s=; b=OLYlqnaq4gq0qmnOtSm0ITm47WgQj0NCst
 a7dxEpIxsHZg18qHuTgN9plEBBcCStvkJ/NULHVRNoFUA4vLd31Cx4XyKSLF3bMZ
 eMWG3SUvsN8GkFcdOQnPAVzWarBkDAsBvydE2p9xnBZC+9L/Z5h/g5eDiubZA11m
 QsDv6gT+o=
Received: from RHEL7U5GA_Intel64.localdomain (unknown [112.25.212.39])
 by smtp7 (Coremail) with SMTP id C8CowAAnFeaitgxdoPNCBA--.13123S2;
 Fri, 21 Jun 2019 18:51:14 +0800 (CST)
From: Xiao Yang <ice_yangxiao@163.com>
To: ltp@lists.linux.it
Date: Fri, 21 Jun 2019 18:51:10 +0800
Message-Id: <1561114271-8351-1-git-send-email-ice_yangxiao@163.com>
X-Mailer: git-send-email 1.8.3.1
X-CM-TRANSID: C8CowAAnFeaitgxdoPNCBA--.13123S2
X-Coremail-Antispam: 1Uf129KBjvJXoWxKFy7JF1xtFW7uF1xJF17Awb_yoW7WFWfpw
 4kXayDAr48t3W8G3y3Wan7Zr4fJw15AryxGw4fKw15Cr47ZFWktF4qqFW5Jr1IgrZrWFW3
 uFsYqrsIg39xZ3JanT9S1TB71UUUUUUqnTZGkaVYY2UrUUUUjbIjqfuFe4nvWSU5nxnvy2
 9KBjDUYxBIdaVFxhVjvjDU0xZFpf9x07UoGQgUUUUU=
X-Originating-IP: [112.25.212.39]
X-CM-SenderInfo: 5lfhs5xdqj5xldr6il2tof0z/1tbiFgvaXlWBh8syOQAAsK
X-Virus-Scanned: clamav-milter 0.99.2 at in-5.smtp.seeweb.it
X-Virus-Status: Clean
X-Spam-Status: No, score=0.1 required=7.0 tests=DKIM_SIGNED,DKIM_VALID,
 DKIM_VALID_AU,FREEMAIL_FROM,SPF_HELO_NONE,SPF_PASS autolearn=disabled
 version=3.4.0
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on in-5.smtp.seeweb.it
Subject: [LTP] [PATCH v2 1/2] syscalls/futex_cmp_requeue01.c: Add new test
X-BeenThere: ltp@lists.linux.it
X-Mailman-Version: 2.1.18
Precedence: list
List-Id: Linux Test Project <ltp.lists.linux.it>
List-Unsubscribe: <https://lists.linux.it/options/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=unsubscribe>
List-Archive: <http://lists.linux.it/pipermail/ltp/>
List-Post: <mailto:ltp@lists.linux.it>
List-Help: <mailto:ltp-request@lists.linux.it?subject=help>
List-Subscribe: <https://lists.linux.it/listinfo/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it
Sender: "ltp" <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>

Q2hlY2sgdGhlIGJhc2ljIGZ1bmN0aW9uYWxpdHkgb2YgZnV0ZXgoRlVURVhfQ01QX1JFUVVFVUUp
LgoKU2lnbmVkLW9mZi1ieTogWGlhbyBZYW5nIDxpY2VfeWFuZ3hpYW9AMTYzLmNvbT4KLS0tCiBy
dW50ZXN0L3N5c2NhbGxzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgMSAr
CiB0ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2Z1dGV4Ly5naXRpZ25vcmUgICAgICAgICB8ICAg
MSArCiB0ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2Z1dGV4L01ha2VmaWxlICAgICAgICAgICB8
ICAgMSArCiAuLi4va2VybmVsL3N5c2NhbGxzL2Z1dGV4L2Z1dGV4X2NtcF9yZXF1ZXVlMDEuYyAg
ICB8IDEzMiArKysrKysrKysrKysrKysrKysrKysKIDQgZmlsZXMgY2hhbmdlZCwgMTM1IGluc2Vy
dGlvbnMoKykKIGNyZWF0ZSBtb2RlIDEwMDY0NCB0ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2Z1
dGV4L2Z1dGV4X2NtcF9yZXF1ZXVlMDEuYwoKZGlmZiAtLWdpdCBhL3J1bnRlc3Qvc3lzY2FsbHMg
Yi9ydW50ZXN0L3N5c2NhbGxzCmluZGV4IGM2YTA2NDQuLmFmNWVkYTUgMTAwNjQ0Ci0tLSBhL3J1
bnRlc3Qvc3lzY2FsbHMKKysrIGIvcnVudGVzdC9zeXNjYWxscwpAQCAtMTU0OSw2ICsxNTQ5LDcg
QEAgd3JpdGV2MDcgd3JpdGV2MDcKIHBlcmZfZXZlbnRfb3BlbjAxIHBlcmZfZXZlbnRfb3BlbjAx
CiBwZXJmX2V2ZW50X29wZW4wMiBwZXJmX2V2ZW50X29wZW4wMgogCitmdXRleF9jbXBfcmVxdWV1
ZTAxIGZ1dGV4X2NtcF9yZXF1ZXVlMDEKIGZ1dGV4X3dhaXQwMSBmdXRleF93YWl0MDEKIGZ1dGV4
X3dhaXQwMiBmdXRleF93YWl0MDIKIGZ1dGV4X3dhaXQwMyBmdXRleF93YWl0MDMKZGlmZiAtLWdp
dCBhL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvZnV0ZXgvLmdpdGlnbm9yZSBiL3Rlc3RjYXNl
cy9rZXJuZWwvc3lzY2FsbHMvZnV0ZXgvLmdpdGlnbm9yZQppbmRleCBkYmMyZDUyLi40NjY2YTJj
IDEwMDY0NAotLS0gYS90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2Z1dGV4Ly5naXRpZ25vcmUK
KysrIGIvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9mdXRleC8uZ2l0aWdub3JlCkBAIC0xLDMg
KzEsNCBAQAorL2Z1dGV4X2NtcF9yZXF1ZXVlMDEKIC9mdXRleF93YWl0MDEKIC9mdXRleF93YWl0
MDIKIC9mdXRleF93YWl0MDMKZGlmZiAtLWdpdCBhL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMv
ZnV0ZXgvTWFrZWZpbGUgYi90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2Z1dGV4L01ha2VmaWxl
CmluZGV4IDZlNzJkYWYuLmM0ZDUwMzMgMTAwNjQ0Ci0tLSBhL3Rlc3RjYXNlcy9rZXJuZWwvc3lz
Y2FsbHMvZnV0ZXgvTWFrZWZpbGUKKysrIGIvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9mdXRl
eC9NYWtlZmlsZQpAQCAtMTgsNiArMTgsNyBAQAogCiB0b3Bfc3JjZGlyCQk/PSAuLi8uLi8uLi8u
LgogCitmdXRleF9jbXBfcmVxdWV1ZTAxOiBMRExJQlMrPS1scnQKIGZ1dGV4X3dhaXQwMjogTERM
SUJTKz0tbHJ0CiBmdXRleF93YWtlMDM6IExETElCUys9LWxydAogZnV0ZXhfd2FpdDAzOiBDRkxB
R1MrPS1wdGhyZWFkCmRpZmYgLS1naXQgYS90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2Z1dGV4
L2Z1dGV4X2NtcF9yZXF1ZXVlMDEuYyBiL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvZnV0ZXgv
ZnV0ZXhfY21wX3JlcXVldWUwMS5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAu
LmNkZDU5YTEKLS0tIC9kZXYvbnVsbAorKysgYi90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2Z1
dGV4L2Z1dGV4X2NtcF9yZXF1ZXVlMDEuYwpAQCAtMCwwICsxLDEzMiBAQAorLy8gU1BEWC1MaWNl
bnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb3ItbGF0ZXIKKy8qCisgKiBDb3B5cmlnaHQgKEMpIDIw
MTkgWGlhbyBZYW5nIDxpY2VfeWFuZ3hpYW9AMTYzLmNvbT4KKyAqCisgKiBEZXNjcmlwdGlvbjoK
KyAqIFRlc3RjYXNlIHRvIGNoZWNrIHRoZSBiYXNpYyBmdW5jdGlvbmFsaXR5IG9mIGZ1dGV4KEZV
VEVYX0NNUF9SRVFVRVVFKS4KKyAqIGZ1dGV4KEZVVEVYX0NNUF9SRVFVRVVFKSBjYW4gd2FrZSB1
cCB0aGUgbnVtYmVyIG9mIHdhaXRlcnMgc3BlY2lmaWVkCisgKiBieSB2YWwgYXJndW1lbnQgYW5k
IHRoZW4gcmVxdWV1ZSB0aGUgbnVtYmVyIG9mIHdhaXRlcnMgbGltaXRlZCBieSB2YWwyCisgKiBh
cmd1bWVudChpLmUuIG1vdmUgc29tZSByZW1haW5pbmcgd2FpdGVycyBmcm9tIHVhZGRyIHRvIHVh
ZGRyMiBhZGRyZXNzKS4KKyAqLworCisjaW5jbHVkZSA8ZXJybm8uaD4KKyNpbmNsdWRlIDxzeXMv
d2FpdC5oPgorI2luY2x1ZGUgPHN0ZGxpYi5oPgorI2luY2x1ZGUgPGxpbnV4L2Z1dGV4Lmg+Cisj
aW5jbHVkZSA8c3lzL3RpbWUuaD4KKworI2luY2x1ZGUgInRzdF90aW1lcl90ZXN0LmgiCisjaW5j
bHVkZSAidHN0X3Rlc3QuaCIKKyNpbmNsdWRlICJmdXRleHRlc3QuaCIKKworc3RhdGljIGZ1dGV4
X3QgKmZ1dGV4ZXM7CisKK3N0YXRpYyBzdHJ1Y3QgdGNhc2UgeworCWludCBudW1fd2FpdGVyczsK
KwlpbnQgc2V0X3dha2VzOworCWludCBzZXRfcmVxdWV1ZXM7CisJaW50IGV4cF9yZXQ7CisJaW50
IGV4cF93YWtlczsKKwlpbnQgZXhwX3JlcXVldWVzOworfSB0Y2FzZXNbXSA9IHsKKwl7MTAsIDMs
IDcsIDEwLCAzLCA3fSwKKwl7MTAsIDAsIDEwLCAxMCwgMCwgMTB9LAorCXsxMCwgMiwgNiwgOCwg
MiwgNn0sCisJezEwMCwgNTAsIDUwLCAxMDAsIDUwLCA1MH0sCisJezEwMCwgMCwgNzAsIDcwLCAw
LCA3MH0sCisJezEwMDAsIDEwMCwgOTAwLCAxMDAwLCAxMDAsIDkwMH0sCisJezEwMDAsIDMwMCwg
NTAwLCA4MDAsIDMwMCwgNTAwfSwKK307CisKK3N0YXRpYyB2b2lkIGRvX2NoaWxkKHZvaWQpCit7
CisJc3RydWN0IHRpbWVzcGVjIHVzZWMgPSB0c3RfbXNfdG9fdGltZXNwZWMoMjAwMCk7CisJaW50
IHBpZCA9IGdldHBpZCgpOworCisJaWYgKCFmdXRleF93YWl0KCZmdXRleGVzWzBdLCBmdXRleGVz
WzBdLCAmdXNlYywgMCkpCisJCWV4aXQoMCk7CisKKwl0c3RfcmVzKFRJTkZPIHwgVEVSUk5PLCAi
cHJvY2VzcyAlZCB3YXNuJ3Qgd29rZW4gdXAiLCBwaWQpOworCWV4aXQoMSk7Cit9CisKK3N0YXRp
YyB2b2lkIHZlcmlmeV9mdXRleF9jbXBfcmVxdWV1ZSh1bnNpZ25lZCBpbnQgbikKK3sKKwlpbnQg
bnVtX3JlcXVldWVzID0gMCwgbnVtX3dhaXRzID0gMCwgbnVtX3RvdGFsID0gMDsKKwlpbnQgaSwg
c3RhdHVzOworCXN0cnVjdCB0Y2FzZSAqdGMgPSAmdGNhc2VzW25dOworCWludCBwaWRbdGMtPm51
bV93YWl0ZXJzXTsKKworCWZvciAoaSA9IDA7IGkgPCB0Yy0+bnVtX3dhaXRlcnM7IGkrKykgewor
CQlwaWRbaV0gPSBTQUZFX0ZPUksoKTsKKwkJaWYgKCFwaWRbaV0pCisJCQlkb19jaGlsZCgpOwor
CX0KKworCWZvciAoaSA9IDA7IGkgPCB0Yy0+bnVtX3dhaXRlcnM7IGkrKykKKwkJVFNUX1BST0NF
U1NfU1RBVEVfV0FJVChwaWRbaV0sICdTJyk7CisKKwlURVNUKGZ1dGV4X2NtcF9yZXF1ZXVlKCZm
dXRleGVzWzBdLCBmdXRleGVzWzBdLCAmZnV0ZXhlc1sxXSwKKwkgICAgIHRjLT5zZXRfd2FrZXMs
IHRjLT5zZXRfcmVxdWV1ZXMsIDApKTsKKwlpZiAoVFNUX1JFVCAhPSB0Yy0+ZXhwX3JldCkgewor
CQl0c3RfcmVzKFRGQUlMLCAiZnV0ZXhfY21wX3JlcXVldWUoKSByZXR1cm5lZCAlbGQsIGV4cGVj
dGVkICVkIiwKKwkJCVRTVF9SRVQsIHRjLT5leHBfcmV0KTsKKwl9CisKKwludW1fcmVxdWV1ZXMg
PSBmdXRleF93YWtlKCZmdXRleGVzWzFdLCB0Yy0+bnVtX3dhaXRlcnMsIDApOworCW51bV93YWl0
cyA9IGZ1dGV4X3dha2UoJmZ1dGV4ZXNbMF0sIHRjLT5udW1fd2FpdGVycywgMCk7CisKKwlmb3Ig
KGkgPSAwOyBpIDwgdGMtPm51bV93YWl0ZXJzOyBpKyspIHsKKwkJU0FGRV9XQUlUUElEKHBpZFtp
XSwgJnN0YXR1cywgMCk7CisJCWlmIChXSUZFWElURUQoc3RhdHVzKSAmJiAhV0VYSVRTVEFUVVMo
c3RhdHVzKSkKKwkJCW51bV90b3RhbCsrOworCX0KKworCWlmIChudW1fdG90YWwgIT0gdGMtPm51
bV93YWl0ZXJzKSB7CisJCXRzdF9yZXMoVEZBSUwsICIlZCB3YWl0ZXJzIHdlcmUgbm90IHdva2Vu
IHVwIG5vcm1hbGx5IiwKKwkJCXRjLT5udW1fd2FpdGVycyAtIG51bV90b3RhbCk7CisJCXJldHVy
bjsKKwl9CisKKwlpZiAobnVtX3JlcXVldWVzICE9IHRjLT5leHBfcmVxdWV1ZXMpIHsKKwkJdHN0
X3JlcyhURkFJTCwKKwkJCSJmdXRleF9jbXBfcmVxdWV1ZSgpIHJlcXVldWVzICVkIHdhaXRlcnMs
IGV4cGVjdGVkICVkIiwKKwkJCW51bV9yZXF1ZXVlcywgdGMtPmV4cF9yZXF1ZXVlcyk7CisJCXJl
dHVybjsKKwl9CisKKwlpZiAodGMtPm51bV93YWl0ZXJzIC0gbnVtX3JlcXVldWVzIC0gbnVtX3dh
aXRzICE9IHRjLT5leHBfd2FrZXMpIHsKKwkJdHN0X3JlcyhURkFJTCwKKwkJCSJmdXRleF9jbXBf
cmVxdWV1ZSgpIHdva2UgdXAgJWQgd2FpdGVycywgZXhwZWN0ZWQgJWQiLAorCQkJdGMtPm51bV93
YWl0ZXJzIC0gbnVtX3JlcXVldWVzIC0gbnVtX3dhaXRzLAorCQkJdGMtPmV4cF93YWtlcyk7CisJ
CXJldHVybjsKKwl9CisKKwl0c3RfcmVzKFRQQVNTLAorCQkiZnV0ZXhfY21wX3JlcXVldWUoKSB3
b2tlIHVwICVkIHdhaXRlcnMgYW5kIHJlcXVldWVkICVkIHdhaXRlcnMiLAorCQl0Yy0+ZXhwX3dh
a2VzLCB0Yy0+ZXhwX3JlcXVldWVzKTsKK30KKworc3RhdGljIHZvaWQgc2V0dXAodm9pZCkKK3sK
KwlmdXRleGVzID0gU0FGRV9NTUFQKE5VTEwsIHNpemVvZihmdXRleF90KSAqIDIsIFBST1RfUkVB
RCB8IFBST1RfV1JJVEUsCisJCQkgICAgTUFQX0FOT05ZTU9VUyB8IE1BUF9TSEFSRUQsIC0xLCAw
KTsKKworCWZ1dGV4ZXNbMF0gPSBGVVRFWF9JTklUSUFMSVpFUjsKKwlmdXRleGVzWzFdID0gRlVU
RVhfSU5JVElBTElaRVIgKyAxOworfQorCitzdGF0aWMgdm9pZCBjbGVhbnVwKHZvaWQpCit7CisJ
aWYgKGZ1dGV4ZXMpCisJCVNBRkVfTVVOTUFQKCh2b2lkICopZnV0ZXhlcywgc2l6ZW9mKGZ1dGV4
X3QpICogMik7Cit9CisKK3N0YXRpYyBzdHJ1Y3QgdHN0X3Rlc3QgdGVzdCA9IHsKKwkuc2V0dXAg
PSBzZXR1cCwKKwkuY2xlYW51cCA9IGNsZWFudXAsCisJLnRjbnQgPSBBUlJBWV9TSVpFKHRjYXNl
cyksCisJLnRlc3QgPSB2ZXJpZnlfZnV0ZXhfY21wX3JlcXVldWUsCisJLmZvcmtzX2NoaWxkID0g
MSwKK307Ci0tIAoxLjguMy4xCgoKCi0tIApNYWlsaW5nIGxpc3QgaW5mbzogaHR0cHM6Ly9saXN0
cy5saW51eC5pdC9saXN0aW5mby9sdHAK
