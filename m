Return-Path: <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>
X-Original-To: lists+linux-ltp@lfdr.de
Delivered-To: lists+linux-ltp@lfdr.de
Received: from picard.linux.it (picard.linux.it [213.254.12.146])
	by mail.lfdr.de (Postfix) with ESMTPS id 548C6AF11D0
	for <lists+linux-ltp@lfdr.de>; Wed,  2 Jul 2025 12:26:43 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=lists.linux.it;
 i=@lists.linux.it; q=dns/txt; s=picard; t=1751452002; h=date :
 mime-version : message-id : references : in-reply-to : to : subject :
 list-id : list-unsubscribe : list-archive : list-post : list-help :
 list-subscribe : from : reply-to : cc : content-type :
 content-transfer-encoding : sender : from;
 bh=+43eibgdmBIwjlDMBqmg3WjZzb/XcRr5Bnv710eJARo=;
 b=OWPwPDTN7oyDKV9OILVt3O8WSQNnb7Ze9/iN7Xl4hPUgf+tdzTG+mQ+OaSGqRkAXqcn8+
 h51eyJSqU0QDWiAuspRWli74aWe3bXBcefb4w4TFqyZcoOgoty7Pby8mrd9psngLe42qGwF
 MQ5s3H3TL5I4KHYXwFw/plmLPZlwlBc=
Received: from picard.linux.it (localhost [IPv6:::1])
	by picard.linux.it (Postfix) with ESMTP id E71573C8A6B
	for <lists+linux-ltp@lfdr.de>; Wed,  2 Jul 2025 12:26:42 +0200 (CEST)
X-Original-To: ltp@lists.linux.it
Delivered-To: ltp@picard.linux.it
Received: from in-6.smtp.seeweb.it (in-6.smtp.seeweb.it
 [IPv6:2001:4b78:1:20::6])
 (using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
 key-exchange X25519 server-signature ECDSA (secp384r1))
 (No client certificate requested)
 by picard.linux.it (Postfix) with ESMTPS id 49FB83C8BDD
 for <ltp@lists.linux.it>; Wed,  2 Jul 2025 12:26:05 +0200 (CEST)
Received: from mail-wm1-x329.google.com (mail-wm1-x329.google.com
 [IPv6:2a00:1450:4864:20::329])
 (using TLSv1.3 with cipher TLS_AES_128_GCM_SHA256 (128/128 bits)
 key-exchange X25519 server-signature RSA-PSS (2048 bits) server-digest SHA256)
 (No client certificate requested)
 by in-6.smtp.seeweb.it (Postfix) with ESMTPS id B146014001E9
 for <ltp@lists.linux.it>; Wed,  2 Jul 2025 12:26:04 +0200 (CEST)
Received: by mail-wm1-x329.google.com with SMTP id
 5b1f17b1804b1-451d7b50815so31679615e9.2
 for <ltp@lists.linux.it>; Wed, 02 Jul 2025 03:26:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=suse.com; s=google; t=1751451964; x=1752056764; darn=lists.linux.it;
 h=cc:to:in-reply-to:references:message-id:content-transfer-encoding
 :mime-version:subject:date:from:from:to:cc:subject:date:message-id
 :reply-to; bh=ymfFqHb3wSbJvFWfRPBd6Fym6HD4nz7JikGt36N7LzU=;
 b=fOoefVCOA3Iy8MCykf+1XeFzdC09+rdmiB0jUv73QuZcaTMDhgqWvTzmtYXGbyv2fV
 aP28yLKOC4MPZc19yrjc4GJC+I7tqHmyBmWiDkAGkRD6d52+U8uENt07YhOqWQQre7y0
 5vzs7X/ou/IM/3cqzRP7isDQ1tXGyPq60VNFR/T0v/NLF+y2Fx3z8QOvXr73ianknIkv
 jcNMNvlh4O/ORa1vBXX1Fvo7svJgxSC2NTLgLgtLvk1cVjyh2nJGF5fR8jpuGctDduO0
 7SlbauN6oggBFPWEZuhvGBrnV7f3qs9t5uDxS9JnwZwXlEYZhaCwdGP4JNDstqpEDXDa
 jaew==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20230601; t=1751451964; x=1752056764;
 h=cc:to:in-reply-to:references:message-id:content-transfer-encoding
 :mime-version:subject:date:from:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=ymfFqHb3wSbJvFWfRPBd6Fym6HD4nz7JikGt36N7LzU=;
 b=N3gJBYQ+NmKikjromT/x6K6+FZtTYybGtT+crwn6KaICMSI1XlLf7eijZxj7IW09Xs
 sMDZWYBDXlBHZB6w3JpRkCr6NaXsFS5NwO2RtA+NjpVZHWad9AOy/PpzAj8ctRJbOHTQ
 WoiOV6tqIQnaL16A6m5B8bihDnU3GsChenoCb2evefIKNWpeNg++5j3Pr3erxbKtpTH1
 P6rmchZ0Wpij3rWqGc9uv50qukTZnvKZWnKTTfPwyGXr50EKeoGAfWLziIw1FIuySqDS
 B8fvQAzAy2DKrEK4IcqJfUOjYwzx8tzTIgu+5OamYXw6rloNFP6tEbwgpXEZ5jijFwCS
 PMNw==
X-Gm-Message-State: AOJu0Yy5D2eD3jecVpGDgoNZiIByUzcX7e8SEt1PB/NXC73jTppe9xZv
 tc1Sfva0d2OH5Z+F3TPXXJj4S8uDTAkM82YisTBayWuviuLAfp/BAd7h4PnVjlKhgrs=
X-Gm-Gg: ASbGncuPsULjJvOzxA8IixkhecE+sHm5HLj0/U6Re5XHAT7UIFaaxXWrVgLNHw1LOOw
 6aSpkvvx0GmDANGSuYTXwP69SBfbL8/TxxFBL0LG7AwrGCIxbzsTMJR+BFy9FIJ4cp69OMUim18
 T4HGhfWRjAicz4ZACuaxvIM7Bg4dKO391mrg/CKC1mworxSLIT9aIe+f9HVmqW/igQr1DYe5VFH
 lB6svVA5m36hfPAIYJWFsiKt7QerSXXnqIHm0rAU+9RiMJk3tn28WpF0BJ858cE3pKRin32sO60
 vSDCtEjEXQAzBq0tyYXLMrImzXLscr4PEi2BWRja21Pl9yuOig==
X-Google-Smtp-Source: AGHT+IEbewS5NK6SsUaTc2nVjyRbVtIOoQOWp75LVJLKw8IJrxZ0L4MNeDhvZ3J1qee60i8JNy5xvw==
X-Received: by 2002:a5d:5f8d:0:b0:3a8:2f65:3745 with SMTP id
 ffacd0b85a97d-3b2024427d7mr1536037f8f.51.1751451963804; 
 Wed, 02 Jul 2025 03:26:03 -0700 (PDT)
Received: from localhost ([177.45.162.214])
 by smtp.gmail.com with UTF8SMTPSA id
 6a1803df08f44-6fd773244e8sm98355486d6.121.2025.07.02.03.25.58
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Wed, 02 Jul 2025 03:25:58 -0700 (PDT)
Date: Wed, 02 Jul 2025 07:25:42 -0300
MIME-Version: 1.0
Message-Id: <20250702-conversions-lchown-v1-2-ac7adb3af51d@suse.com>
References: <20250702-conversions-lchown-v1-0-ac7adb3af51d@suse.com>
In-Reply-To: <20250702-conversions-lchown-v1-0-ac7adb3af51d@suse.com>
To: Linux Test Project <ltp@lists.linux.it>
X-Mailer: b4 0.14.2
X-Developer-Signature: v=1; a=openpgp-sha256; l=6951; i=rbm@suse.com;
 h=from:subject:message-id; bh=Lr5sIhJwI0dcSxdtwkPze8oMM8a+qgTm7ZzzAyEBslw=;
 b=owEBbQKS/ZANAwAIAckLinxjhlimAcsmYgBoZQkpH+HOJ84uWstdR9aNdmm2RFv86KSJTjbP1
 BPD0GMZ7xaJAjMEAAEIAB0WIQQDCo6eQk7jwGVXh+HJC4p8Y4ZYpgUCaGUJKQAKCRDJC4p8Y4ZY
 ptMND/9tQ249dej9cfAH3CZQQW9olNHYaq6EWmylw8vTUBj/ANeIseCT02tYAkTQuisq8Nui+Ck
 Nbnv/+vMGPMxCqmqDdFBEhQzbOoKKbRD1e0Cur20XVt7fbiuNWb57Z2t8sE+0L6tLQiigL81k8r
 ZIud/tMUzU57EmXWGGzIZBK00j7rwqWpdm+A3mJ6AoSda9rTaayNvo8vL8/lqNxgFj6m0Ea8Hq/
 Gpq6byp8cg2zC90S0d41fD3hSlRvHs20HEFbS/IpA48TXTKk3Ajp6QvbQJKwoJzCt5oXU3W0uow
 ARvSxGhyP/X6z+DiTJjn/utgfoo8hN9CXMry2VK5SEDH9WFXyEHDSRncASqS25NkykFPJxMS1/d
 UBuBL36bTdahj+VdgKmk5SmbWqBUJlmGo4XJIl0Avi7GNjwdsc/bnBfxt/va2iuEqROY4f7XOA4
 mDTScLDB9MsQiPBrJloQUVtFJGlMsqu4/vhA5v7xMeZKkiPt6MfPKo3a6JUG+B/a4IwgGhfvVJD
 GAtnDwOGkYYbnR+UpbomQGbaEbrz++6ovxtFv9D8AOBWAkYdXPqa9SnZ5KnEiv+UU3tIk0pINyh
 79QHeCrMon4GkTDa+UQRCqJEAI+k+Jc+YrQbTMZOUJDRPkAABRTewmWKrHo84FZqsQkVUAPwjT0
 Dx0wzq/suYbjSmw==
X-Developer-Key: i=rbm@suse.com; a=openpgp;
 fpr=030A8E9E424EE3C0655787E1C90B8A7C638658A6
X-Spam-Status: No, score=0.1 required=7.0 tests=DKIM_SIGNED,DKIM_VALID,
 DKIM_VALID_AU,DKIM_VALID_EF,SPF_HELO_NONE,SPF_PASS shortcircuit=no
 autolearn=disabled version=4.0.1
X-Spam-Checker-Version: SpamAssassin 4.0.1 (2024-03-25) on in-6.smtp.seeweb.it
X-Virus-Scanned: clamav-milter 1.0.7 at in-6.smtp.seeweb.it
X-Virus-Status: Clean
Subject: [LTP] [PATCH 2/4] syscalls: lchown01: Convert to new API
X-BeenThere: ltp@lists.linux.it
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Linux Test Project <ltp.lists.linux.it>
List-Unsubscribe: <https://lists.linux.it/options/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=unsubscribe>
List-Archive: <http://lists.linux.it/pipermail/ltp/>
List-Post: <mailto:ltp@lists.linux.it>
List-Help: <mailto:ltp-request@lists.linux.it?subject=help>
List-Subscribe: <https://lists.linux.it/listinfo/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=subscribe>
From: =?utf-8?q?Ricardo_B=2E_Marli=C3=A8re_via_ltp?= <ltp@lists.linux.it>
Reply-To: =?utf-8?B?UmljYXJkbyBCLiBNYXJsacOocmU=?= <rbm@suse.com>
Cc: =?utf-8?q?Ricardo_B=2E_Marli=C3=A8re?= <rbm@suse.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it
Sender: "ltp" <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>

RnJvbTogUmljYXJkbyBCLiBNYXJsacOocmUgPHJibUBzdXNlLmNvbT4KClNpZ25lZC1vZmYtYnk6
IFJpY2FyZG8gQi4gTWFybGnDqHJlIDxyYm1Ac3VzZS5jb20+Ci0tLQogdGVzdGNhc2VzL2tlcm5l
bC9zeXNjYWxscy9sY2hvd24vbGNob3duMDEuYyB8IDE5OCArKysrKysrKystLS0tLS0tLS0tLS0t
LS0tLS0tCiAxIGZpbGUgY2hhbmdlZCwgNTkgaW5zZXJ0aW9ucygrKSwgMTM5IGRlbGV0aW9ucygt
KQoKZGlmZiAtLWdpdCBhL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvbGNob3duL2xjaG93bjAx
LmMgYi90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2xjaG93bi9sY2hvd24wMS5jCmluZGV4IGFh
YTBlZjQwMzhhMWFhZDIzMjEyZWMyZDE4ODI3NGRkZDdmY2Y1MGQuLjk5MmZmNzI5NDljMTE5NjNl
MzQ1OTI4Y2I4MWVmYWU1YmU5M2QxMjggMTAwNjQ0Ci0tLSBhL3Rlc3RjYXNlcy9rZXJuZWwvc3lz
Y2FsbHMvbGNob3duL2xjaG93bjAxLmMKKysrIGIvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9s
Y2hvd24vbGNob3duMDEuYwpAQCAtMSw1OSArMSwyNSBAQAorLy8gU1BEWC1MaWNlbnNlLUlkZW50
aWZpZXI6IEdQTC0yLjAtb3ItbGF0ZXIKIC8qCiAgKiBDb3B5cmlnaHQgKGMpIEludGVybmF0aW9u
YWwgQnVzaW5lc3MgTWFjaGluZXMgIENvcnAuLCAyMDAxCi0gKgotICogVGhpcyBwcm9ncmFtIGlz
IGZyZWUgc29mdHdhcmU7ICB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5Ci0g
KiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFz
IHB1Ymxpc2hlZCBieQotICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbjsgZWl0aGVyIHZl
cnNpb24gMiBvZiB0aGUgTGljZW5zZSwgb3IKLSAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVy
IHZlcnNpb24uCi0gKgotICogVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3Bl
IHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCi0gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7ICB3
aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKLSAqIE1FUkNIQU5UQUJJTElUWSBv
ciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZQotICogdGhlIEdOVSBHZW5l
cmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCi0gKgotICogWW91IHNob3VsZCBo
YXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKLSAq
IGFsb25nIHdpdGggdGhpcyBwcm9ncmFtOyAgaWYgbm90LCB3cml0ZSB0byB0aGUgRnJlZSBTb2Z0
d2FyZQotICogRm91bmRhdGlvbiwgSW5jLiwgNTEgRnJhbmtsaW4gU3RyZWV0LCBGaWZ0aCBGbG9v
ciwgQm9zdG9uLCBNQSAwMjExMC0xMzAxIFVTQQotICovCi0KLS8qCi0gKiBUZXN0IERlc2NyaXB0
aW9uOgotICogIFZlcmlmeSB0aGF0LCBsY2hvd24oMikgc3VjY2VlZHMgdG8gY2hhbmdlIHRoZSBv
d25lciBhbmQgZ3JvdXAgb2YgYSBmaWxlCi0gKiAgc3BlY2lmaWVkIGJ5IHBhdGggdG8gYW55IG51
bWVyaWMgb3duZXIodWlkKS9ncm91cChnaWQpIHZhbHVlcyB3aGVuIGludm9rZWQKLSAqICBieSBz
dXBlci11c2VyLgotICoKLSAqIEV4cGVjdGVkIFJlc3VsdDoKLSAqICBsY2hvd24oMikgc2hvdWxk
IHJldHVybiAwIGFuZCB0aGUgb3duZXJzaGlwIHNldCBvbiB0aGUgZmlsZSBzaG91bGQgbWF0Y2gK
LSAqICB0aGUgbnVtZXJpYyB2YWx1ZXMgY29udGFpbmVkIGluIG93bmVyIGFuZCBncm91cCByZXNw
ZWN0aXZlbHkuCi0gKgotICogSElTVE9SWQogICoJMDcvMjAwMSBQb3J0ZWQgYnkgV2F5bmUgQm95
ZXIKICAqCTExLzIwMTAgQ29kZSBjbGVhbnVwIGJ5IEN5cmlsIEhydWJpcyBjaHJ1YmlzQHN1c2Uu
Y3oKKyAqIENvcHlyaWdodCAoYykgMjAyNSBTVVNFIExMQyBSaWNhcmRvIEIuIE1hcmxpw6hyZSA8
cmJtQHN1c2UuY29tPgogICovCiAKLSNpbmNsdWRlIDxzdGRpby5oPgotI2luY2x1ZGUgPHN5cy90
eXBlcy5oPgotI2luY2x1ZGUgPHN5cy9zdGF0Lmg+Ci0jaW5jbHVkZSA8ZmNudGwuaD4KLSNpbmNs
dWRlIDxlcnJuby5oPgotI2luY2x1ZGUgPHN0cmluZy5oPgotI2luY2x1ZGUgPHNpZ25hbC5oPgot
Ci0jaW5jbHVkZSAidGVzdC5oIgotI2luY2x1ZGUgInNhZmVfbWFjcm9zLmgiCi0KLS8qCi0gKiBE
b24ndCBmb3JnZXQgdG8gcmVtb3ZlIFVTRV9MRUdBQ1lfQ09NUEFUXzE2X0ggZnJvbSBNYWtlZmls
ZSBhZnRlcgotICogcmV3cml0aW5nIGFsbCB0ZXN0cyB0byB0aGUgbmV3IEFQSS4KKy8qXAorICog
VmVyaWZ5IHRoYXQsIGxjaG93bigyKSBzdWNjZWVkcyB0byBjaGFuZ2UgdGhlIG93bmVyIGFuZCBn
cm91cCBvZiBhIGZpbGUKKyAqIHNwZWNpZmllZCBieSBwYXRoIHRvIGFueSBudW1lcmljIG93bmVy
KHVpZCkvZ3JvdXAoZ2lkKSB2YWx1ZXMgd2hlbiBpbnZva2VkCisgKiBieSBzdXBlci11c2VyLgor
ICoKKyAqIGxjaG93bigyKSBzaG91bGQgcmV0dXJuIDAgYW5kIHRoZSBvd25lcnNoaXAgc2V0IG9u
IHRoZSBmaWxlIHNob3VsZCBtYXRjaAorICogdGhlIG51bWVyaWMgdmFsdWVzIGNvbnRhaW5lZCBp
biBvd25lciBhbmQgZ3JvdXAgcmVzcGVjdGl2ZWx5LgogICovCi0jaW5jbHVkZSAiY29tcGF0XzE2
LmgiCiAKLSNkZWZpbmUgRklMRV9NT0RFCShTX0lGUkVHfFNfSVJVU1J8U19JV1VTUnxTX0lSR1JQ
fFNfSVJPVEgpCi0jZGVmaW5lIFRFU1RGSUxFCSJ0ZXN0ZmlsZSIKLSNkZWZpbmUgU0ZJTEUJCSJz
bGlua19maWxlIgorI2luY2x1ZGUgInRzdF90ZXN0LmgiCiAKLVRDSURfREVGSU5FKGxjaG93bjAx
KTsKLWludCBUU1RfVE9UQUwgPSA1OworI2RlZmluZSBGSUxFX01PREUgKFNfSUZSRUcgfCBTX0lS
VVNSIHwgU19JV1VTUiB8IFNfSVJHUlAgfCBTX0lST1RIKQorI2RlZmluZSBURVNURklMRSAidGVz
dGZpbGUiCisjZGVmaW5lIFNGSUxFICJzbGlua19maWxlIgogCiBzdHJ1Y3QgdGVzdF9jYXNlX3Qg
ewogCWNoYXIgKmRlc2M7CkBAIC02MiwxMTQgKzI4LDY4IEBAIHN0cnVjdCB0ZXN0X2Nhc2VfdCB7
CiB9OwogCiBzdGF0aWMgc3RydWN0IHRlc3RfY2FzZV90IHRlc3RfY2FzZXNbXSA9IHsKLQl7IkNo
YW5nZSBPd25lci9Hcm91cCBpZHMiLCA3MDAsIDcwMX0sCi0JeyJDaGFuZ2UgT3duZXIgaWQgb25s
eSIsIDcwMiwgLTF9LAotCXsiQ2hhbmdlIE93bmVyL0dyb3VwIGlkcyIsIDcwMywgNzAxfSwKLQl7
IkNoYW5nZSBHcm91cCBpZCBvbmx5IiwgLTEsIDcwNH0sCi0JeyJDaGFuZ2UgR3JvdXAvR3JvdXAg
aWRzIiwgNzAzLCA3MDV9LAotCXsiQ2hhbmdlIG5vbmUiLCAtMSwgLTF9LAotCXtOVUxMLCAwLCAw
fQorCXsgIkNoYW5nZSBPd25lci9Hcm91cCBpZHMiLCA3MDAsIDcwMSB9LAorCXsgIkNoYW5nZSBP
d25lciBpZCBvbmx5IiwgNzAyLCAtMSB9LAorCXsgIkNoYW5nZSBPd25lci9Hcm91cCBpZHMiLCA3
MDMsIDcwMSB9LAorCXsgIkNoYW5nZSBHcm91cCBpZCBvbmx5IiwgLTEsIDcwNCB9LAorCXsgIkNo
YW5nZSBHcm91cC9Hcm91cCBpZHMiLCA3MDMsIDcwNSB9LAorCXsgIkNoYW5nZSBub25lIiwgLTEs
IC0xIH0sCiB9OwogCi1zdGF0aWMgdm9pZCBzZXR1cCh2b2lkKTsKLXN0YXRpYyB2b2lkIGNsZWFu
dXAodm9pZCk7Ci0KLWludCBtYWluKGludCBhcmdjLCBjaGFyICphcmd2W10pCitzdGF0aWMgdm9p
ZCBydW4odW5zaWduZWQgaW50IGkpCiB7CiAJc3RydWN0IHN0YXQgc3RhdF9idWY7Ci0JaW50IGxj
OwotCWludCBpOwotCi0JdHN0X3BhcnNlX29wdHMoYXJnYywgYXJndiwgTlVMTCwgTlVMTCk7Ci0K
LQlzZXR1cCgpOworCXN0cnVjdCB0ZXN0X2Nhc2VfdCAqdGMgPSAmdGVzdF9jYXNlc1tpXTsKIAot
CWZvciAobGMgPSAwOyBURVNUX0xPT1BJTkcobGMpOyBsYysrKSB7CisJdWlkX3QgdXNlcl9pZCA9
IHRjLT51c2VyX2lkOworCWdpZF90IGdyb3VwX2lkID0gdGMtPmdyb3VwX2lkOworCWNoYXIgKnRl
c3RfZGVzYyA9IHRjLT5kZXNjOwogCi0JCXRzdF9jb3VudCA9IDA7CisJLyoKKwkgKiBDYWxsIGxj
aG93bigyKSB3aXRoIGRpZmZlcmVudCB1c2VyIGlkIGFuZCBncm91cCBpZCAobnVtZXJpYyB2YWx1
ZXMpCisJICogdG8gc2V0IGl0IG9uIHN5bWxpbmsgb2YgdGVzdGZpbGUuCisJICovCisJU0FGRV9M
Q0hPV04oU0ZJTEUsIHVzZXJfaWQsIGdyb3VwX2lkKTsKIAotCQlmb3IgKGkgPSAwOyB0ZXN0X2Nh
c2VzW2ldLmRlc2MgIT0gTlVMTDsgaSsrKSB7Ci0JCQl1aWRfdCB1c2VyX2lkID0gdGVzdF9jYXNl
c1tpXS51c2VyX2lkOwotCQkJZ2lkX3QgZ3JvdXBfaWQgPSB0ZXN0X2Nhc2VzW2ldLmdyb3VwX2lk
OwotCQkJY2hhciAqdGVzdF9kZXNjID0gdGVzdF9jYXNlc1tpXS5kZXNjOworCVNBRkVfTFNUQVQo
U0ZJTEUsICZzdGF0X2J1Zik7CiAKLQkJCS8qCi0JCQkgKiBDYWxsIGxjaG93bigyKSB3aXRoIGRp
ZmZlcmVudCB1c2VyIGlkIGFuZAotCQkJICogZ3JvdXAgaWQgKG51bWVyaWMgdmFsdWVzKSB0byBz
ZXQgaXQgb24KLQkJCSAqIHN5bWxpbmsgb2YgdGVzdGZpbGUuCi0JCQkgKi8KLQkJCVRFU1QoTENI
T1dOKGNsZWFudXAsIFNGSUxFLCB1c2VyX2lkLCBncm91cF9pZCkpOwotCi0JCQlpZiAoVEVTVF9S
RVRVUk4gPT0gLTEpIHsKLQkJCQl0c3RfcmVzbShURkFJTCwKLQkJCQkJICJsY2hvd24oKSBGYWls
cyB0byAlcywgZXJybm8gJWQiLAotCQkJCQkgdGVzdF9kZXNjLCBURVNUX0VSUk5PKTsKLQkJCQlj
b250aW51ZTsKLQkJCX0KLQotCQkJaWYgKGxzdGF0KFNGSUxFLCAmc3RhdF9idWYpIDwgMCkgewot
CQkJCXRzdF9icmttKFRGQUlMLCBjbGVhbnVwLCAibHN0YXQoMikgIgotCQkJCQkgIiVzIGZhaWxl
ZCwgZXJybm8gJWQiLAotCQkJCQkgU0ZJTEUsIFRFU1RfRVJSTk8pOwotCQkJfQotCi0JCQlpZiAo
KGludCl1c2VyX2lkID09IC0xKSB7Ci0JCQkJaWYgKGkgPiAwKQotCQkJCQl1c2VyX2lkID0KLQkJ
CQkJICAgIHRlc3RfY2FzZXNbaSAtIDFdLnVzZXJfaWQ7Ci0JCQkJZWxzZQotCQkJCQl1c2VyX2lk
ID0gZ2V0ZXVpZCgpOwotCQkJfQotCi0JCQlpZiAoKGludClncm91cF9pZCA9PSAtMSkgewotCQkJ
CWlmIChpID4gMCkKLQkJCQkJZ3JvdXBfaWQgPQotCQkJCQkgICAgdGVzdF9jYXNlc1tpIC0gMV0u
Z3JvdXBfaWQ7Ci0JCQkJZWxzZQotCQkJCQlncm91cF9pZCA9IGdldGVnaWQoKTsKLQkJCX0KKwlp
ZiAoKGludCl1c2VyX2lkID09IC0xKSB7CisJCWlmIChpID4gMCkKKwkJCXVzZXJfaWQgPSB0ZXN0
X2Nhc2VzW2kgLSAxXS51c2VyX2lkOworCQllbHNlCisJCQl1c2VyX2lkID0gZ2V0ZXVpZCgpOwor
CX0KIAotCQkJLyoKLQkJCSAqIENoZWNrIGZvciBleHBlY3RlZCBPd25lcnNoaXAgaWRzCi0JCQkg
KiBzZXQgb24gdGVzdGZpbGUuCi0JCQkgKi8KLQkJCWlmICgoc3RhdF9idWYuc3RfdWlkICE9IHVz
ZXJfaWQpIHx8Ci0JCQkgICAgKHN0YXRfYnVmLnN0X2dpZCAhPSBncm91cF9pZCkpIHsKLQkJCQl0
c3RfcmVzbShURkFJTCwKLQkJCQkJICIlczogaW5jb3JyZWN0IG93bmVyc2hpcCBzZXQsICIKLQkJ
CQkJICJFeHBlY3RlZCAlZCAlZCIsIFNGSUxFLAotCQkJCQkgdXNlcl9pZCwgZ3JvdXBfaWQpOwot
CQkJfSBlbHNlIHsKLQkJCQl0c3RfcmVzbShUUEFTUywgImxjaG93bigpIHN1Y2NlZWRzIHRvICIK
LQkJCQkJICIlcyBvZiAlcyIsIHRlc3RfZGVzYywgU0ZJTEUpOwotCQkJfQotCQl9CisJaWYgKChp
bnQpZ3JvdXBfaWQgPT0gLTEpIHsKKwkJaWYgKGkgPiAwKQorCQkJZ3JvdXBfaWQgPSB0ZXN0X2Nh
c2VzW2kgLSAxXS5ncm91cF9pZDsKKwkJZWxzZQorCQkJZ3JvdXBfaWQgPSBnZXRlZ2lkKCk7CiAJ
fQogCi0JY2xlYW51cCgpOwotCXRzdF9leGl0KCk7CisJLyogQ2hlY2sgZm9yIGV4cGVjdGVkIG93
bmVyc2hpcCBpZHMgc2V0IG9uIHRlc3RmaWxlLiAqLworCWlmICgoc3RhdF9idWYuc3RfdWlkICE9
IHVzZXJfaWQpIHx8IChzdGF0X2J1Zi5zdF9naWQgIT0gZ3JvdXBfaWQpKSB7CisJCXRzdF9yZXMo
VEZBSUwsICIlczogaW5jb3JyZWN0IG93bmVyc2hpcCBzZXQsIGV4cGVjdGVkICVkICVkIiwKKwkJ
CVNGSUxFLCB1c2VyX2lkLCBncm91cF9pZCk7CisJfSBlbHNlIHsKKwkJdHN0X3JlcyhUUEFTUywg
ImxjaG93bigpIHN1Y2NlZWRzIHRvICVzIG9mICVzIiwgdGVzdF9kZXNjLAorCQkJU0ZJTEUpOwor
CX0KIH0KIAogc3RhdGljIHZvaWQgc2V0dXAodm9pZCkKIHsKIAlpbnQgZmQ7CiAKLQl0c3Rfc2ln
KE5PRk9SSywgREVGX0hBTkRMRVIsIGNsZWFudXApOwotCi0JdHN0X3JlcXVpcmVfcm9vdCgpOwot
Ci0JVEVTVF9QQVVTRTsKLQl0c3RfdG1wZGlyKCk7Ci0KLQlpZiAoKGZkID0gb3BlbihURVNURklM
RSwgT19SRFdSIHwgT19DUkVBVCwgRklMRV9NT0RFKSkgPT0gLTEpIHsKLQkJdHN0X2Jya20oVEJS
T0ssIGNsZWFudXAsICJvcGVuIGZhaWxlZCIpOwotCX0KLQlTQUZFX0NMT1NFKGNsZWFudXAsIGZk
KTsKLQotCVNBRkVfU1lNTElOSyhjbGVhbnVwLCBURVNURklMRSwgU0ZJTEUpOworCWZkID0gU0FG
RV9PUEVOKFRFU1RGSUxFLCBPX1JEV1IgfCBPX0NSRUFULCBGSUxFX01PREUpOworCVNBRkVfQ0xP
U0UoZmQpOworCVNBRkVfU1lNTElOSyhURVNURklMRSwgU0ZJTEUpOwogfQogCi1zdGF0aWMgdm9p
ZCBjbGVhbnVwKHZvaWQpCi17Ci0JdHN0X3JtZGlyKCk7Ci19CitzdGF0aWMgc3RydWN0IHRzdF90
ZXN0IHRlc3QgPSB7CisJLnRjbnQgPSBBUlJBWV9TSVpFKHRlc3RfY2FzZXMpLAorCS50ZXN0ID0g
cnVuLAorCS5zZXR1cCA9IHNldHVwLAorCS5uZWVkc190bXBkaXIgPSAxLAorCS5uZWVkc19yb290
ID0gMSwKK307CgotLSAKMi41MC4wCgoKLS0gCk1haWxpbmcgbGlzdCBpbmZvOiBodHRwczovL2xp
c3RzLmxpbnV4Lml0L2xpc3RpbmZvL2x0cAo=
