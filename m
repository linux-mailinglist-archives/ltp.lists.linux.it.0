Return-Path: <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>
X-Original-To: lists+linux-ltp@lfdr.de
Delivered-To: lists+linux-ltp@lfdr.de
Received: from picard.linux.it (picard.linux.it [213.254.12.146])
	by mail.lfdr.de (Postfix) with ESMTPS id 92DAC3578F
	for <lists+linux-ltp@lfdr.de>; Wed,  5 Jun 2019 09:21:32 +0200 (CEST)
Received: from picard.linux.it (localhost [IPv6:::1])
	by picard.linux.it (Postfix) with ESMTP id 5E59B3EA6A6
	for <lists+linux-ltp@lfdr.de>; Wed,  5 Jun 2019 09:21:32 +0200 (CEST)
X-Original-To: ltp@lists.linux.it
Delivered-To: ltp@picard.linux.it
Received: from in-5.smtp.seeweb.it (in-5.smtp.seeweb.it
 [IPv6:2001:4b78:1:20::5])
 by picard.linux.it (Postfix) with ESMTP id 56C783EA67C
 for <ltp@lists.linux.it>; Wed,  5 Jun 2019 09:21:31 +0200 (CEST)
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by in-5.smtp.seeweb.it (Postfix) with ESMTPS id 2B6AF600D64
 for <ltp@lists.linux.it>; Wed,  5 Jun 2019 09:21:31 +0200 (CEST)
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 062D4AEF9;
 Wed,  5 Jun 2019 07:21:29 +0000 (UTC)
From: Petr Vorel <pvorel@suse.cz>
To: ltp@lists.linux.it
Date: Wed,  5 Jun 2019 09:21:25 +0200
Message-Id: <20190605072126.19856-1-pvorel@suse.cz>
X-Mailer: git-send-email 2.21.0
MIME-Version: 1.0
X-Virus-Scanned: clamav-milter 0.99.2 at in-5.smtp.seeweb.it
X-Virus-Status: Clean
X-Spam-Status: No, score=0.0 required=7.0 tests=SPF_HELO_NONE,SPF_PASS
 autolearn=disabled version=3.4.0
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on in-5.smtp.seeweb.it
Subject: [LTP] [PATCH 1/2] inotify: Add SAFE_MYINOTIFY_INIT{,1}() helpers
X-BeenThere: ltp@lists.linux.it
X-Mailman-Version: 2.1.18
Precedence: list
List-Id: Linux Test Project <ltp.lists.linux.it>
List-Unsubscribe: <https://lists.linux.it/options/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=unsubscribe>
List-Archive: <http://lists.linux.it/pipermail/ltp/>
List-Post: <mailto:ltp@lists.linux.it>
List-Help: <mailto:ltp-request@lists.linux.it?subject=help>
List-Subscribe: <https://lists.linux.it/listinfo/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it
Sender: "ltp" <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>

U2lnbmVkLW9mZi1ieTogUGV0ciBWb3JlbCA8cHZvcmVsQHN1c2UuY3o+Ci0tLQpIaSwKCnNob3Vs
ZCB0aGVyZSBiZSBpbmMvdHN0X3NhZmVfaW5vdGlmeS5oIGFuZApsaWIvdHN0X3NhZmVfaW5vdGlm
eS5jPyBJIGRpZG4ndCBkbyB0aGF0IGFzIHRoYXQgd291bGQgbGluayB0bwpldmVyeXRoaW5nLCB3
aGljaCBpcyB3YXN0ZSBvZiBzcGFjZS4KCktpbmQgcmVnYXJkcywKUGV0cgotLS0KIHRlc3RjYXNl
cy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5LmggICB8IDUxICsrKysrKysrKystLS0t
LS0tLS0KIHRlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDEuYyB8IDEw
ICstLS0KIHRlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDIuYyB8IDEw
ICstLS0KIHRlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDMuYyB8IDEw
ICstLS0KIHRlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDQuYyB8IDEx
ICstLS0KIHRlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDUuYyB8IDEx
ICstLS0KIHRlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDYuYyB8ICA0
ICstCiB0ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2lub3RpZnkvaW5vdGlmeTA3LmMgfCAxMSAr
LS0tCiB0ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2lub3RpZnkvaW5vdGlmeTA4LmMgfCAxMSAr
LS0tCiB0ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2lub3RpZnkvaW5vdGlmeTA5LmMgfCAgNCAr
LQogMTAgZmlsZXMgY2hhbmdlZCwgMzUgaW5zZXJ0aW9ucygrKSwgOTggZGVsZXRpb25zKC0pCgpk
aWZmIC0tZ2l0IGEvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9pbm90aWZ5L2lub3RpZnkuaCBi
L3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5LmgKaW5kZXggMDI5OGNh
NzE1Li5jODJhN2U3NWUgMTAwNjQ0Ci0tLSBhL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5v
dGlmeS9pbm90aWZ5LmgKKysrIGIvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9pbm90aWZ5L2lu
b3RpZnkuaApAQCAtMSwyNyArMSw4IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BM
LTIuMC1vci1sYXRlcgogLyoKICAqIGlub3RpZnkgdGVzdGNhc2UgY29tbW9uIGRlZmluaXRpb25z
LgogICoKLSAqIENvcHlyaWdodCAoYykgMjAxMiBMaW51eCBUZXN0IFByb2plY3QuICBBbGwgUmln
aHRzIFJlc2VydmVkLgotICoKLSAqIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOyB5b3Ug
Y2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5IGl0Ci0gKiB1bmRlciB0aGUgdGVybXMg
b2YgdmVyc2lvbiAyIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcwotICogcHVi
bGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uCi0gKgotICogVGhpcyBwcm9n
cmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd291bGQgYmUgdXNlZnVsLCBi
dXQKLSAqIFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2Fy
cmFudHkgb2YKLSAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIg
UFVSUE9TRS4KLSAqCi0gKiBGdXJ0aGVyLCB0aGlzIHNvZnR3YXJlIGlzIGRpc3RyaWJ1dGVkIHdp
dGhvdXQgYW55IHdhcnJhbnR5IHRoYXQgaXQgaXMKLSAqIGZyZWUgb2YgdGhlIHJpZ2h0ZnVsIGNs
YWltIG9mIGFueSB0aGlyZCBwZXJzb24gcmVnYXJkaW5nIGluZnJpbmdlbWVudAotICogb3IgdGhl
IGxpa2UuICBBbnkgbGljZW5zZSBwcm92aWRlZCBoZXJlaW4sIHdoZXRoZXIgaW1wbGllZCBvcgot
ICogb3RoZXJ3aXNlLCBhcHBsaWVzIG9ubHkgdG8gdGhpcyBzb2Z0d2FyZSBmaWxlLiAgUGF0ZW50
IGxpY2Vuc2VzLCBpZgotICogYW55LCBwcm92aWRlZCBoZXJlaW4gZG8gbm90IGFwcGx5IHRvIGNv
bWJpbmF0aW9ucyBvZiB0aGlzIHByb2dyYW0gd2l0aAotICogb3RoZXIgc29mdHdhcmUsIG9yIGFu
eSBvdGhlciBwcm9kdWN0IHdoYXRzb2V2ZXIuCi0gKgotICogWW91IHNob3VsZCBoYXZlIHJlY2Vp
dmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYWxvbmcKLSAqIHdp
dGggdGhpcyBwcm9ncmFtOyBpZiBub3QsIHdyaXRlIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRp
b24sIEluYy4sCi0gKiA1MSBGcmFua2xpbiBTdHJlZXQsIEZpZnRoIEZsb29yLCBCb3N0b24sIE1B
IDAyMTEwLTEzMDEgVVNBLgotICoKKyAqIENvcHlyaWdodCAoYykgMjAxMi0yMDE5IExpbnV4IFRl
c3QgUHJvamVjdC4gIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCiAgKiBOZ2llIENvb3BlciwgQXByaWwg
MjAxMgogICovCiAKQEAgLTMzLDIwICsxNCw0MCBAQAogLyogaW5vdGlmeSg3KSB3cmFwcGVycyAq
LwogCiAjaWYgX19OUl9pbm90aWZ5X2luaXQgIT0gX19MVFBfX05SX0lOVkFMSURfU1lTQ0FMTAot
I2RlZmluZQlteWlub3RpZnlfaW5pdCgpIFwKKyNkZWZpbmUgbXlpbm90aWZ5X2luaXQoKSBcCiAJ
dHN0X3N5c2NhbGwoX19OUl9pbm90aWZ5X2luaXQpCiAjZWxzZQotI2RlZmluZQlteWlub3RpZnlf
aW5pdCgpIFwKKyNkZWZpbmUgbXlpbm90aWZ5X2luaXQoKSBcCiAJdHN0X3N5c2NhbGwoX19OUl9p
bm90aWZ5X2luaXQxLCAwKQogI2VuZGlmCiAKICNkZWZpbmUgbXlpbm90aWZ5X2luaXQxKGZsYWdz
KSBcCiAJdHN0X3N5c2NhbGwoX19OUl9pbm90aWZ5X2luaXQxLCBmbGFncykKIAotI2RlZmluZQlt
eWlub3RpZnlfYWRkX3dhdGNoKGZkLCBwYXRobmFtZSwgbWFzaykJXAorI2RlZmluZSBteWlub3Rp
ZnlfYWRkX3dhdGNoKGZkLCBwYXRobmFtZSwgbWFzaykJXAogCXRzdF9zeXNjYWxsKF9fTlJfaW5v
dGlmeV9hZGRfd2F0Y2gsIGZkLCBwYXRobmFtZSwgbWFzaykKIAotI2RlZmluZQlteWlub3RpZnlf
cm1fd2F0Y2goZmQsIHdkKSBcCisjZGVmaW5lIG15aW5vdGlmeV9ybV93YXRjaChmZCwgd2QpIFwK
IAl0c3Rfc3lzY2FsbChfX05SX2lub3RpZnlfcm1fd2F0Y2gsIGZkLCB3ZCkKIAorc3RhdGljIGlu
bGluZSBpbnQgc2FmZV9teWlub3RpZnlfaW5pdChjb25zdCBjaGFyICpmaWxlLCBjb25zdCBpbnQg
bGluZW5vLCBpbnQgZmQpCit7CisJaWYgKGZkIDwgMCkgeworCQlpZiAoZXJybm8gPT0gRU5PU1lT
KSB7CisJCQl0c3RfYnJrKFRDT05GLCAiJXM6JWQ6IGlub3RpZnkgaXMgbm90IGNvbmZpZ3VyZWQg
aW4gdGhpcyBrZXJuZWwiLAorCQkJCWZpbGUsIGxpbmVubyk7CisJCX0gZWxzZSB7CisJCQl0c3Rf
YnJrKFRCUk9LIHwgVEVSUk5PLCAiJXM6JWQ6IGlub3RpZnlfaW5pdCBmYWlsZWQiLAorCQkJCWZp
bGUsIGxpbmVubyk7CisJCX0KKwl9CisJcmV0dXJuIGZkOworfQorCisjZGVmaW5lIFNBRkVfTVlJ
Tk9USUZZX0lOSVQoKSBcCisJc2FmZV9teWlub3RpZnlfaW5pdChfX0ZJTEVfXywgX19MSU5FX18s
IG15aW5vdGlmeV9pbml0KCkpCisKKyNkZWZpbmUgU0FGRV9NWUlOT1RJRllfSU5JVDEoZmxhZ3Mp
IFwKKwlzYWZlX215aW5vdGlmeV9pbml0KF9fRklMRV9fLCBfX0xJTkVfXywgbXlpbm90aWZ5X2lu
aXQxKGZsYWdzKSkKKwogI2VuZGlmIC8qIF9JTk9USUZZX0ggKi8KZGlmZiAtLWdpdCBhL3Rlc3Rj
YXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDEuYyBiL3Rlc3RjYXNlcy9rZXJu
ZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDEuYwppbmRleCBmMGNmNTEyOTcuLmYwOGE3NWRj
ZiAxMDA2NDQKLS0tIGEvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9pbm90aWZ5L2lub3RpZnkw
MS5jCisrKyBiL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDEuYwpA
QCAtMTY3LDE1ICsxNjcsNyBAQCBzdGF0aWMgdm9pZCBzZXR1cCh2b2lkKQogCiAJU0FGRV9GSUxF
X1BSSU5URihmbmFtZSwgIiVzIiwgZm5hbWUpOwogCi0JaWYgKChmZF9ub3RpZnkgPSBteWlub3Rp
ZnlfaW5pdCgpKSA8IDApIHsKLQkJaWYgKGVycm5vID09IEVOT1NZUykgewotCQkJdHN0X2JyayhU
Q09ORiwKLQkJCQkiaW5vdGlmeSBpcyBub3QgY29uZmlndXJlZCBpbiB0aGlzIGtlcm5lbC4iKTsK
LQkJfSBlbHNlIHsKLQkJCXRzdF9icmsoVEJST0sgfCBURVJSTk8sCi0JCQkJImlub3RpZnlfaW5p
dCBmYWlsZWQiKTsKLQkJfQotCX0KKwlmZF9ub3RpZnkgPSBTQUZFX01ZSU5PVElGWV9JTklUKCk7
CiAKIAlpZiAoKHdkID0gbXlpbm90aWZ5X2FkZF93YXRjaChmZF9ub3RpZnksIGZuYW1lLCBJTl9B
TExfRVZFTlRTKSkgPCAwKSB7CiAJCXRzdF9icmsoVEJST0sgfCBURVJSTk8sCmRpZmYgLS1naXQg
YS90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2lub3RpZnkvaW5vdGlmeTAyLmMgYi90ZXN0Y2Fz
ZXMva2VybmVsL3N5c2NhbGxzL2lub3RpZnkvaW5vdGlmeTAyLmMKaW5kZXggMDJlYjg1NzY0Li5j
YTcwYjRlOWUgMTAwNjQ0Ci0tLSBhL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9p
bm90aWZ5MDIuYworKysgYi90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2lub3RpZnkvaW5vdGlm
eTAyLmMKQEAgLTIzNCwxNSArMjM0LDcgQEAgdm9pZCB2ZXJpZnlfaW5vdGlmeSh2b2lkKQogCiBz
dGF0aWMgdm9pZCBzZXR1cCh2b2lkKQogewotCWlmICgoZmRfbm90aWZ5ID0gbXlpbm90aWZ5X2lu
aXQoKSkgPCAwKSB7Ci0JCWlmIChlcnJubyA9PSBFTk9TWVMpIHsKLQkJCXRzdF9icmsoVENPTkYs
Ci0JCQkJImlub3RpZnkgaXMgbm90IGNvbmZpZ3VyZWQgaW4gdGhpcyBrZXJuZWwuIik7Ci0JCX0g
ZWxzZSB7Ci0JCQl0c3RfYnJrKFRCUk9LIHwgVEVSUk5PLAotCQkJCSJpbm90aWZ5X2luaXQgKCkg
ZmFpbGVkIik7Ci0JCX0KLQl9CisJZmRfbm90aWZ5ID0gU0FGRV9NWUlOT1RJRllfSU5JVCgpOwog
CiAJaWYgKCh3ZCA9IG15aW5vdGlmeV9hZGRfd2F0Y2goZmRfbm90aWZ5LCAiLiIsIElOX0FMTF9F
VkVOVFMpKSA8IDApIHsKIAkJdHN0X2JyayhUQlJPSyB8IFRFUlJOTywKZGlmZiAtLWdpdCBhL3Rl
c3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDMuYyBiL3Rlc3RjYXNlcy9r
ZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDMuYwppbmRleCBmZjc0MTk5NDQuLjc3MjYy
MzEyNSAxMDA2NDQKLS0tIGEvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9pbm90aWZ5L2lub3Rp
ZnkwMy5jCisrKyBiL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDMu
YwpAQCAtMTcxLDE1ICsxNzEsNyBAQCBzdGF0aWMgdm9pZCBzZXR1cCh2b2lkKQogCS8qIGNsb3Nl
IHRoZSBmaWxlIHdlIGhhdmUgb3BlbiAqLwogCVNBRkVfQ0xPU0UoZmQpOwogCi0JZmRfbm90aWZ5
ID0gbXlpbm90aWZ5X2luaXQoKTsKLQlpZiAoZmRfbm90aWZ5IDwgMCkgewotCQlpZiAoZXJybm8g
PT0gRU5PU1lTKQotCQkJdHN0X2JyayhUQ09ORiwKLQkJCQkiaW5vdGlmeSBpcyBub3QgY29uZmln
dXJlZCBpbiB0aGlzIGtlcm5lbC4iKTsKLQkJZWxzZQotCQkJdHN0X2JyayhUQlJPSyB8IFRFUlJO
TywKLQkJCQkiaW5vdGlmeV9pbml0IGZhaWxlZCIpOwotCX0KKwlmZF9ub3RpZnkgPSBTQUZFX01Z
SU5PVElGWV9JTklUKCk7CiAKIAl0c3RfdW1vdW50KG1udHBvaW50KTsKIAltb3VudF9mbGFnID0g
MDsKZGlmZiAtLWdpdCBhL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5
MDQuYyBiL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDQuYwppbmRl
eCAzNjY3M2Q2ZWIuLjZhZGI0MTcwMSAxMDA2NDQKLS0tIGEvdGVzdGNhc2VzL2tlcm5lbC9zeXNj
YWxscy9pbm90aWZ5L2lub3RpZnkwNC5jCisrKyBiL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMv
aW5vdGlmeS9pbm90aWZ5MDQuYwpAQCAtOTUsMTYgKzk1LDcgQEAgc3RhdGljIHZvaWQgY2xlYW51
cCh2b2lkKQogCiBzdGF0aWMgdm9pZCBzZXR1cCh2b2lkKQogewotCWZkX25vdGlmeSA9IG15aW5v
dGlmeV9pbml0KCk7Ci0JaWYgKGZkX25vdGlmeSA9PSAtMSkgewotCQlpZiAoZXJybm8gPT0gRU5P
U1lTKSB7Ci0JCQl0c3RfYnJrKFRDT05GLAotCQkJCSJpbm90aWZ5IGlzIG5vdCBjb25maWd1cmVk
IGluIHRoaXMga2VybmVsLiIpOwotCQl9IGVsc2UgewotCQkJdHN0X2JyayhUQlJPSyB8IFRFUlJO
TywKLQkJCQkiaW5vdGlmeV9pbml0IGZhaWxlZCIpOwotCQl9Ci0JfQorCWZkX25vdGlmeSA9IFNB
RkVfTVlJTk9USUZZX0lOSVQoKTsKIH0KIAogdm9pZCB2ZXJpZnlfaW5vdGlmeSh2b2lkKQpkaWZm
IC0tZ2l0IGEvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9pbm90aWZ5L2lub3RpZnkwNS5jIGIv
dGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9pbm90aWZ5L2lub3RpZnkwNS5jCmluZGV4IDJkODg5
N2U1ZC4uYjU4MTNiMjViIDEwMDY0NAotLS0gYS90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2lu
b3RpZnkvaW5vdGlmeTA1LmMKKysrIGIvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9pbm90aWZ5
L2lub3RpZnkwNS5jCkBAIC0xNDMsMTYgKzE0Myw3IEBAIHN0YXRpYyB2b2lkIHNldHVwKHZvaWQp
CiAJU0FGRV9XUklURSgxLCBmZCwgYnVmLCBCVUZfU0laRSk7CiAJU0FGRV9DTE9TRShmZCk7CiAK
LQlmZF9ub3RpZnkgPSBteWlub3RpZnlfaW5pdDEoT19OT05CTE9DSyk7Ci0JaWYgKGZkX25vdGlm
eSA8IDApIHsKLQkJaWYgKGVycm5vID09IEVOT1NZUykgewotCQkJdHN0X2JyayhUQ09ORiwKLQkJ
CQkiaW5vdGlmeSBpcyBub3QgY29uZmlndXJlZCBpbiB0aGlzIGtlcm5lbC4iKTsKLQkJfSBlbHNl
IHsKLQkJCXRzdF9icmsoVEJST0sgfCBURVJSTk8sCi0JCQkJImlub3RpZnlfaW5pdCBmYWlsZWQi
KTsKLQkJfQotCX0KKwlmZF9ub3RpZnkgPSBTQUZFX01ZSU5PVElGWV9JTklUMShPX05PTkJMT0NL
KTsKIAogCXdkID0gbXlpbm90aWZ5X2FkZF93YXRjaChmZF9ub3RpZnksIGZuYW1lLCBJTl9BTExf
RVZFTlRTKTsKIAlpZiAod2QgPCAwKSB7CmRpZmYgLS1naXQgYS90ZXN0Y2FzZXMva2VybmVsL3N5
c2NhbGxzL2lub3RpZnkvaW5vdGlmeTA2LmMgYi90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2lu
b3RpZnkvaW5vdGlmeTA2LmMKaW5kZXggNDQ3NWY1ZWE0Li44ZWE1MDQ5NTIgMTAwNjQ0Ci0tLSBh
L3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDYuYworKysgYi90ZXN0
Y2FzZXMva2VybmVsL3N5c2NhbGxzL2lub3RpZnkvaW5vdGlmeTA2LmMKQEAgLTgyLDkgKzgyLDcg
QEAgc3RhdGljIHZvaWQgdmVyaWZ5X2lub3RpZnkodm9pZCkKIAl9CiAKIAlmb3IgKHRlc3RzID0g
MDsgdGVzdHMgPCBURUFSRE9XTlM7IHRlc3RzKyspIHsKLQkJaW5vdGlmeV9mZCA9IG15aW5vdGlm
eV9pbml0MShPX05PTkJMT0NLKTsKLQkJaWYgKGlub3RpZnlfZmQgPCAwKQotCQkJdHN0X2JyayhU
QlJPSyB8IFRFUlJOTywgImlub3RpZnlfaW5pdCBmYWlsZWQiKTsKKwkJaW5vdGlmeV9mZCA9IFNB
RkVfTVlJTk9USUZZX0lOSVQxKE9fTk9OQkxPQ0spOwogCiAJCWZvciAoaSA9IDA7IGkgPCBGSUxF
UzsgaSsrKSB7CiAJCQkvKgpkaWZmIC0tZ2l0IGEvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9p
bm90aWZ5L2lub3RpZnkwNy5jIGIvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9pbm90aWZ5L2lu
b3RpZnkwNy5jCmluZGV4IGJhMTdkMjA4MS4uMTExMWI0M2JmIDEwMDY0NAotLS0gYS90ZXN0Y2Fz
ZXMva2VybmVsL3N5c2NhbGxzL2lub3RpZnkvaW5vdGlmeTA3LmMKKysrIGIvdGVzdGNhc2VzL2tl
cm5lbC9zeXNjYWxscy9pbm90aWZ5L2lub3RpZnkwNy5jCkBAIC0xNjUsMTYgKzE2NSw3IEBAIHN0
YXRpYyB2b2lkIHNldHVwKHZvaWQpCiAJU0FGRV9UT1VDSChPVkxfTE9XRVIiLyJESVJfTkFNRSIv
IkZJTEVfTkFNRSwgMDY0NCwgTlVMTCk7CiAJU0FGRV9NT1VOVF9PVkVSTEFZKCk7CiAKLQlmZF9u
b3RpZnkgPSBteWlub3RpZnlfaW5pdDEoT19OT05CTE9DSyk7Ci0JaWYgKGZkX25vdGlmeSA8IDAp
IHsKLQkJaWYgKGVycm5vID09IEVOT1NZUykgewotCQkJdHN0X2JyayhUQ09ORiwKLQkJCQkiaW5v
dGlmeSBpcyBub3QgY29uZmlndXJlZCBpbiB0aGlzIGtlcm5lbCIpOwotCQl9IGVsc2UgewotCQkJ
dHN0X2JyayhUQlJPSyB8IFRFUlJOTywKLQkJCQkiaW5vdGlmeV9pbml0ICgpIGZhaWxlZCIpOwot
CQl9Ci0JfQorCWZkX25vdGlmeSA9IFNBRkVfTVlJTk9USUZZX0lOSVQxKE9fTk9OQkxPQ0spOwog
CiAJLyogU2V0dXAgYSB3YXRjaCBvbiBhbiBvdmVybGF5ZnMgbG93ZXIgZGlyZWN0b3J5ICovCiAJ
aWYgKCh3ZCA9IG15aW5vdGlmeV9hZGRfd2F0Y2goZmRfbm90aWZ5LCBESVJfUEFUSCwgSU5fQUxM
X0VWRU5UUykpIDwgMCkgewpkaWZmIC0tZ2l0IGEvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9p
bm90aWZ5L2lub3RpZnkwOC5jIGIvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9pbm90aWZ5L2lu
b3RpZnkwOC5jCmluZGV4IGIyOTViYTQ4ZS4uZWU4ZTQ0ZmUxIDEwMDY0NAotLS0gYS90ZXN0Y2Fz
ZXMva2VybmVsL3N5c2NhbGxzL2lub3RpZnkvaW5vdGlmeTA4LmMKKysrIGIvdGVzdGNhc2VzL2tl
cm5lbC9zeXNjYWxscy9pbm90aWZ5L2lub3RpZnkwOC5jCkBAIC0xNTcsMTYgKzE1Nyw3IEBAIHN0
YXRpYyB2b2lkIHNldHVwKHZvaWQpCiAJU0FGRV9UT1VDSChPVkxfTE9XRVIiLyJGSUxFX05BTUUs
IDA2NDQsIE5VTEwpOwogCVNBRkVfTU9VTlRfT1ZFUkxBWSgpOwogCi0JZmRfbm90aWZ5ID0gbXlp
bm90aWZ5X2luaXQxKE9fTk9OQkxPQ0spOwotCWlmIChmZF9ub3RpZnkgPCAwKSB7Ci0JCWlmIChl
cnJubyA9PSBFTk9TWVMpIHsKLQkJCXRzdF9icmsoVENPTkYsCi0JCQkJImlub3RpZnkgaXMgbm90
IGNvbmZpZ3VyZWQgaW4gdGhpcyBrZXJuZWwiKTsKLQkJfSBlbHNlIHsKLQkJCXRzdF9icmsoVEJS
T0sgfCBURVJSTk8sCi0JCQkJImlub3RpZnlfaW5pdCAoKSBmYWlsZWQiKTsKLQkJfQotCX0KKwlm
ZF9ub3RpZnkgPSBTQUZFX01ZSU5PVElGWV9JTklUMShPX05PTkJMT0NLKTsKIAogCS8qIFNldHVw
IGEgd2F0Y2ggb24gYW4gb3ZlcmxheWZzIGxvd2VyIGZpbGUgKi8KIAlpZiAoKHdkID0gbXlpbm90
aWZ5X2FkZF93YXRjaChmZF9ub3RpZnksIEZJTEVfUEFUSCwKZGlmZiAtLWdpdCBhL3Rlc3RjYXNl
cy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDkuYyBiL3Rlc3RjYXNlcy9rZXJuZWwv
c3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDkuYwppbmRleCBmNTg3YTNhM2MuLmNmMmQzOGYyNyAx
MDA2NDQKLS0tIGEvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9pbm90aWZ5L2lub3RpZnkwOS5j
CisrKyBiL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvaW5vdGlmeS9pbm90aWZ5MDkuYwpAQCAt
ODUsOSArODUsNyBAQCBzdGF0aWMgdm9pZCB2ZXJpZnlfaW5vdGlmeSh2b2lkKQogCWludCBpbm90
aWZ5X2ZkOwogCWludCB3ZDsKIAotCWlub3RpZnlfZmQgPSBteWlub3RpZnlfaW5pdDEoMCk7Ci0J
aWYgKGlub3RpZnlfZmQgPCAwKQotCQl0c3RfYnJrKFRCUk9LIHwgVEVSUk5PLCAiaW5vdGlmeV9p
bml0IGZhaWxlZCIpOworCWlub3RpZnlfZmQgPSBTQUZFX01ZSU5PVElGWV9JTklUMSgwKTsKIAog
CXRzdF9menN5bmNfcGFpcl9yZXNldCgmZnpzeW5jX3BhaXIsIHdyaXRlX3NlZWspOwogCXdoaWxl
ICh0c3RfZnpzeW5jX3J1bl9hKCZmenN5bmNfcGFpcikpIHsKLS0gCjIuMjEuMAoKCi0tIApNYWls
aW5nIGxpc3QgaW5mbzogaHR0cHM6Ly9saXN0cy5saW51eC5pdC9saXN0aW5mby9sdHAK
