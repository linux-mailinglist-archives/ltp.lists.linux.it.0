Return-Path: <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>
X-Original-To: lists+linux-ltp@lfdr.de
Delivered-To: lists+linux-ltp@lfdr.de
Received: from picard.linux.it (picard.linux.it [213.254.12.146])
	by mail.lfdr.de (Postfix) with ESMTPS id 6B3C045654
	for <lists+linux-ltp@lfdr.de>; Fri, 14 Jun 2019 09:28:58 +0200 (CEST)
Received: from picard.linux.it (localhost [IPv6:::1])
	by picard.linux.it (Postfix) with ESMTP id F30AC3EB061
	for <lists+linux-ltp@lfdr.de>; Fri, 14 Jun 2019 09:28:53 +0200 (CEST)
X-Original-To: ltp@lists.linux.it
Delivered-To: ltp@picard.linux.it
Received: from in-5.smtp.seeweb.it (in-5.smtp.seeweb.it [217.194.8.5])
 by picard.linux.it (Postfix) with ESMTP id 916613EA6D9
 for <ltp@lists.linux.it>; Fri, 14 Jun 2019 09:28:42 +0200 (CEST)
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by in-5.smtp.seeweb.it (Postfix) with ESMTPS id DB75B601508
 for <ltp@lists.linux.it>; Fri, 14 Jun 2019 09:28:40 +0200 (CEST)
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id BB2FFB011
 for <ltp@lists.linux.it>; Fri, 14 Jun 2019 07:28:37 +0000 (UTC)
From: Christian Amann <camann@suse.com>
To: ltp@lists.linux.it
Date: Fri, 14 Jun 2019 09:28:27 +0200
Message-Id: <20190614072829.24529-2-camann@suse.com>
X-Mailer: git-send-email 2.16.4
In-Reply-To: <20190614072829.24529-1-camann@suse.com>
References: <20190614072829.24529-1-camann@suse.com>
X-Virus-Scanned: clamav-milter 0.99.2 at in-5.smtp.seeweb.it
X-Virus-Status: Clean
X-Spam-Status: No, score=0.0 required=7.0 tests=SPF_HELO_NONE,SPF_PASS
 autolearn=disabled version=3.4.0
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on in-5.smtp.seeweb.it
Subject: [LTP] [PATCH v3 2/4] syscalls/pidfd_send_signal01
X-BeenThere: ltp@lists.linux.it
X-Mailman-Version: 2.1.18
Precedence: list
List-Id: Linux Test Project <ltp.lists.linux.it>
List-Unsubscribe: <https://lists.linux.it/options/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=unsubscribe>
List-Archive: <http://lists.linux.it/pipermail/ltp/>
List-Post: <mailto:ltp@lists.linux.it>
List-Help: <mailto:ltp-request@lists.linux.it?subject=help>
List-Subscribe: <https://lists.linux.it/listinfo/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it
Sender: "ltp" <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>

QWRkIHRlc3RjYXNlIHRvIGNoZWNrIGlmIHBpZGZkX3NlbmRfc2lnbmFsKCkgY2FuIHByb3ZpZGUK
dGhlIHNhbWUgZnVuY3Rpb25hbGl0eSBhcyBydF9zaWdxdWV1ZWluZm8oKS4KClNpZ25lZC1vZmYt
Ynk6IENocmlzdGlhbiBBbWFubiA8Y2FtYW5uQHN1c2UuY29tPgpSZXZpZXdlZC1ieTogUGV0ciBW
b3JlbCA8cHZvcmVsQHN1c2UuY3o+Ci0tLQogY29uZmlndXJlLmFjICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgfCAgIDIgKwogcnVudGVzdC9zeXNjYWxscyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgfCAgIDIgKwogLi4uL2tlcm5lbC9zeXNjYWxscy9waWRm
ZF9zZW5kX3NpZ25hbC8uZ2l0aWdub3JlICAgfCAgIDEgKwogLi4uL2tlcm5lbC9zeXNjYWxscy9w
aWRmZF9zZW5kX3NpZ25hbC9NYWtlZmlsZSAgICAgfCAgMTQgKysrCiAuLi4vc3lzY2FsbHMvcGlk
ZmRfc2VuZF9zaWduYWwvcGlkZmRfc2VuZF9zaWduYWwuaCB8ICAyOCArKysrKysKIC4uLi9waWRm
ZF9zZW5kX3NpZ25hbC9waWRmZF9zZW5kX3NpZ25hbDAxLmMgICAgICAgIHwgMTA0ICsrKysrKysr
KysrKysrKysrKysrKwogNiBmaWxlcyBjaGFuZ2VkLCAxNTEgaW5zZXJ0aW9ucygrKQogY3JlYXRl
IG1vZGUgMTAwNjQ0IHRlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvcGlkZmRfc2VuZF9zaWduYWwv
LmdpdGlnbm9yZQogY3JlYXRlIG1vZGUgMTAwNjQ0IHRlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMv
cGlkZmRfc2VuZF9zaWduYWwvTWFrZWZpbGUKIGNyZWF0ZSBtb2RlIDEwMDY0NCB0ZXN0Y2FzZXMv
a2VybmVsL3N5c2NhbGxzL3BpZGZkX3NlbmRfc2lnbmFsL3BpZGZkX3NlbmRfc2lnbmFsLmgKIGNy
ZWF0ZSBtb2RlIDEwMDY0NCB0ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL3BpZGZkX3NlbmRfc2ln
bmFsL3BpZGZkX3NlbmRfc2lnbmFsMDEuYwoKZGlmZiAtLWdpdCBhL2NvbmZpZ3VyZS5hYyBiL2Nv
bmZpZ3VyZS5hYwppbmRleCA1ZWNjOTI3ODEuLjY1ZmMyYTIzMiAxMDA2NDQKLS0tIGEvY29uZmln
dXJlLmFjCisrKyBiL2NvbmZpZ3VyZS5hYwpAQCAtNzEsNiArNzEsNyBAQCBBQ19DSEVDS19GVU5D
UyhbIFwKICAgICBta2RpcmF0IFwKICAgICBta25vZGF0IFwKICAgICBvcGVuYXQgXAorICAgIHBp
ZGZkX3NlbmRfc2lnbmFsIFwKICAgICBwcmVhZHYgXAogICAgIHByZWFkdjIgXAogICAgIHByb2Zp
bCBcCkBAIC0yMzgsNiArMjM5LDcgQEAgZWxzZQogZmkKIEFDX0RFRklORV9VTlFVT1RFRChOVU1B
X0VSUk9SX01TRywgWyIkbnVtYV9lcnJvcl9tc2ciXSwgW0Vycm9yIG1lc3NhZ2Ugd2hlbiBubyBO
VU1BIHN1cHBvcnRdKQogCisKIExUUF9DSEVDS19TWVNDQUxMX1BFUkZfRVZFTlRfT1BFTgogTFRQ
X0NIRUNLX1NZU0NBTExfUVVPVEFDVEwKIExUUF9DSEVDS19TWVNDQUxMX1NJR05BTEZECmRpZmYg
LS1naXQgYS9ydW50ZXN0L3N5c2NhbGxzIGIvcnVudGVzdC9zeXNjYWxscwppbmRleCA3MDJkNmE4
YzcuLmFjNjAwMDA2NSAxMDA2NDQKLS0tIGEvcnVudGVzdC9zeXNjYWxscworKysgYi9ydW50ZXN0
L3N5c2NhbGxzCkBAIC04MzMsNiArODMzLDggQEAgcGF1c2UwMyBwYXVzZTAzCiBwZXJzb25hbGl0
eTAxIHBlcnNvbmFsaXR5MDEKIHBlcnNvbmFsaXR5MDIgcGVyc29uYWxpdHkwMgogCitwaWRmZF9z
ZW5kX3NpZ25hbDAxIHBpZGZkX3NlbmRfc2lnbmFsMDEKKwogcGlwZTAxIHBpcGUwMQogcGlwZTAy
IHBpcGUwMgogcGlwZTAzIHBpcGUwMwpkaWZmIC0tZ2l0IGEvdGVzdGNhc2VzL2tlcm5lbC9zeXNj
YWxscy9waWRmZF9zZW5kX3NpZ25hbC8uZ2l0aWdub3JlIGIvdGVzdGNhc2VzL2tlcm5lbC9zeXNj
YWxscy9waWRmZF9zZW5kX3NpZ25hbC8uZ2l0aWdub3JlCm5ldyBmaWxlIG1vZGUgMTAwNjQ0Cmlu
ZGV4IDAwMDAwMDAwMC4uN2NjYmYyZDgwCi0tLSAvZGV2L251bGwKKysrIGIvdGVzdGNhc2VzL2tl
cm5lbC9zeXNjYWxscy9waWRmZF9zZW5kX3NpZ25hbC8uZ2l0aWdub3JlCkBAIC0wLDAgKzEgQEAK
Ky9waWRmZF9zZW5kX3NpZ25hbDAxCmRpZmYgLS1naXQgYS90ZXN0Y2FzZXMva2VybmVsL3N5c2Nh
bGxzL3BpZGZkX3NlbmRfc2lnbmFsL01ha2VmaWxlIGIvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxs
cy9waWRmZF9zZW5kX3NpZ25hbC9NYWtlZmlsZQpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAw
MDAwMDAwMDAuLjIzZTRlYzQ3OAotLS0gL2Rldi9udWxsCisrKyBiL3Rlc3RjYXNlcy9rZXJuZWwv
c3lzY2FsbHMvcGlkZmRfc2VuZF9zaWduYWwvTWFrZWZpbGUKQEAgLTAsMCArMSwxNCBAQAorLy8g
U1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb3ItbGF0ZXIKKyMKKyMgICBDb3B5cmln
aHQgKGMpIDIwMTkgU1VTRSBMTEMKKyMKKyMgICBBdXRob3I6IENocmlzdGlhbiBBbWFubiA8Y2Ft
YW5uQHN1c2UuY29tPgorIworCit0b3Bfc3JjZGlyCQk/PSAuLi8uLi8uLi8uLgorCitpbmNsdWRl
ICQodG9wX3NyY2RpcikvaW5jbHVkZS9tay90ZXN0Y2FzZXMubWsKKworaW5jbHVkZSAkKHRvcF9z
cmNkaXIpL2luY2x1ZGUvbWsvZ2VuZXJpY19sZWFmX3RhcmdldC5taworCitwaWRmZF9zZW5kX3Np
Z25hbDAxOiBDRkxBR1MgKz0gLXB0aHJlYWQKZGlmZiAtLWdpdCBhL3Rlc3RjYXNlcy9rZXJuZWwv
c3lzY2FsbHMvcGlkZmRfc2VuZF9zaWduYWwvcGlkZmRfc2VuZF9zaWduYWwuaCBiL3Rlc3RjYXNl
cy9rZXJuZWwvc3lzY2FsbHMvcGlkZmRfc2VuZF9zaWduYWwvcGlkZmRfc2VuZF9zaWduYWwuaApu
ZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAuLmRjMTdmZTA1OAotLS0gL2Rldi9u
dWxsCisrKyBiL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvcGlkZmRfc2VuZF9zaWduYWwvcGlk
ZmRfc2VuZF9zaWduYWwuaApAQCAtMCwwICsxLDI4IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRp
ZmllcjogR1BMLTIuMC1vci1sYXRlcgorLyoKKyAqIENvcHlyaWdodCAoYykgMjAxOSBTVVNFIExM
QworICogQXV0aG9yOiBDaHJpc3RpYW4gQW1hbm4gPGNhbWFubkBzdXNlLmNvbT4KKyAqLworCisj
aWZuZGVmIFBJREZEX1NFTkRfU0lHTkFMX0gKKyNkZWZpbmUgUElERkRfU0VORF9TSUdOQUxfSAor
CisjaW5jbHVkZSAidHN0X3Rlc3QuaCIKKyNpbmNsdWRlICJsYXBpL3N5c2NhbGxzLmgiCisKK3N0
YXRpYyB2b2lkIGNoZWNrX3N5c2NhbGxfc3VwcG9ydCh2b2lkKQoreworCS8qIGFsbG93IHRoZSB0
ZXN0cyB0byBmYWlsIGVhcmx5ICovCisJdHN0X3N5c2NhbGwoX19OUl9waWRmZF9zZW5kX3NpZ25h
bCk7Cit9CisKKyNpZm5kZWYgSEFWRV9QSURGRF9TRU5EX1NJR05BTAorc3RhdGljIGludCBwaWRm
ZF9zZW5kX3NpZ25hbChpbnQgcGlkZmQsIGludCBzaWcsIHNpZ2luZm9fdCAqaW5mbywKKwkJCQkg
dW5zaWduZWQgaW50IGZsYWdzKQoreworCXRzdF9yZXMoVElORk8sICJUZXN0aW5nIHN5c2NhbGwo
X19OUl9waWRmZF9zZW5kX3NpZ25hbCkiKTsKKwlyZXR1cm4gdHN0X3N5c2NhbGwoX19OUl9waWRm
ZF9zZW5kX3NpZ25hbCwgcGlkZmQsIHNpZywgaW5mbywgZmxhZ3MpOworfQorI2VuZGlmIC8qIEhB
VkVfUElERkRfU0VORF9TSUdOQUwgKi8KKworI2VuZGlmIC8qIFBJREZEX1NFTkRfU0lHTkFMX0gg
Ki8KZGlmZiAtLWdpdCBhL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvcGlkZmRfc2VuZF9zaWdu
YWwvcGlkZmRfc2VuZF9zaWduYWwwMS5jIGIvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9waWRm
ZF9zZW5kX3NpZ25hbC9waWRmZF9zZW5kX3NpZ25hbDAxLmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQK
aW5kZXggMDAwMDAwMDAwLi5mMDM5MDU4OTQKLS0tIC9kZXYvbnVsbAorKysgYi90ZXN0Y2FzZXMv
a2VybmVsL3N5c2NhbGxzL3BpZGZkX3NlbmRfc2lnbmFsL3BpZGZkX3NlbmRfc2lnbmFsMDEuYwpA
QCAtMCwwICsxLDEwNCBAQAorLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb3It
bGF0ZXIKKy8qCisgKiBDb3B5cmlnaHQgKGMpIDIwMTkgU1VTRSBMTEMKKyAqIEF1dGhvcjogQ2hy
aXN0aWFuIEFtYW5uIDxjYW1hbm5Ac3VzZS5jb20+CisgKi8KKy8qCisgKiBUZXN0cyBpZiB0aGUg
cGlkZmRfc2VuZF9zaWduYWwgc3lzY2FsbCBiZWhhdmVzCisgKiBsaWtlIHJ0X3NpZ3F1ZXVlaW5m
byB3aGVuIGEgcG9pbnRlciB0byBhIHNpZ2luZm9fdAorICogc3RydWN0IGlzIHBhc3NlZC4KKyAq
LworCisjaW5jbHVkZSA8c2lnbmFsLmg+CisjaW5jbHVkZSA8c3RkbGliLmg+CisjaW5jbHVkZSAi
dHN0X3NhZmVfcHRocmVhZC5oIgorI2luY2x1ZGUgInBpZGZkX3NlbmRfc2lnbmFsLmgiCisKKyNk
ZWZpbmUgU0lHTkFMICBTSUdVU1IxCisjZGVmaW5lIERBVEEJNzc3CisKK3N0YXRpYyBzdHJ1Y3Qg
c2lnYWN0aW9uICpzaWdfYWN0aW9uOworc3RhdGljIGludCBzaWdfcmVjOworc3RhdGljIHNpZ2lu
Zm9fdCAqdWluZm87CitzdGF0aWMgaW50IHBpZGZkOworCitzdGF0aWMgdm9pZCByZWNlaXZlZF9z
aWduYWwoaW50IHNpZywgc2lnaW5mb190ICppbmZvLCB2b2lkICp1Y29udGV4dCkKK3sKKwlpZiAo
aW5mbyAmJiB1Y29udGV4dCkgeworCQlpZiAoc2lnID09IFNJR05BTCAmJiB1aW5mby0+c2lfdmFs
dWUuc2l2YWxfaW50ID09IERBVEEpIHsKKwkJCXRzdF9yZXMoVFBBU1MsICJSZWNlaXZlZCBjb3Jy
ZWN0IHNpZ25hbCBhbmQgZGF0YSEiKTsKKwkJCXNpZ19yZWMgPSAxOworCQl9IGVsc2UgeworCQkJ
dHN0X3JlcyhURkFJTCwgIlJlY2VpdmVkIHdyb25nIHNpZ25hbCBhbmQvb3IgZGF0YSEiKTsKKwkJ
fQorCX0gZWxzZSB7CisJCXRzdF9yZXMoVEZBSUwsICJTaWduYWwgaGFuZGxpbmcgd2VudCB3cm9u
ZyEiKTsKKwl9Cit9CisKK3N0YXRpYyB2b2lkICpoYW5kbGVfdGhyZWFkKHZvaWQgKmFyZykKK3sK
KwlTQUZFX1NJR0FDVElPTihTSUdOQUwsIHNpZ19hY3Rpb24sIE5VTEwpOworCVRTVF9DSEVDS1BP
SU5UX1dBS0VfQU5EX1dBSVQoMCk7CisJcmV0dXJuIGFyZzsKK30KKworc3RhdGljIHZvaWQgdmVy
aWZ5X3BpZGZkX3NlbmRfc2lnbmFsKHZvaWQpCit7CisJcHRocmVhZF90IHRocjsKKworCVNBRkVf
UFRIUkVBRF9DUkVBVEUoJnRociwgTlVMTCwgaGFuZGxlX3RocmVhZCwgTlVMTCk7CisKKwlUU1Rf
Q0hFQ0tQT0lOVF9XQUlUKDApOworCisJVEVTVChwaWRmZF9zZW5kX3NpZ25hbChwaWRmZCwgU0lH
TkFMLCB1aW5mbywgMCkpOworCWlmIChUU1RfUkVUICE9IDApIHsKKwkJdHN0X3JlcyhURkFJTCB8
IFRURVJSTk8sICJwaWRmZF9zZW5kX3NpZ25hbCgpIGZhaWxlZCIpOworCQlyZXR1cm47CisJfQor
CisJVFNUX0NIRUNLUE9JTlRfV0FLRSgwKTsKKwlTQUZFX1BUSFJFQURfSk9JTih0aHIsIE5VTEwp
OworCisJaWYgKHNpZ19yZWMpIHsKKwkJdHN0X3JlcyhUUEFTUywKKwkJCSJwaWRmZF9zZW5kX3Np
Z25hbCgpIGJlaGF2ZWQgbGlrZSBydF9zaWdxdWV1ZWluZm8oKSIpOworCX0KK30KKworc3RhdGlj
IHZvaWQgc2V0dXAodm9pZCkKK3sKKwljaGVja19zeXNjYWxsX3N1cHBvcnQoKTsKKworCXBpZGZk
ID0gU0FGRV9PUEVOKCIvcHJvYy9zZWxmIiwgT19ESVJFQ1RPUlkgfCBPX0NMT0VYRUMpOworCisJ
c2lnX2FjdGlvbiA9IFNBRkVfTUFMTE9DKHNpemVvZihzdHJ1Y3Qgc2lnYWN0aW9uKSk7CisKKwlt
ZW1zZXQoc2lnX2FjdGlvbiwgMCwgc2l6ZW9mKCpzaWdfYWN0aW9uKSk7CisJc2lnX2FjdGlvbi0+
c2Ffc2lnYWN0aW9uID0gcmVjZWl2ZWRfc2lnbmFsOworCXNpZ19hY3Rpb24tPnNhX2ZsYWdzID0g
U0FfU0lHSU5GTzsKKworCXVpbmZvID0gU0FGRV9NQUxMT0Moc2l6ZW9mKHNpZ2luZm9fdCkpOwor
CisJbWVtc2V0KHVpbmZvLCAwLCBzaXplb2YoKnVpbmZvKSk7CisJdWluZm8tPnNpX3NpZ25vID0g
U0lHTkFMOworCXVpbmZvLT5zaV9jb2RlID0gU0lfUVVFVUU7CisJdWluZm8tPnNpX3BpZCA9IGdl
dHBpZCgpOworCXVpbmZvLT5zaV91aWQgPSBnZXR1aWQoKTsKKwl1aW5mby0+c2lfdmFsdWUuc2l2
YWxfaW50ID0gREFUQTsKK30KKworc3RhdGljIHZvaWQgY2xlYW51cCh2b2lkKQoreworCWZyZWUo
dWluZm8pOworCWZyZWUoc2lnX2FjdGlvbik7CisJaWYgKHBpZGZkID4gMCkKKwkJU0FGRV9DTE9T
RShwaWRmZCk7Cit9CisKK3N0YXRpYyBzdHJ1Y3QgdHN0X3Rlc3QgdGVzdCA9IHsKKwkudGVzdF9h
bGwgPSB2ZXJpZnlfcGlkZmRfc2VuZF9zaWduYWwsCisJLnNldHVwID0gc2V0dXAsCisJLmNsZWFu
dXAgPSBjbGVhbnVwLAorCS5uZWVkc19jaGVja3BvaW50cyA9IDEsCit9OwotLSAKMi4xNi40CgoK
LS0gCk1haWxpbmcgbGlzdCBpbmZvOiBodHRwczovL2xpc3RzLmxpbnV4Lml0L2xpc3RpbmZvL2x0
cAo=
