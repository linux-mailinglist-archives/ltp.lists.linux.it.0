Return-Path: <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>
X-Original-To: lists+linux-ltp@lfdr.de
Delivered-To: lists+linux-ltp@lfdr.de
Received: from picard.linux.it (picard.linux.it [213.254.12.146])
	by mail.lfdr.de (Postfix) with ESMTPS id 203C6148BC
	for <lists+linux-ltp@lfdr.de>; Mon,  6 May 2019 13:15:59 +0200 (CEST)
Received: from picard.linux.it (localhost [IPv6:::1])
	by picard.linux.it (Postfix) with ESMTP id EB3473EAE7C
	for <lists+linux-ltp@lfdr.de>; Mon,  6 May 2019 13:15:58 +0200 (CEST)
X-Original-To: ltp@lists.linux.it
Delivered-To: ltp@picard.linux.it
Received: from in-5.smtp.seeweb.it (in-5.smtp.seeweb.it
 [IPv6:2001:4b78:1:20::5])
 by picard.linux.it (Postfix) with ESMTP id 26CFF3EA659
 for <ltp@lists.linux.it>; Mon,  6 May 2019 13:15:58 +0200 (CEST)
Received: from heian.cn.fujitsu.com (mail.cn.fujitsu.com [183.91.158.132])
 by in-5.smtp.seeweb.it (Postfix) with ESMTP id AA77F60CBB8
 for <ltp@lists.linux.it>; Mon,  6 May 2019 13:15:38 +0200 (CEST)
X-IronPort-AV: E=Sophos;i="5.60,437,1549900800"; d="scan'208";a="61837590"
Received: from unknown (HELO cn.fujitsu.com) ([10.167.33.5])
 by heian.cn.fujitsu.com with ESMTP; 06 May 2019 19:15:33 +0800
Received: from G08CNEXCHPEKD03.g08.fujitsu.local (unknown [10.167.33.85])
 by cn.fujitsu.com (Postfix) with ESMTP id 108DB4CD7BBD
 for <ltp@lists.linux.it>; Mon,  6 May 2019 19:15:36 +0800 (CST)
Received: from localhost.localdomain (10.167.215.35) by
 G08CNEXCHPEKD03.g08.fujitsu.local (10.167.33.89) with Microsoft SMTP Server
 (TLS) id 14.3.439.0; Mon, 6 May 2019 19:15:35 +0800
From: Yang Xu <xuyang2018.jy@cn.fujitsu.com>
To: <ltp@lists.linux.it>
Date: Mon, 6 May 2019 19:14:25 +0800
Message-ID: <1557141265-2247-1-git-send-email-xuyang2018.jy@cn.fujitsu.com>
X-Mailer: git-send-email 1.8.3.1
MIME-Version: 1.0
X-Originating-IP: [10.167.215.35]
X-yoursite-MailScanner-ID: 108DB4CD7BBD.A125C
X-yoursite-MailScanner: Found to be clean
X-yoursite-MailScanner-From: xuyang2018.jy@cn.fujitsu.com
X-Spam-Status: No, score=0.0 required=7.0 tests=none autolearn=disabled
 version=3.4.0
X-Virus-Scanned: clamav-milter 0.99.2 at in-5.smtp.seeweb.it
X-Virus-Status: Clean
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on in-5.smtp.seeweb.it
Subject: [LTP] [PATCH] syscalls/prctl04.c: New test for prctl() with PR_{SET,
	GET}_SECCOMP
X-BeenThere: ltp@lists.linux.it
X-Mailman-Version: 2.1.18
Precedence: list
List-Id: Linux Test Project <ltp.lists.linux.it>
List-Unsubscribe: <https://lists.linux.it/options/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=unsubscribe>
List-Archive: <http://lists.linux.it/pipermail/ltp/>
List-Post: <mailto:ltp@lists.linux.it>
List-Help: <mailto:ltp-request@lists.linux.it?subject=help>
List-Subscribe: <https://lists.linux.it/listinfo/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it
Sender: "ltp" <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>

U2lnbmVkLW9mZi1ieTogWWFuZyBYdSA8eHV5YW5nMjAxOC5qeUBjbi5mdWppdHN1LmNvbT4KLS0t
CiBjb25maWd1cmUuYWMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgIDEgKwogaW5j
bHVkZS9sYXBpL3ByY3RsLmggICAgICAgICAgICAgICAgICAgICAgIHwgICA1ICsKIGluY2x1ZGUv
bGFwaS9zZWNjb21wLmggICAgICAgICAgICAgICAgICAgICB8ICAzNiArKysKIHJ1bnRlc3Qvc3lz
Y2FsbHMgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgMSArCiB0ZXN0Y2FzZXMva2VybmVs
L3N5c2NhbGxzL3ByY3RsLy5naXRpZ25vcmUgfCAgIDEgKwogdGVzdGNhc2VzL2tlcm5lbC9zeXNj
YWxscy9wcmN0bC9wcmN0bDA0LmMgIHwgMjYyICsrKysrKysrKysrKysrKysrKysrKwogNiBmaWxl
cyBjaGFuZ2VkLCAzMDYgaW5zZXJ0aW9ucygrKQogY3JlYXRlIG1vZGUgMTAwNjQ0IGluY2x1ZGUv
bGFwaS9zZWNjb21wLmgKIGNyZWF0ZSBtb2RlIDEwMDY0NCB0ZXN0Y2FzZXMva2VybmVsL3N5c2Nh
bGxzL3ByY3RsL3ByY3RsMDQuYwoKZGlmZiAtLWdpdCBhL2NvbmZpZ3VyZS5hYyBiL2NvbmZpZ3Vy
ZS5hYwppbmRleCBmYWQ4ZjgzOTYuLmM4NThhZmY0MiAxMDA2NDQKLS0tIGEvY29uZmlndXJlLmFj
CisrKyBiL2NvbmZpZ3VyZS5hYwpAQCAtNDYsNiArNDYsNyBAQCBBQ19DSEVDS19IRUFERVJTKFsg
XAogICAgIGxpbnV4L21lbXBvbGljeS5oIFwKICAgICBsaW51eC9tb2R1bGUuaCBcCiAgICAgbGlu
dXgvbmV0bGluay5oIFwKKyAgICBsaW51eC9zZWNjb21wLmggXAogICAgIGxpbnV4L3VzZXJmYXVs
dGZkLmggXAogICAgIG1tLmggXAogICAgIG5ldGluZXQvc2N0cC5oIFwKZGlmZiAtLWdpdCBhL2lu
Y2x1ZGUvbGFwaS9wcmN0bC5oIGIvaW5jbHVkZS9sYXBpL3ByY3RsLmgKaW5kZXggNmRiOGE2NDgw
Li5jMzYxMmU2NDMgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvbGFwaS9wcmN0bC5oCisrKyBiL2luY2x1
ZGUvbGFwaS9wcmN0bC5oCkBAIC0xNCw0ICsxNCw5IEBACiAjIGRlZmluZSBQUl9HRVRfQ0hJTERf
U1VCUkVBUEVSCTM3CiAjZW5kaWYKIAorI2lmbmRlZiBQUl9TRVRfU0VDQ09NUAorIyBkZWZpbmUg
UFJfR0VUX1NFQ0NPTVAgIDIxCisjIGRlZmluZSBQUl9TRVRfU0VDQ09NUCAgMjIKKyNlbmRpZgor
CiAjZW5kaWYgLyogTEFQSV9QUkNUTF9IX18gKi8KZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGFwaS9z
ZWNjb21wLmggYi9pbmNsdWRlL2xhcGkvc2VjY29tcC5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0Cmlu
ZGV4IDAwMDAwMDAwMC4uMWU1YmMzOTMzCi0tLSAvZGV2L251bGwKKysrIGIvaW5jbHVkZS9sYXBp
L3NlY2NvbXAuaApAQCAtMCwwICsxLDM2IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjog
R1BMLTIuMC1vci1sYXRlcgorLyoKKyAqIENvcHlyaWdodCAoYykgMjAxOSBGVUpJVFNVIExJTUlU
RUQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCisgKiBBdXRob3I6IFlhbmcgWHUgPHh1eWFuZzIwMTgu
anlAY24uZnVqaXRzdS5jb20+CisgKi8KKyNpZm5kZWYgTEFQSV9TRUNDT01QX0hfXworIyBkZWZp
bmUgX0xBUElfU0VDQ09NUF9ICisKKyNpbmNsdWRlIDxsaW51eC90eXBlcy5oPgorCisvKiBWYWxp
ZCB2YWx1ZXMgZm9yIHNlY2NvbXAubW9kZSBhbmQgcHJjdGwoUFJfU0VUX1NFQ0NPTVAsIDxtb2Rl
PikgKi8KKyNkZWZpbmUgU0VDQ09NUF9NT0RFX0RJU0FCTEVEICAgMAorI2RlZmluZSBTRUNDT01Q
X01PREVfU1RSSUNUICAgICAxCisjZGVmaW5lIFNFQ0NPTVBfTU9ERV9GSUxURVIgICAgIDIKKwor
I2RlZmluZSBTRUNDT01QX1JFVF9LSUxMX1RIUkVBRCAgMHgwMDAwMDAwMFUgLyoga2lsbCB0aGUg
dGhyZWFkICovCisjZGVmaW5lIFNFQ0NPTVBfUkVUX0tJTEwgICAgICAgICBTRUNDT01QX1JFVF9L
SUxMX1RIUkVBRAorI2RlZmluZSBTRUNDT01QX1JFVF9BTExPVyAgICAgICAgMHg3ZmZmMDAwMFUg
LyogYWxsb3cgKi8KKworLyoqCisgKiBzdHJ1Y3Qgc2VjY29tcF9kYXRhIC0gdGhlIGZvcm1hdCB0
aGUgQlBGIHByb2dyYW0gZXhlY3V0ZXMgb3Zlci4KKyAqIEBucjogdGhlIHN5c3RlbSBjYWxsIG51
bWJlcgorICogQGFyY2g6IGluZGljYXRlcyBzeXN0ZW0gY2FsbCBjb252ZW50aW9uIGFzIGFuIEFV
RElUX0FSQ0hfKiB2YWx1ZQorICogICAgICAgIGFzIGRlZmluZWQgaW4gPGxpbnV4L2F1ZGl0Lmg+
LgorICogQGluc3RydWN0aW9uX3BvaW50ZXI6IGF0IHRoZSB0aW1lIG9mIHRoZSBzeXN0ZW0gY2Fs
bC4KKyAqIEBhcmdzOiB1cCB0byA2IHN5c3RlbSBjYWxsIGFyZ3VtZW50cyBhbHdheXMgc3RvcmVk
IGFzIDY0LWJpdCB2YWx1ZXMKKyAqIHJlZ2FyZGxlc3Mgb2YgdGhlIGFyY2hpdGVjdHVyZS4KKyAq
Lworc3RydWN0IHNlY2NvbXBfZGF0YSB7CisJaW50IG5yOworCV9fdTMyIGFyY2g7CisJX191NjQg
aW5zdHJ1Y3Rpb25fcG9pbnRlcjsKKwlfX3U2NCBhcmdzWzZdOworfTsKKworI2VuZGlmIC8qIF9M
QVBJX1NFQ0NPTVBfSCAqLwpkaWZmIC0tZ2l0IGEvcnVudGVzdC9zeXNjYWxscyBiL3J1bnRlc3Qv
c3lzY2FsbHMKaW5kZXggMmI4Y2E3MTliLi41MWJmZjI5OTAgMTAwNjQ0Ci0tLSBhL3J1bnRlc3Qv
c3lzY2FsbHMKKysrIGIvcnVudGVzdC9zeXNjYWxscwpAQCAtODYzLDYgKzg2Myw3IEBAIHBwb2xs
MDEgcHBvbGwwMQogcHJjdGwwMSBwcmN0bDAxCiBwcmN0bDAyIHByY3RsMDIKIHByY3RsMDMgcHJj
dGwwMworcHJjdGwwNCBwcmN0bDA0CiAKIHByZWFkMDEgcHJlYWQwMQogcHJlYWQwMV82NCBwcmVh
ZDAxXzY0CmRpZmYgLS1naXQgYS90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL3ByY3RsLy5naXRp
Z25vcmUgYi90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL3ByY3RsLy5naXRpZ25vcmUKaW5kZXgg
MmY0NmE5YTEyLi4xYzNkYTMwNTIgMTAwNjQ0Ci0tLSBhL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2Fs
bHMvcHJjdGwvLmdpdGlnbm9yZQorKysgYi90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL3ByY3Rs
Ly5naXRpZ25vcmUKQEAgLTEsMyArMSw0IEBACiAvcHJjdGwwMQogL3ByY3RsMDIKIC9wcmN0bDAz
CisvcHJjdGwwNApkaWZmIC0tZ2l0IGEvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9wcmN0bC9w
cmN0bDA0LmMgYi90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL3ByY3RsL3ByY3RsMDQuYwpuZXcg
ZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAuLmUzYmE2OWFmMwotLS0gL2Rldi9udWxs
CisrKyBiL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvcHJjdGwvcHJjdGwwNC5jCkBAIC0wLDAg
KzEsMjYyIEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vci1sYXRlcgor
LyoKKyAqIENvcHlyaWdodCAoYykgMjAxOSBGVUpJVFNVIExJTUlURUQuIEFsbCByaWdodHMgcmVz
ZXJ2ZWQuCisgKiBBdXRob3I6IFlhbmcgWHUgPHh1eWFuZzIwMTguanlAY24uZnVqaXRzdS5jb20+
CisgKgorICogVGVzdCBQUl9HRVRfU0VDQ09NUCBhbmQgUFJfU0VUX1NFQ0NPTVAgb2YgcHJjdGwo
MikuCisgKiAxKSBJZiBQUl9TRVRfU0VDQ09NUCBzZXRzIHRoZSBTRUNDT01QX01PREVfU1RSSUNU
IGZvciB0aGUgY2FsbGluZyB0aHJlYWQsCisgKiAgICB0aGUgb25seSBzeXN0ZW0gY2FsbCB0aGF0
IHRoZSB0aHJlYWQgaXMgcGVybWl0dGVkIHRvIG1ha2UgYXJlIHJlYWQoMiksCisgKiAgICB3cml0
ZSgyKSxfZXhpdCgyKShidXQgbm90IGV4aXRfZ3JvdXAoMikpLCBhbmQgc2lncmV0dXJuKDIpLiAg
T3RoZXIKKyAqICAgIHN5c3RlbSBjYWxscyByZXN1bHQgaW4gdGhlIGRlbGl2ZXJ5IG9mIGEgU0lH
S0lMTCBzaWduYWwuIFRoaXMgb3BlcmF0aW9uCisgKiAgICBpcyBhdmFpbGFibGUgb25seSBpZiB0
aGUga2VybmVsIGlzIGNvbmZpZ3VyZWQgd2l0aCBDT05GSUdfU0VDQ09NUCBlbmFibGVkLgorICog
MikgSWYgUFJfU0VUX1NFQ0NPTVAgc2V0cyB0aGUgU0VDQ09NUF9NT0RFX0ZJTFRFUiBmb3IgdGhl
IGNhbGxpbmcgdGhyZWFkLAorICogICAgdGhlIHN5c3RlbSBjYWxscyBhbGxvd2VkIGFyZSBkZWZp
bmVkIGJ5IGEgcG9pbnRlciB0byBhIEJlcmtlbGV5IFBhY2tldAorICogICAgRmlsdGVyLiBPdGhl
ciBzeXN0ZW0gY2FsbHMgcmVzdWx0IGludCB0aGUgZGVsaXZlcnkgb2YgYSBTSUdTWVMgc2lnbmFs
CisgKiAgICB3aXRoIFNFQ0NPTVBfUkVUX0tJTEwuIFRoZSBTRUNDT01QX1NFVF9NT0RFX0ZJTFRF
UiBvcGVyYXRpb24gaXMgYXZhaWxhYmxlCisgKiAgICBvbmx5IGlmIHRoZSBrZXJuZWwgaXMgY29u
ZmlndXJlZCB3aXRoIENPTkZJR19TRUNDT01QX0ZJTFRFUiBlbmFibGVkLgorICogMykgSWYgU0VD
Q09NUF9NT0RFX0ZJTFRFUiBmaWx0ZXJzIHBlcm1pdCBmb3JrKDIpLCB0aGVuIHRoZSBzZWNjb21w
IG1vZGUKKyAqICAgIGlzIGluaGVyaXRlZCBieSBjaGlsZHJlbiBjcmVhdGVkIGJ5IGZvcmsoMiku
CisgKi8KKworI2luY2x1ZGUgPGVycm5vLmg+CisjaW5jbHVkZSA8c2lnbmFsLmg+CisjaW5jbHVk
ZSA8c3lzL3ByY3RsLmg+CisjaW5jbHVkZSA8c3lzL3dhaXQuaD4KKyNpbmNsdWRlIDxzeXMvdHlw
ZXMuaD4KKyNpbmNsdWRlIDxsaW51eC9maWx0ZXIuaD4KKyNpbmNsdWRlIDx1bmlzdGQuaD4KKyNp
bmNsdWRlIDxzdGRsaWIuaD4KKyNpbmNsdWRlIDxzdGRkZWYuaD4KKyNpbmNsdWRlICJ0c3RfdGVz
dC5oIgorI2luY2x1ZGUgImxhcGkvc3lzY2FsbHMuaCIKKyNpbmNsdWRlICJsYXBpL3ByY3RsLmgi
CisjaW5jbHVkZSAiY29uZmlnLmgiCisjaWZkZWYgSEFWRV9MSU5VWF9TRUNDT01QX0gKKyNpbmNs
dWRlIDxsaW51eC9zZWNjb21wLmg+CisjZWxzZQorI2luY2x1ZGUgPGxhcGkvc2VjY29tcC5oPgor
I2VuZGlmCisKKyNkZWZpbmUgRk5BTUUgImZpbGVuYW1lIgorCitzdGF0aWMgY29uc3Qgc3RydWN0
IHNvY2tfZmlsdGVyICBzdHJpY3RfZmlsdGVyW10gPSB7CisJQlBGX1NUTVQoQlBGX0xEIHwgQlBG
X1cgfCBCUEZfQUJTLCAob2Zmc2V0b2YgKHN0cnVjdCBzZWNjb21wX2RhdGEsIG5yKSkpLAorCisJ
QlBGX0pVTVAoQlBGX0pNUCB8IEJQRl9KRVEsIF9fTlJfY2xvc2UsIDUsIDApLAorCUJQRl9KVU1Q
KEJQRl9KTVAgfCBCUEZfSkVRLCBfX05SX2V4aXQsICA0LCAwKSwKKwlCUEZfSlVNUChCUEZfSk1Q
IHwgQlBGX0pFUSwgX19OUl93YWl0NCwgMywgMCksCisJQlBGX0pVTVAoQlBGX0pNUCB8IEJQRl9K
RVEsIF9fTlJfd3JpdGUsIDIsIDApLAorCUJQRl9KVU1QKEJQRl9KTVAgfCBCUEZfSkVRLCBfX05S
X2Nsb25lLCAxLCAwKSwKKworCUJQRl9TVE1UKEJQRl9SRVQgfCBCUEZfSywgU0VDQ09NUF9SRVRf
S0lMTCksCisJQlBGX1NUTVQoQlBGX1JFVCB8IEJQRl9LLCBTRUNDT01QX1JFVF9BTExPVykKK307
CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgc29ja19mcHJvZyAgc3RyaWN0ID0geworCS5sZW4gPSAo
dW5zaWduZWQgc2hvcnQpQVJSQVlfU0laRShzdHJpY3RfZmlsdGVyKSwKKwkuZmlsdGVyID0gKHN0
cnVjdCBzb2NrX2ZpbHRlciAqKXN0cmljdF9maWx0ZXIKK307CisKK3N0YXRpYyB2b2lkIGNoZWNr
X3N0cmljdF9tb2RlKGludCB2YWwpCit7CisJaW50IGZkOworCWNoYXIgYnVmWzJdOworCisJZmQg
PSBTQUZFX09QRU4oRk5BTUUsIE9fUkRXUiB8IE9fQ1JFQVQsIDA2NjYpOworCisJVEVTVChwcmN0
bChQUl9TRVRfU0VDQ09NUCwgU0VDQ09NUF9NT0RFX1NUUklDVCkpOworCWlmIChUU1RfUkVUID09
IC0xKSB7CisJCWlmIChUU1RfRVJSID09IEVJTlZBTCkgeworCQkJdHN0X3JlcyhUQ09ORiwKKwkJ
CQkicHJjdGwoUFJfU0VUX1NFQ0NPTVApIGRvZXNuJ3Qgc3VwcG9ydCAiCisJCQkJIlNFQ0NPTVBf
TU9ERV9TVFJJQ1QiKTsKKwkJfSBlbHNlIHsKKwkJCXRzdF9yZXMoVEZBSUwgfCBUVEVSUk5PLAor
CQkJCSJwcmN0bChQUl9TRVRfU0VDQ09NUCkgc2V0cyAiCisJCQkJIlNFQ0NPTVBfTU9ERV9TVFJJ
Q1QgZmFpbGVkIik7CisJCX0KKwkJcmV0dXJuOworCX0KKwlpZiAodmFsID09IDEpIHsKKwkJdHN0
X3JlcyhUUEFTUywKKwkJCSJwcmN0bChQUl9TRVRfU0VDQ09NUCkgc2V0cyBTRUNDT01QX01PREVf
U1RSSUNUICIKKwkJCSJzdWNjZWVkIik7CisJCXByY3RsKFBSX0dFVF9TRUNDT01QKTsKKwkJdHN0
X3JlcyhURkFJTCwgInByY3RsKFBSX0dFVF9TRUNDT01QKSBzdWNjZWVkIHVuZXhwZWN0ZWRseSIp
OworCX0KKwlpZiAodmFsID09IDIpIHsKKwkJU0FGRV9XUklURSgxLCBmZCwgImEiLCAxKTsKKwkJ
U0FGRV9SRUFEKDAsIGZkLCBidWYsIDEpOworCQl0c3RfcmVzKFRQQVNTLAorCQkJIlNFQ0NPTVBf
TU9ERV9TVFJJQ1QgcGVybWl0cyByZWFkKDIpIHdyaXRlKDIpICIKKwkJCSJhbmQgX2V4aXQoMiki
KTsKKwl9CisJaWYgKHZhbCA9PSAzKSB7CisJCWNsb3NlKGZkKTsKKwkJdHN0X3JlcyhURkFJTCwK
KwkJCSJTRUNDT01QX01PREVfU1RSSUNUIHBlcm1pdHMgY2xvc2UoMikgdW5leHBlY3RkbHkiKTsK
Kwl9CisKKwl0c3Rfc3lzY2FsbChfX05SX2V4aXQsIDApOworfQorCitzdGF0aWMgdm9pZCBjaGVj
a19maWx0ZXJfbW9kZShpbnQgdmFsKQoreworCWludCBjaGlsZHBpZDsKKwlpbnQgY2hpbGRzdGF0
dXM7CisJaW50IGZkOworCisJZmQgPSBTQUZFX09QRU4oRk5BTUUsIE9fUkRXUiB8IE9fQ1JFQVQs
IDA2NjYpOworCisJVEVTVChwcmN0bChQUl9TRVRfU0VDQ09NUCwgU0VDQ09NUF9NT0RFX0ZJTFRF
UiwgJnN0cmljdCkpOworCWlmIChUU1RfUkVUID09IC0xKSB7CisJCWlmIChUU1RfRVJSID09IEVG
QVVMVCkKKwkJCXRzdF9yZXMoVEZBSUwsICJ0aGUgc3RyaWN0IHByb2cgaXMgYW4gaW52YWxpZCBh
ZGRyZXNzIik7CisJCWVsc2UKKwkJCXRzdF9yZXMoVEZBSUwgfCBURVJSTk8sCisJCQkJInByY3Rs
KFBSX1NFVF9TRUNDT01QKSBzZXRzIHN0cmljdCBmaWx0ZXIgIgorCQkJCSJmYWlsZWQiKTsKKwkJ
cmV0dXJuOworCX0KKwlpZiAodmFsID09IDEpIHsKKwkJdHN0X3JlcyhUUEFTUywKKwkJCSJwcmN0
bChQUl9TRVRfU0VDQ09NUCkgc2V0cyBzdHJpY3QgZmlsdGVyIHN1Y2NlZWQiKTsKKwkJcHJjdGwo
UFJfR0VUX1NFQ0NPTVApOworCQl0c3RfcmVzKFRGQUlMLCAicHJjdGwoUFJfR0VUX1NFQ0NPTVAp
IHN1Y2NlZWQgdW5leHBlY3RlZGx5Iik7CisJfQorCWlmICh2YWwgPT0gMikgeworCQljbG9zZShm
ZCk7CisJCXRzdF9yZXMoVFBBU1MsICJTRUNDT01QX01PREVfRklMVEVSIHBlcm1pdHMgY2xvc2Uo
MikiKTsKKwl9CisJaWYgKHZhbCA9PSAzKQorCQlleGl0KDApOworCWlmICh2YWwgPT0gNCkgewor
CQljaGlsZHBpZCA9IGZvcmsoKTsKKwkJaWYgKGNoaWxkcGlkID09IDApIHsKKwkJCXRzdF9yZXMo
VFBBU1MsICJTRUNDT01QX01PREVfRklMVEVSIHBlcm1pdHMgZm9yaygyKSIpOworCQkJZXhpdCgw
KTsKKwkJfSBlbHNlIHsKKwkJCXdhaXQ0KGNoaWxkcGlkLCAmY2hpbGRzdGF0dXMsIDAsIE5VTEwp
OworCQkJaWYgKFdJRlNJR05BTEVEKGNoaWxkc3RhdHVzKSAmJgorCQkJCQlXVEVSTVNJRyhjaGls
ZHN0YXR1cykgPT0gU0lHU1lTKQorCQkJCXRzdF9yZXMoVFBBU1MsCisJCQkJCSJTRUNDT01QX01P
REVfRklMVEVSIGhhcyBiZWVuICIKKwkJCQkJImluaGVyaXRlZCBieSBjaGlsZCIpOworCQkJZWxz
ZQorCQkJCXRzdF9yZXMoVEZBSUwsCisJCQkJCSJTRUNDT01QX01PREVfRklMVEVSIGlzbid0IGJl
ZW4gIgorCQkJCQkiaW5oZXJpdGVkIGJ5IGNoaWxkIik7CisJCX0KKwl9CisJdHN0X3N5c2NhbGwo
X19OUl9leGl0LCAwKTsKK30KKworc3RhdGljIHZvaWQgdmVyaWZ5X3ByY3RsKHZvaWQpCit7CisJ
aW50IHBpZDsKKwlpbnQgc3RhdHVzOworCisJVEVTVChwcmN0bChQUl9HRVRfU0VDQ09NUCkpOwor
CWlmIChUU1RfUkVUID09IC0xKSB7CisJCWlmIChUU1RfRVJSID09IEVJTlZBTCkgeworCQkJdHN0
X3JlcyhUQ09ORiwKKwkJCQkicHJjdGwoKSBkb2Vzbid0IHN1cHBvcnQgUFJfR0VUX1NFQ0NPTVAi
KTsKKwkJfSBlbHNlIHsKKwkJCXRzdF9yZXMoVEZBSUwgfCBUVEVSUk5PLAorCQkJCSJwcmN0bChQ
Ul9HRVRfU0VDQ09NUCkgZmFpbGVkIik7CisJCX0KKwkJcmV0dXJuOworCX0KKwl0c3RfcmVzKFRQ
QVNTLCAicHJjdGwoUFJfR0VUX1NFQ0NPTVApIHN1Y2NlZWQiKTsKKworCS8qY2FsbCBnZXRfc2Vj
Y29tcCB3aGVuIGluIHN0cmljIG1vZGUgLGl0IHNob3VsZCBiZSBraWxsZWQqLworCXBpZCA9IFNB
RkVfRk9SSygpOworCWlmIChwaWQgPT0gMCkgeworCQljaGVja19zdHJpY3RfbW9kZSgxKTsKKwl9
IGVsc2UgeworCQlTQUZFX1dBSVRQSUQocGlkLCAmc3RhdHVzLCAwKTsKKwkJaWYgKFdJRlNJR05B
TEVEKHN0YXR1cykgJiYgV1RFUk1TSUcoc3RhdHVzKSA9PSBTSUdLSUxMKQorCQkJdHN0X3JlcyhU
UEFTUywKKwkJCQkiU0VDQ09NUF9NT0RFX1NUUklDVCBkb2Vzbid0IHBlcm1pdCAiCisJCQkJIkdF
VF9TRUNDT01QIGNhbGwiKTsKKwl9CisKKwkvKnBvc2l0aXZlIGNoZWNrIGluIHNlY3VyZSBjb21w
dXRpbmcgbW9kZSovCisJcGlkID0gU0FGRV9GT1JLKCk7CisJaWYgKHBpZCA9PSAwKSB7CisJCWNo
ZWNrX3N0cmljdF9tb2RlKDIpOworCX0gZWxzZSB7CisJCVNBRkVfV0FJVFBJRChwaWQsICZzdGF0
dXMsIDApOworCQlpZiAoV0lGU0lHTkFMRUQoc3RhdHVzKSAmJiBXVEVSTVNJRyhzdGF0dXMpID09
IFNJR0tJTEwpCisJCQl0c3RfcmVzKFRGQUlMLAorCQkJCSJTRUNDT01QX01PREVfU1RSSUNUIGRv
ZXNuJ3QgcGVybWl0ICIKKwkJCQkicmVhZCgyKSB3cml0ZSgyKSBhbmQgX2V4aXQoMikiKTsKKwl9
CisKKwkvKm5lZ2F0aXZlIGNoZWNrIGluIHNlY3VyZSBjb21wdXRpbmcgbW9kZSovCisJcGlkID0g
U0FGRV9GT1JLKCk7CisJaWYgKHBpZCA9PSAwKSB7CisJCWNoZWNrX3N0cmljdF9tb2RlKDMpOwor
CX0gZWxzZSB7CisJCVNBRkVfV0FJVFBJRChwaWQsICZzdGF0dXMsIDApOworCQlpZiAoV0lGU0lH
TkFMRUQoc3RhdHVzKSAmJiBXVEVSTVNJRyhzdGF0dXMpID09IFNJR0tJTEwpCisJCQl0c3RfcmVz
KFRQQVNTLAorCQkJCSJTRUNDT01QX01PREVfU1RSSUNUIGRvZXNuJ3QgcGVybWl0IGNsb3NlKDIp
Iik7CisJfQorCisJLypjYWxsIGdldF9zZWNjb21wIGluIGZpbHRlciBtb2RlIHNob3VsZCBiZSBr
aWxsZWQgYnkgU0lHU1lTIHNpZ25hbCovCisJcGlkID0gU0FGRV9GT1JLKCk7CisJaWYgKHBpZCA9
PSAwKSB7CisJCWNoZWNrX2ZpbHRlcl9tb2RlKDEpOworCX0gZWxzZSB7CisJCVNBRkVfV0FJVFBJ
RChwaWQsICZzdGF0dXMsIDApOworCQlpZiAoV0lGU0lHTkFMRUQoc3RhdHVzKSAmJiBXVEVSTVNJ
RyhzdGF0dXMpID09IFNJR1NZUykKKwkJCXRzdF9yZXMoVFBBU1MsCisJCQkJIlNFQ0NPTVBfTU9E
RV9GSUxURVIgZG9lc3RuJ3QgcGVybWl0ICIKKwkJCQkiR0VUX1NFQ0NPTVAgY2FsbCIpOworCX0K
KworCS8qcG9zaXRpdmUgY2hlY2sgaW4gU0VDQ09NUF9NT0RFX0ZJTFRFUiovCisJcGlkID0gU0FG
RV9GT1JLKCk7CisJaWYgKHBpZCA9PSAwKSB7CisJCWNoZWNrX2ZpbHRlcl9tb2RlKDIpOworCX0g
ZWxzZSB7CisJCVNBRkVfV0FJVFBJRChwaWQsICZzdGF0dXMsIDApOworCQlpZiAoV0lGU0lHTkFM
RUQoc3RhdHVzKSAmJiBXVEVSTVNJRyhzdGF0dXMpID09IFNJR1NZUykKKwkJCXRzdF9yZXMoVEZB
SUwsCisJCQkJIlNFQ0NPTVBfTU9ERV9GSUxURVIgZG9lc24ndCBwZXJtaXQgY2xvc2UoMikiKTsK
Kwl9CisKKwkvKm5lZ2F0aXZlIGNoZWNrIGluIFNFQ0NPTVBfTU9ERV9GSUxURVIqLworCXBpZCA9
IFNBRkVfRk9SSygpOworCWlmIChwaWQgPT0gMCkgeworCQljaGVja19maWx0ZXJfbW9kZSgzKTsK
Kwl9IGVsc2UgeworCQlTQUZFX1dBSVRQSUQocGlkLCAmc3RhdHVzLCAwKTsKKwkJaWYgKFdJRlNJ
R05BTEVEKHN0YXR1cykgJiYgV1RFUk1TSUcoc3RhdHVzKSA9PSBTSUdTWVMpCisJCQl0c3RfcmVz
KFRQQVNTLAorCQkJCSJTRUNDT01QX01PREVfRklMVEVSIGRvZXNuJ3QgcGVybWl0IGV4aXQoKSIp
OworCQllbHNlCisJCQl0c3RfcmVzKFRGQUlMLAorCQkJCSJTRUNDT01QX01PREVfRklMVEVSIHBl
cm1pdHMgZXhpdCgpICIKKwkJCQkidW5leHBlY3RkbHkiKTsKKwl9CisKKwlwaWQgPSBTQUZFX0ZP
UksoKTsKKwlpZiAocGlkID09IDApIHsKKwkJY2hlY2tfZmlsdGVyX21vZGUoNCk7CisJfSBlbHNl
IHsKKwkJU0FGRV9XQUlUUElEKHBpZCwgJnN0YXR1cywgMCk7CisJCWlmIChXSUZTSUdOQUxFRChz
dGF0dXMpICYmIFdURVJNU0lHKHN0YXR1cykgPT0gU0lHU1lTKQorCQkJdHN0X3JlcyhURkFJTCwK
KwkJCQkiU0VDQ09NUF9NT0RFX0ZJTFRFUiBmb3JrIGZhaWxlZCAiCisJCQkJInVuZXhwZWN0ZGx5
Iik7CisJfQorfQorCitzdGF0aWMgc3RydWN0IHRzdF90ZXN0IHRlc3QgPSB7CisJLnRlc3RfYWxs
ID0gdmVyaWZ5X3ByY3RsLAorCS5mb3Jrc19jaGlsZCA9IDEsCisJLm5lZWRzX3RtcGRpciA9IDEs
CisJLm5lZWRzX3Jvb3QgPSAxLAorfTsKLS0gCjIuMTguMQoKCgoKLS0gCk1haWxpbmcgbGlzdCBp
bmZvOiBodHRwczovL2xpc3RzLmxpbnV4Lml0L2xpc3RpbmZvL2x0cAo=
