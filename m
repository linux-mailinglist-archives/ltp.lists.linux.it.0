Return-Path: <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>
X-Original-To: lists+linux-ltp@lfdr.de
Delivered-To: lists+linux-ltp@lfdr.de
Received: from picard.linux.it (picard.linux.it [213.254.12.146])
	by mail.lfdr.de (Postfix) with ESMTPS id 0437D2EAD1
	for <lists+linux-ltp@lfdr.de>; Thu, 30 May 2019 04:53:13 +0200 (CEST)
Received: from picard.linux.it (localhost [IPv6:::1])
	by picard.linux.it (Postfix) with ESMTP id BC1DF3EA2D1
	for <lists+linux-ltp@lfdr.de>; Thu, 30 May 2019 04:53:12 +0200 (CEST)
X-Original-To: ltp@lists.linux.it
Delivered-To: ltp@picard.linux.it
Received: from in-2.smtp.seeweb.it (in-2.smtp.seeweb.it [217.194.8.2])
 by picard.linux.it (Postfix) with ESMTP id 7CAC43EA1DD
 for <ltp@lists.linux.it>; Thu, 30 May 2019 04:53:11 +0200 (CEST)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by in-2.smtp.seeweb.it (Postfix) with ESMTPS id 7C404601158
 for <ltp@lists.linux.it>; Thu, 30 May 2019 04:53:10 +0200 (CEST)
Received: from smtp.corp.redhat.com (int-mx02.intmail.prod.int.phx2.redhat.com
 [10.5.11.12])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id A4F3B30820E6;
 Thu, 30 May 2019 02:53:08 +0000 (UTC)
Received: from localhost (dhcp-12-130.nay.redhat.com [10.66.12.130])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 1D56360C4E;
 Thu, 30 May 2019 02:53:07 +0000 (UTC)
From: Murphy Zhou <xzhou@redhat.com>
To: amir73il@gmail.com,
	pvorel@suse.cz
Date: Thu, 30 May 2019 10:53:00 +0800
Message-Id: <20190530025301.9616-1-xzhou@redhat.com>
In-Reply-To: <CAOQ4uxhYVDDh961PCBqikrO=QjPG-yUEUvwWn8hBCkB0ugMuzg@mail.gmail.com>
References: <CAOQ4uxhYVDDh961PCBqikrO=QjPG-yUEUvwWn8hBCkB0ugMuzg@mail.gmail.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.12
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.47]); Thu, 30 May 2019 02:53:08 +0000 (UTC)
X-Virus-Scanned: clamav-milter 0.99.2 at in-2.smtp.seeweb.it
X-Virus-Status: Clean
X-Spam-Status: No, score=-0.0 required=7.0 tests=SPF_HELO_PASS,SPF_PASS
 autolearn=disabled version=3.4.0
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on in-2.smtp.seeweb.it
Cc: ltp@lists.linux.it
Subject: [LTP] [PATCH v6 1/2] OVL_MNT: add helpers to setup overlayfs
	mountpoint
X-BeenThere: ltp@lists.linux.it
X-Mailman-Version: 2.1.18
Precedence: list
List-Id: Linux Test Project <ltp.lists.linux.it>
List-Unsubscribe: <https://lists.linux.it/options/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=unsubscribe>
List-Archive: <http://lists.linux.it/pipermail/ltp/>
List-Post: <mailto:ltp@lists.linux.it>
List-Help: <mailto:ltp-request@lists.linux.it?subject=help>
List-Subscribe: <https://lists.linux.it/listinfo/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it
Sender: "ltp" <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>

RGVmaW5lIGNvbnN0cmFpbnRzIG9mIG5lZWRlZCBvdmVybGF5ZnMgZGlyczsKY3JlYXRlX292ZXJs
YXlfZGlycygpIHRvIGNyZWF0ZSBsb3dlci91cHBlci93b3JrIGRpcnM7Cm1vdW50X292ZXJsYXko
KSB0byBtb3VudCBvdmVybGF5ZnM7ClNBRkVfTU9VTlRfT1ZFUkxBWSBtYWNybyB0byBtb3VudCBv
dmVybGF5ZnMgc2FmZWx5LCB0c3RfYnJrIFRDT05GCmlmIG1vdW50IGZhaWwgd2l0aCBlcnJubyBF
Tk9ERVY7ClRTVF9NT1VOVF9PVkVSTEFZICBtYWNybyB0byBtb3VudCBvdmVybGF5ZnMgYW5kIHJl
dHVybiAwIGlmIHN1Y2NlZWRzOwoKU3VnZ2VzdGVkLWJ5OiBQZXRyIFZvcmVsIDxwdm9yZWxAc3Vz
ZS5jej4KU3VnZ2VzdGVkLWJ5OiBBbWlyIEdvbGRzdGVpbiA8YW1pcjczaWxAZ21haWwuY29tPgpS
ZXZpZXdlZC1ieTogQW1pciBHb2xkc3RlaW4gPGFtaXI3M2lsQGdtYWlsLmNvbT4KU2lnbmVkLW9m
Zi1ieTogTXVycGh5IFpob3UgPHh6aG91QHJlZGhhdC5jb20+Ci0tLQp2NjoKICBSZXR1cm4gYmVm
b3JlIGNsb3NlIE5VTEwgZGlyIGluIGNyZWF0ZV9vdmVybGF5X2RpcnMKdjU6CiAgSW50cm9kdWNl
IHRzdF90ZXN0LT5uZWVkc19vdmVybGF5IHRvIG1vdW50IGFuZCB1bW91bnQgb3ZlcmxheQogIFNl
dmVyYWwgb3RoZXIgZml4ZXMgc3VnZ2VzdGVkIGJ5IFBldHIKICBVcGRhdGUgZXhlY3ZlYXQwMywg
aW5vdGlmeTA3LzggdG8gdXNlIG5lZWRzX292ZXJsYXkKdjQ6CiAgVXBkYXRlIEVOT0RFViBoYW5k
bGUgbG9naWMKICBEZWZpbmUgVFNUX01PVU5UX09WRVJMQVkgYW5kIFNBRkVfTU9VTlRfT1ZFUkxB
WSBtYWNyb3MKICBDaGFuZ2UgaGVscGVyIG5hbWVzCnYzOgogIFNwbGl0IHNldHVwIHRvIDIgcGFy
dHM6IGNyZWF0aW5nIGZpbGVzIGFuZCBtb3VudGluZy4KICBVc2UgbWFjcm8gU0FGRV9NT1VOVF9P
VkVSTEFZRlMuCiAgSGFuZGxlIEVOT0RFViBkaWZmZXJlbnRseSBmb3IgNCB0ZXN0Y2FzZXMgd2Ug
aGF2ZSBtb2RpZmllZC4KdjI6CiAgZGVmaW5lIGNvbnN0cmFpbnRzIGluIGhlYWRlciBmaWxlLgog
IGFkZCBhIHNldHVwIGhlbHBlciB0byBjcmVhdGUgZGlycyBhbmQgbW91bnQuCgogaW5jbHVkZS9z
YWZlX2ZpbGVfb3BzX2ZuLmggIHwgIDQgKysrCiBpbmNsdWRlL3RzdF9mcy5oICAgICAgICAgICAg
fCAgNiArKysrKwogaW5jbHVkZS90c3Rfc2FmZV9maWxlX29wcy5oIHwgIDYgKysrKysKIGluY2x1
ZGUvdHN0X3Rlc3QuaCAgICAgICAgICB8ICAxICsKIGxpYi90c3RfZnNfc2V0dXAuYyAgICAgICAg
ICB8IDQ5ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIGxpYi90c3RfdGVz
dC5jICAgICAgICAgICAgICB8IDE1ICsrKysrKysrKysrKwogNiBmaWxlcyBjaGFuZ2VkLCA4MSBp
bnNlcnRpb25zKCspCiBjcmVhdGUgbW9kZSAxMDA2NDQgbGliL3RzdF9mc19zZXR1cC5jCgpkaWZm
IC0tZ2l0IGEvaW5jbHVkZS9zYWZlX2ZpbGVfb3BzX2ZuLmggYi9pbmNsdWRlL3NhZmVfZmlsZV9v
cHNfZm4uaAppbmRleCAzNWVjNGZiMWYuLjA1MmZiMWI5YSAxMDA2NDQKLS0tIGEvaW5jbHVkZS9z
YWZlX2ZpbGVfb3BzX2ZuLmgKKysrIGIvaW5jbHVkZS9zYWZlX2ZpbGVfb3BzX2ZuLmgKQEAgLTc2
LDQgKzc2LDggQEAgdm9pZCBzYWZlX3RvdWNoKGNvbnN0IGNoYXIgKmZpbGUsIGNvbnN0IGludCBs
aW5lbm8sCiAJCWNvbnN0IGNoYXIgKnBhdGhuYW1lLAogCQltb2RlX3QgbW9kZSwgY29uc3Qgc3Ry
dWN0IHRpbWVzcGVjIHRpbWVzWzJdKTsKIAorLyogaGVscGVyIGZ1bmN0aW9ucyB0byBzZXR1cCBv
dmVybGF5ZnMgbW91bnRwb2ludCAqLwordm9pZCBjcmVhdGVfb3ZlcmxheV9kaXJzKHZvaWQpOwor
aW50IG1vdW50X292ZXJsYXkoY29uc3QgY2hhciAqZmlsZSwgY29uc3QgaW50IGxpbmVubywgaW50
IHNraXApOworCiAjZW5kaWYgLyogU0FGRV9GSUxFX09QU19GTiAqLwpkaWZmIC0tZ2l0IGEvaW5j
bHVkZS90c3RfZnMuaCBiL2luY2x1ZGUvdHN0X2ZzLmgKaW5kZXggYjJiMTlhZGE2Li5lYmNhMDY1
YzYgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvdHN0X2ZzLmgKKysrIGIvaW5jbHVkZS90c3RfZnMuaApA
QCAtNTAsNiArNTAsMTIgQEAgZW51bSB7CiAJVFNUX0dCID0gMTA3Mzc0MTgyNCwKIH07CiAKKyNk
ZWZpbmUgT1ZMX0JBU0VfTU5UUE9JTlQgICAgICAgICJtbnRwb2ludCIKKyNkZWZpbmUgT1ZMX0xP
V0VSCU9WTF9CQVNFX01OVFBPSU5UIi9sb3dlciIKKyNkZWZpbmUgT1ZMX1VQUEVSCU9WTF9CQVNF
X01OVFBPSU5UIi91cHBlciIKKyNkZWZpbmUgT1ZMX1dPUksJT1ZMX0JBU0VfTU5UUE9JTlQiL3dv
cmsiCisjZGVmaW5lIE9WTF9NTlQJCU9WTF9CQVNFX01OVFBPSU5UIi9vdmwiCisKIC8qCiAgKiBA
cGF0aDogcGF0aCBpcyB0aGUgcGF0aG5hbWUgb2YgYW55IGZpbGUgd2l0aGluIHRoZSBtb3VudGVk
IGZpbGUgc3lzdGVtCiAgKiBAbXVsdDogbXVsdCBzaG91bGQgYmUgVFNUX0tCLCBUU1RfTUIgb3Ig
VFNUX0dCCmRpZmYgLS1naXQgYS9pbmNsdWRlL3RzdF9zYWZlX2ZpbGVfb3BzLmggYi9pbmNsdWRl
L3RzdF9zYWZlX2ZpbGVfb3BzLmgKaW5kZXggNWMzZmVhNGUyLi5iNjJhNzQ0N2YgMTAwNjQ0Ci0t
LSBhL2luY2x1ZGUvdHN0X3NhZmVfZmlsZV9vcHMuaAorKysgYi9pbmNsdWRlL3RzdF9zYWZlX2Zp
bGVfb3BzLmgKQEAgLTU5LDQgKzU5LDEwIEBACiAJc2FmZV90b3VjaChfX0ZJTEVfXywgX19MSU5F
X18sIE5VTEwsIFwKIAkJCShwYXRobmFtZSksIChtb2RlKSwgKHRpbWVzKSkKIAorI2RlZmluZSBT
QUZFX01PVU5UX09WRVJMQVkoKSBcCisJKCh2b2lkKSBtb3VudF9vdmVybGF5KF9fRklMRV9fLCBf
X0xJTkVfXywgMSkpCisKKyNkZWZpbmUgVFNUX01PVU5UX09WRVJMQVkoKSBcCisJKG1vdW50X292
ZXJsYXkoX19GSUxFX18sIF9fTElORV9fLCAwKSA9PSAwKQorCiAjZW5kaWYgLyogVFNUX1NBRkVf
RklMRV9PUFMgKi8KZGlmZiAtLWdpdCBhL2luY2x1ZGUvdHN0X3Rlc3QuaCBiL2luY2x1ZGUvdHN0
X3Rlc3QuaAppbmRleCBlNGI5MzVjNDUuLmYzYjg5MDFhMiAxMDA2NDQKLS0tIGEvaW5jbHVkZS90
c3RfdGVzdC5oCisrKyBiL2luY2x1ZGUvdHN0X3Rlc3QuaApAQCAtMTIxLDYgKzEyMSw3IEBAIHN0
cnVjdCB0c3RfdGVzdCB7CiAJaW50IG5lZWRzX3Jvb3Q6MTsKIAlpbnQgZm9ya3NfY2hpbGQ6MTsK
IAlpbnQgbmVlZHNfZGV2aWNlOjE7CisJaW50IG5lZWRzX292ZXJsYXk6MTsKIAlpbnQgbmVlZHNf
Y2hlY2twb2ludHM6MTsKIAlpbnQgZm9ybWF0X2RldmljZToxOwogCWludCBtb3VudF9kZXZpY2U6
MTsKZGlmZiAtLWdpdCBhL2xpYi90c3RfZnNfc2V0dXAuYyBiL2xpYi90c3RfZnNfc2V0dXAuYwpu
ZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAuLjMyYTYyMThlMwotLS0gL2Rldi9u
dWxsCisrKyBiL2xpYi90c3RfZnNfc2V0dXAuYwpAQCAtMCwwICsxLDQ5IEBACisvLyBTUERYLUxp
Y2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vci1sYXRlcgorCisjaW5jbHVkZSA8ZGlyZW50Lmg+
CisjaW5jbHVkZSA8ZXJybm8uaD4KKyNpbmNsdWRlIDxzeXMvbW91bnQuaD4KKworI2RlZmluZSBU
U1RfTk9fREVGQVVMVF9NQUlOCisjaW5jbHVkZSAidHN0X3Rlc3QuaCIKKyNpbmNsdWRlICJ0c3Rf
ZnMuaCIKKworI2RlZmluZSBUU1RfRlNfU0VUVVBfT1ZFUkxBWUZTX01TRyAib3ZlcmxheWZzIGlz
IG5vdCBjb25maWd1cmVkIGluIHRoaXMga2VybmVsIgorI2RlZmluZSBUU1RfRlNfU0VUVVBfT1ZF
UkxBWUZTX0NPTkZJRyAibG93ZXJkaXI9Ik9WTF9MT1dFUiIsdXBwZXJkaXI9Ik9WTF9VUFBFUiIs
d29ya2Rpcj0iT1ZMX1dPUksKKwordm9pZCBjcmVhdGVfb3ZlcmxheV9kaXJzKHZvaWQpCit7CisJ
RElSICpkaXIgPSBvcGVuZGlyKE9WTF9MT1dFUik7CisJaWYgKGRpciA9PSBOVUxMKSB7CisJCVNB
RkVfTUtESVIoT1ZMX0xPV0VSLCAwNzU1KTsKKwkJU0FGRV9NS0RJUihPVkxfVVBQRVIsIDA3NTUp
OworCQlTQUZFX01LRElSKE9WTF9XT1JLLCAwNzU1KTsKKwkJU0FGRV9NS0RJUihPVkxfTU5ULCAw
NzU1KTsKKwkJcmV0dXJuOworCX0KKwljbG9zZWRpcihkaXIpOworfQorCitpbnQgbW91bnRfb3Zl
cmxheShjb25zdCBjaGFyICpmaWxlLCBjb25zdCBpbnQgbGluZW5vLCBpbnQgc2tpcCkKK3sKKwlp
bnQgcmV0ID0gMDsKKworCWNyZWF0ZV9vdmVybGF5X2RpcnMoKTsKKwlyZXQgPSBtb3VudCgib3Zl
cmxheSIsIE9WTF9NTlQsICJvdmVybGF5IiwgMCwKKwkJCQlUU1RfRlNfU0VUVVBfT1ZFUkxBWUZT
X0NPTkZJRyk7CisJaWYgKHJldCA9PSAwKQorCQlyZXR1cm4gMDsKKworCWlmIChlcnJubyA9PSBF
Tk9ERVYpIHsKKwkJaWYgKHNraXApIHsKKwkJCXRzdF9icmsoVENPTkYsICIlczolZDogIiBUU1Rf
RlNfU0VUVVBfT1ZFUkxBWUZTX01TRywKKwkJCQlmaWxlLCBsaW5lbm8pOworCQl9IGVsc2Ugewor
CQkJdHN0X3JlcyhUSU5GTywgIiVzOiVkOiAiIFRTVF9GU19TRVRVUF9PVkVSTEFZRlNfTVNHLAor
CQkJCWZpbGUsIGxpbmVubyk7CisJCX0KKwl9IGVsc2UgeworCQl0c3RfYnJrKFRCUk9LIHwgVEVS
Uk5PLCAib3ZlcmxheWZzIG1vdW50IGZhaWxlZCIpOworCX0KKwlyZXR1cm4gcmV0OworfQpkaWZm
IC0tZ2l0IGEvbGliL3RzdF90ZXN0LmMgYi9saWIvdHN0X3Rlc3QuYwppbmRleCAyZDg4YWRiZDcu
Ljk1ZjM4OWQyZSAxMDA2NDQKLS0tIGEvbGliL3RzdF90ZXN0LmMKKysrIGIvbGliL3RzdF90ZXN0
LmMKQEAgLTUwLDYgKzUwLDcgQEAgc3RhdGljIGludCBpdGVyYXRpb25zID0gMTsKIHN0YXRpYyBm
bG9hdCBkdXJhdGlvbiA9IC0xOwogc3RhdGljIHBpZF90IG1haW5fcGlkLCBsaWJfcGlkOwogc3Rh
dGljIGludCBtbnRwb2ludF9tb3VudGVkOworc3RhdGljIGludCBvdmxfbW91bnRlZDsKIHN0YXRp
YyBzdHJ1Y3QgdGltZXNwZWMgdHN0X3N0YXJ0X3RpbWU7IC8qIHZhbGlkIG9ubHkgZm9yIHRlc3Qg
cGlkICovCiAKIHN0cnVjdCByZXN1bHRzIHsKQEAgLTg3MSw2ICs4NzIsMTcgQEAgc3RhdGljIHZv
aWQgZG9fc2V0dXAoaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbXSkKIAkJCXByZXBhcmVfZGV2aWNlKCk7
CiAJfQogCisJaWYgKHRzdF90ZXN0LT5uZWVkc19vdmVybGF5ICYmICF0c3RfdGVzdC0+bW91bnRf
ZGV2aWNlKSB7CisJCXRzdF9icmsoVEJST0ssICJ0c3RfdGVzdC0+bW91bnRfZGV2aWNlIG11c3Qg
YmUgc2V0Iik7CisJfQorCWlmICh0c3RfdGVzdC0+bmVlZHNfb3ZlcmxheSAmJiAhbW50cG9pbnRf
bW91bnRlZCkgeworCQl0c3RfYnJrKFRCUk9LLCAidHN0X3Rlc3QtPm1udHBvaW50IG11c3QgYmUg
bW91bnRlZCIpOworCX0KKwlpZiAodHN0X3Rlc3QtPm5lZWRzX292ZXJsYXkgJiYgIW92bF9tb3Vu
dGVkKSB7CisJCVNBRkVfTU9VTlRfT1ZFUkxBWSgpOworCQlvdmxfbW91bnRlZCA9IDE7CisJfQor
CiAJaWYgKHRzdF90ZXN0LT5yZXNvdXJjZV9maWxlcykKIAkJY29weV9yZXNvdXJjZXMoKTsKIApA
QCAtODkxLDYgKzkwMyw5IEBAIHN0YXRpYyB2b2lkIGRvX3Rlc3Rfc2V0dXAodm9pZCkKIAogc3Rh
dGljIHZvaWQgZG9fY2xlYW51cCh2b2lkKQogeworCWlmIChvdmxfbW91bnRlZCkKKwkJU0FGRV9V
TU9VTlQoT1ZMX01OVCk7CisKIAlpZiAobW50cG9pbnRfbW91bnRlZCkKIAkJdHN0X3Vtb3VudCh0
c3RfdGVzdC0+bW50cG9pbnQpOwogCi0tIAoyLjIxLjAKCgotLSAKTWFpbGluZyBsaXN0IGluZm86
IGh0dHBzOi8vbGlzdHMubGludXguaXQvbGlzdGluZm8vbHRwCg==
