Return-Path: <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>
X-Original-To: lists+linux-ltp@lfdr.de
Delivered-To: lists+linux-ltp@lfdr.de
Received: from picard.linux.it (picard.linux.it [IPv6:2001:1418:10:5::2])
	by mail.lfdr.de (Postfix) with ESMTPS id 2AAC5A9E0A6
	for <lists+linux-ltp@lfdr.de>; Sun, 27 Apr 2025 09:56:06 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=lists.linux.it;
 i=@lists.linux.it; q=dns/txt; s=picard; t=1745740565; h=mime-version :
 references : in-reply-to : date : message-id : to : subject : list-id
 : list-unsubscribe : list-archive : list-post : list-help :
 list-subscribe : from : reply-to : cc : content-type :
 content-transfer-encoding : sender : from;
 bh=WKKt6ZCg2vXI4ktrOiJ8+Yd2I5JhWwkvf9qUL6wR4OY=;
 b=ifGWgagTBpOKUUKoBPbs3dBeQrnLM2RYjoAFTvG2J8iS3Q2bP4raCiGxKpccjIgFwGt0X
 +DRaElkk2Mx59tje1RB7BRxrqK7k+C+R4STGg+VmiZ/du5Ln3WQ2gnJZicnY0my18SSY9xS
 Qi5Jsq6LZIV0v9jaHmxtjnS2dibg0w8=
Received: from picard.linux.it (localhost [IPv6:::1])
	by picard.linux.it (Postfix) with ESMTP id 34DFF3CB931
	for <lists+linux-ltp@lfdr.de>; Sun, 27 Apr 2025 09:56:05 +0200 (CEST)
X-Original-To: ltp@lists.linux.it
Delivered-To: ltp@picard.linux.it
Received: from in-7.smtp.seeweb.it (in-7.smtp.seeweb.it
 [IPv6:2001:4b78:1:20::7])
 (using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
 key-exchange X25519 server-signature ECDSA (secp384r1))
 (No client certificate requested)
 by picard.linux.it (Postfix) with ESMTPS id E4FE23C0626
 for <ltp@lists.linux.it>; Sun, 27 Apr 2025 09:56:03 +0200 (CEST)
Received: from us-smtp-delivery-124.mimecast.com
 (us-smtp-delivery-124.mimecast.com [170.10.129.124])
 (using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
 key-exchange X25519 server-signature RSA-PSS (2048 bits) server-digest SHA256)
 (No client certificate requested)
 by in-7.smtp.seeweb.it (Postfix) with ESMTPS id 8688E200206
 for <ltp@lists.linux.it>; Sun, 27 Apr 2025 09:56:01 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
 s=mimecast20190719; t=1745740559;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 in-reply-to:in-reply-to:references:references;
 bh=uW+TuViNfM/V7RnJMOD+4qF2/XV3+q/Ez69trDUzF78=;
 b=T6jVjoT7R/QgNp6s8VI1ockJpU9ZYxhO2cPzm4DKI0L/TSe03P1bUXu8lgOqMcO324TyG9
 fwjIt8vg1h7O60zJn9vpD+jklnTdoqkmj9vtwc+6H+0A2d28h2g5SfYTkNrl0cM393uOA1
 lOnBAVHeFcUB04utgohHWbe9WIvC7Ns=
Received: from mail-pj1-f69.google.com (mail-pj1-f69.google.com
 [209.85.216.69]) by relay.mimecast.com with ESMTP with STARTTLS
 (version=TLSv1.3, cipher=TLS_AES_256_GCM_SHA384) id
 us-mta-369-pCIqJKpsP7as2mca18iphQ-1; Sun, 27 Apr 2025 03:55:57 -0400
X-MC-Unique: pCIqJKpsP7as2mca18iphQ-1
X-Mimecast-MFC-AGG-ID: pCIqJKpsP7as2mca18iphQ_1745740556
Received: by mail-pj1-f69.google.com with SMTP id
 98e67ed59e1d1-2ff8340d547so2998335a91.2
 for <ltp@lists.linux.it>; Sun, 27 Apr 2025 00:55:57 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20230601; t=1745740556; x=1746345356;
 h=cc:to:subject:message-id:date:from:in-reply-to:references
 :mime-version:x-gm-message-state:from:to:cc:subject:date:message-id
 :reply-to;
 bh=uW+TuViNfM/V7RnJMOD+4qF2/XV3+q/Ez69trDUzF78=;
 b=uUTOGg8dm5IbtbHMFThLzMbcRKSIgraBkXLAqr8GFFCkSZRYS1BoILdiDQ2nMOlc7G
 EqwQbm+h/ZXYzImCCnjTYMZ5tA3qgdiGp+rc7uxOM9UOQqsUs15dCT+ewTbpjawWxcsv
 muzWZMiAYh4qGjpd0VtbLQt88AW6UuoxpQMSJkGIulwSU/ACfQYnQoWtlfibbqFee2fw
 dNxiIehHqTO5GKV6c/WDgEb5y4t8OhjteRSRUTLkXSjCH4eJRBkDSky8DQcHxXFJiuz3
 GODqAzTIvUAsf1CNyG47/ZlyVgrQfc08UgZ8n6noEyF+Cc2uMthsWNVCedyhqnxiUfL1
 PKdw==
X-Gm-Message-State: AOJu0YyARBmhsowhqQXj+GtMIoNsE5DmVISZlMdTBQIEhDry6cgVSm9o
 sEbNyu7sCEOTsVoKQruhguwWytUgvYBEWQkjQXkw5kkG1rrY4HFQyuPYZTxFVMGK+BHfSJtMzVx
 9CnrqF8zAoOTrlR7wISUs7ET7m4iYsHqikKtJeN6PNJ7EzttjAi2h3IMpfVHCECn49mGitFkN2O
 9LhqroVt9bGaGo47dUxx2TGks=
X-Gm-Gg: ASbGncvvoMpeCVEExwqy8NVI386VTwujGdGKt50wb5lnPahCSI2okmZIhGO2PeXwuIM
 nFnV9QpSGC5X+q4aJd9yNkV4qUp9586tS3xR5vHtvxh2q4V0fNPUF8/P/dKhDPBCIIp//DQ==
X-Received: by 2002:a17:90b:1d51:b0:308:539d:7577 with SMTP id
 98e67ed59e1d1-30a01033a09mr9142273a91.0.1745740556207; 
 Sun, 27 Apr 2025 00:55:56 -0700 (PDT)
X-Google-Smtp-Source: AGHT+IFoXGWv/HBIX3Lv/iJtvaWSg4aFut4YnUupBEV7LvZpiI3a24VOzWe1GoMJLVQ4a9n0vHCUDM7CriQyqi2WMto=
X-Received: by 2002:a17:90b:1d51:b0:308:539d:7577 with SMTP id
 98e67ed59e1d1-30a01033a09mr9142251a91.0.1745740555729; Sun, 27 Apr 2025
 00:55:55 -0700 (PDT)
MIME-Version: 1.0
References: <20250422093257.299066-1-chwen@redhat.com>
In-Reply-To: <20250422093257.299066-1-chwen@redhat.com>
Date: Sun, 27 Apr 2025 15:55:43 +0800
X-Gm-Features: ATxdqUHiUo1_umxAjkSRo2I6BMarrHlqCCdl9BrVtqgNSaYO_YJlR3Q_Q7lcVVM
Message-ID: <CAEemH2fbmOFokFMXB=XVOgb45M0vLOSckH9Ytbuees6AZMaSKg@mail.gmail.com>
To: chunfuwen <chwen@redhat.com>
X-Mimecast-Spam-Score: 0
X-Mimecast-MFC-PROC-ID: -DUexIoyjkaNmS2mFcLNcTdp-mWjEaN7J2uPQ0pPde8_1745740556
X-Mimecast-Originator: redhat.com
X-Spam-Status: No, score=0.1 required=7.0 tests=DKIM_SIGNED,DKIM_VALID,
 DKIM_VALID_AU,DKIM_VALID_EF,HTML_MESSAGE,SPF_HELO_NONE,SPF_PASS
 shortcircuit=no autolearn=disabled version=4.0.1
X-Spam-Checker-Version: SpamAssassin 4.0.1 (2024-03-25) on in-7.smtp.seeweb.it
X-Virus-Scanned: clamav-milter 1.0.7 at in-7.smtp.seeweb.it
X-Virus-Status: Clean
X-Content-Filtered-By: Mailman/MimeDel 2.1.29
Subject: Re: [LTP] [PATCH] Add tls parameter and flag:CLONE_SETTLS cover for
 clone and clone3 syscall
X-BeenThere: ltp@lists.linux.it
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Linux Test Project <ltp.lists.linux.it>
List-Unsubscribe: <https://lists.linux.it/options/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=unsubscribe>
List-Archive: <http://lists.linux.it/pipermail/ltp/>
List-Post: <mailto:ltp@lists.linux.it>
List-Help: <mailto:ltp-request@lists.linux.it?subject=help>
List-Subscribe: <https://lists.linux.it/listinfo/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=subscribe>
From: Li Wang via ltp <ltp@lists.linux.it>
Reply-To: Li Wang <liwang@redhat.com>
Cc: ltp@lists.linux.it
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it
Sender: "ltp" <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>

SGkgQ2h1bmZ1LAoKQWNjb3JkaW5nIHRvIHRoZSBtYW51YWwgcGFnZToKCiJDTE9ORV9TRVRUTFMg
KHNpbmNlIExpbnV4IDIuNS4zMik6ClRoZSBpbnRlcnByZXRhdGlvbiBvZiB0bHMgYW5kIHRoZSBy
ZXN1bHRpbmcgZWZmZWN0IGlzIGFyY2hpdGVjdHVyZQpkZXBlbmRlbnQuCk9uIHg4NiwgdGxzIGlz
IGludGVycHJldGVkIGFzIGEgc3RydWN0IHVzZXJfZGVzYyAqIChzZWUKc2V0X3RocmVhZF9hcmVh
KDIpKS4KT24geDg2LTY0IGl0IGlzIHRoZSBuZXcgdmFsdWUgdG8gYmUgc2V0IGZvciB0aGUgJWZz
IGJhc2UgcmVnaXN0ZXIgKHNlZSB0aGUKQVJDSF9TRVRfRlMgYXJndW1lbnQgdG8gYXJjaF9wcmN0
bCgyKSkuICBPbiBhcmNoaXRlY3R1cmVzIHdpdGggYSBkZWRpY2F0ZWQKVExTIHJlZ2lzdGVyLCBp
dCBpcyB0aGUgbmV3IHZhbHVlIG9mIHRoYXQgcmVnaXN0ZXIuLi4iCgpJJ20gYWZyYWlkIHdlIHNo
b3VsZG4ndCB0ZXN0IENMT05FX1NFVFRMUyBpbiB0aGlzIHdheSwgdGhlIHRscwppbnRlcnByZXRh
dGlvbgppcyBhcmNoLWRlcGVuZGVudCwgaXQgY291bGQgZmFpbCBvciBiZWhhdmUgaW5jb3JyZWN0
bHkgb24gMzItYml0IHg4NiBvcgpub24teDg2CnN5c3RlbXMuCgpBbmQsIGNsb25lMDggd2FzIG9y
aWdpbmFsbHkgaW50ZW5kZWQgdG8gdGVzdCB0aGUgYmFzaWMgYmVoYXZpb3Igb2YgY2xvbmUKKHN1
Y2ggYXMKVElEIHNldHRpbmdzIGFuZCBwYXJlbnQtY2hpbGQgcmVsYXRpb25zaGlwcykgYW5kIHNo
b3VsZCBub3QgaW50cm9kdWNlCmNvbXBsZXgKYXJjaGl0ZWN0dXJlLXJlbGF0ZWQgbG9naWMuCgpT
bywgbWF5YmUgeW91IGNhbiBjcmVhdGUgYSBuZXcgY2xvbmUxMC5jIGZpbGUgdG8gd3JpdGUgYSBk
ZWRpY2F0ZWQgdGVzdApmb3IgQ0xPTkVfU0VUVExTIGFuZCBhZGQgYXJjaGl0ZWN0dXJlLXNwZWNp
ZmljIGhhbmRsaW5nLgoKCk9uIFR1ZSwgQXByIDIyLCAyMDI1IGF0IDU6MzPigK9QTSBjaHVuZnV3
ZW4gdmlhIGx0cCA8bHRwQGxpc3RzLmxpbnV4Lml0Pgp3cm90ZToKCj4gdGxzIHBhcmFtZXRlciBh
bmQgcmVsYXRlZCBmbGFnOkNMT05FX1NFVFRMUyBhcmUgbWlzc2VkIGluIHRoZSB0ZXN0aW5nLAo+
IHNvIGFkZCB0aGVtIGludG8gZXhpc3RlZCB0ZXN0IGNhc2UKPgo+IFNpZ25lZC1vZmYtYnk6IGNo
dW5mdXdlbiA8Y2h3ZW5AcmVkaGF0LmNvbT4KPiAtLS0KPiAgdGVzdGNhc2VzL2tlcm5lbC9zeXNj
YWxscy9jbG9uZS9jbG9uZTA4LmMgICB8IDQwICsrKysrKysrKysrKysrKysrKy0tLQo+ICB0ZXN0
Y2FzZXMva2VybmVsL3N5c2NhbGxzL2Nsb25lMy9jbG9uZTMwMS5jIHwgMzYgKysrKysrKysrKysr
KysrKy0tLQo+ICAyIGZpbGVzIGNoYW5nZWQsIDY3IGluc2VydGlvbnMoKyksIDkgZGVsZXRpb25z
KC0pCj4KPiBkaWZmIC0tZ2l0IGEvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9jbG9uZS9jbG9u
ZTA4LmMKPiBiL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvY2xvbmUvY2xvbmUwOC5jCj4gaW5k
ZXggZGQ5N2YzZmYxLi5mNWE4MTE5YTggMTAwNjQ0Cj4gLS0tIGEvdGVzdGNhc2VzL2tlcm5lbC9z
eXNjYWxscy9jbG9uZS9jbG9uZTA4LmMKPiArKysgYi90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxz
L2Nsb25lL2Nsb25lMDguYwo+IEBAIC0xNyw3ICsxNywxMSBAQAo+ICAjaW5jbHVkZSAibGFwaS9z
eXNjYWxscy5oIgo+ICAjaW5jbHVkZSAibGFwaS9mdXRleC5oIgo+Cj4gKyNkZWZpbmUgVExTX1NJ
WkUgNDA5Ngo+ICsjZGVmaW5lIFRMU19BTElHTiAxNgo+ICsKPiAgc3RhdGljIHBpZF90IHB0aWQs
IGN0aWQsIHRnaWQ7Cj4gK3N0YXRpYyB2b2lkICp0bHNfcHRyOwo+ICBzdGF0aWMgdm9pZCAqY2hp
bGRfc3RhY2s7Cj4KPiAgc3RhdGljIHZvaWQgdGVzdF9jbG9uZV9wYXJlbnQoaW50IHQpOwo+IEBA
IC0zMiw2ICszNiw5IEBAIHN0YXRpYyBpbnQgY2hpbGRfY2xvbmVfcGFyZW50X3NldHRpZCh2b2lk
ICopOwo+ICBzdGF0aWMgdm9pZCB0ZXN0X2Nsb25lX3RocmVhZChpbnQgdCk7Cj4gIHN0YXRpYyBp
bnQgY2hpbGRfY2xvbmVfdGhyZWFkKHZvaWQgKik7Cj4KPiArLyogVExTIHZhcmlhYmxlIHRvIHZh
bGlkYXRlIGluIGNoaWxkICovCj4gK3N0YXRpYyBfX3RocmVhZCBpbnQgdGxzX3Rlc3RfdmFyID0g
MTIzNDU7Cj4gKwo+ICAvKgo+ICAgKiBDaGlsZHJlbiBjbG9uZWQgd2l0aCBDTE9ORV9WTSBzaG91
bGQgYXZvaWQgdXNpbmcgYW55IGZ1bmN0aW9ucyB0aGF0Cj4gICAqIG1pZ2h0IHJlcXVpcmUgZGxf
cnVudGltZV9yZXNvbHZlLCBiZWNhdXNlIHRoZXkgc2hhcmUgdGhyZWFkLWxvY2FsCj4gQEAgLTQ2
LDE0ICs1MywxNCBAQCBzdGF0aWMgc3RydWN0IHRlc3RfY2FzZSB7Cj4gICAgICAgICB2b2lkICgq
dGVzdGZ1bmMpKGludCk7Cj4gICAgICAgICBpbnQgKCpkb19jaGlsZCkodm9pZCAqKTsKPiAgfSB0
ZXN0X2Nhc2VzW10gPSB7Cj4gLSAgICAgICB7IkNMT05FX1BBUkVOVCIsIENMT05FX1BBUkVOVCB8
IFNJR0NITEQsCj4gKyAgICAgICB7IkNMT05FX1BBUkVOVCIsIENMT05FX1BBUkVOVCB8IENMT05F
X1NFVFRMUyB8IFNJR0NITEQsCj4gICAgICAgICAgdGVzdF9jbG9uZV9wYXJlbnQsIGNoaWxkX2Ns
b25lX3BhcmVudH0sCj4gLSAgICAgICB7IkNMT05FX0NISUxEX1NFVFRJRCIsIENMT05FX0NISUxE
X1NFVFRJRCB8IFNJR0NITEQsCj4gKyAgICAgICB7IkNMT05FX0NISUxEX1NFVFRJRCIsIENMT05F
X0NISUxEX1NFVFRJRCB8IENMT05FX1NFVFRMUyB8IFNJR0NITEQsCj4gICAgICAgICAgdGVzdF9j
bG9uZV90aWQsIGNoaWxkX2Nsb25lX2NoaWxkX3NldHRpZH0sCj4gLSAgICAgICB7IkNMT05FX1BB
UkVOVF9TRVRUSUQiLCBDTE9ORV9QQVJFTlRfU0VUVElEIHwgQ0xPTkVfVk0gfCBTSUdDSExELAo+
ICsgICAgICAgeyJDTE9ORV9QQVJFTlRfU0VUVElEIiwgQ0xPTkVfUEFSRU5UX1NFVFRJRCB8IENM
T05FX1ZNIHwKPiBDTE9ORV9TRVRUTFMgfCBTSUdDSExELAo+ICAgICAgICAgIHRlc3RfY2xvbmVf
dGlkLCBjaGlsZF9jbG9uZV9wYXJlbnRfc2V0dGlkfSwKPiAgICAgICAgIHsiQ0xPTkVfVEhSRUFE
IiwgQ0xPTkVfVEhSRUFEIHwgQ0xPTkVfU0lHSEFORCB8IENMT05FX1ZNIHwKPiAtICAgICAgICBD
TE9ORV9DSElMRF9DTEVBUlRJRCB8IFNJR0NITEQsCj4gKyAgICAgICAgQ0xPTkVfQ0hJTERfQ0xF
QVJUSUQgfCBDTE9ORV9TRVRUTFMgfCBTSUdDSExELAo+ICAgICAgICAgIHRlc3RfY2xvbmVfdGhy
ZWFkLCBjaGlsZF9jbG9uZV90aHJlYWR9LAo+ICB9Owo+Cj4gQEAgLTY2LDE3ICs3MywyNCBAQCBz
dGF0aWMgdm9pZCBkb190ZXN0KHVuc2lnbmVkIGludCBpKQo+ICBzdGF0aWMgdm9pZCBzZXR1cCh2
b2lkKQo+ICB7Cj4gICAgICAgICBjaGlsZF9zdGFjayA9IFNBRkVfTUFMTE9DKENISUxEX1NUQUNL
X1NJWkUpOwo+ICsgICAgICAgdGxzX3B0ciA9IGFsaWduZWRfYWxsb2MoVExTX0FMSUdOLCBUTFNf
U0laRSk7Cj4gKyAgICAgICBpZiAoIXRsc19wdHIpIHsKPiArICAgICAgICAgICAgICAgcGVycm9y
KCJhbGlnbmVkX2FsbG9jIik7Cj4gKyAgICAgICAgICAgICAgIGV4aXQoRVhJVF9GQUlMVVJFKTsK
PiArICAgICAgIH0KPiArICAgICAgIG1lbXNldCh0bHNfcHRyLCAwLCBUTFNfU0laRSk7Cj4gIH0K
Pgo+ICBzdGF0aWMgdm9pZCBjbGVhbnVwKHZvaWQpCj4gIHsKPiAgICAgICAgIGZyZWUoY2hpbGRf
c3RhY2spOwo+ICsgICAgICAgZnJlZSh0bHNfcHRyKTsKPiAgfQo+Cj4gIHN0YXRpYyBsb25nIGNs
b25lX2NoaWxkKGNvbnN0IHN0cnVjdCB0ZXN0X2Nhc2UgKnQpCj4gIHsKPiAgICAgICAgIFRFU1Qo
bHRwX2Nsb25lNyh0LT5mbGFncywgdC0+ZG9fY2hpbGQsIE5VTEwsIENISUxEX1NUQUNLX1NJWkUs
Cj4gLSAgICAgICAgICAgICAgIGNoaWxkX3N0YWNrLCAmcHRpZCwgTlVMTCwgJmN0aWQpKTsKPiAr
ICAgICAgICAgICAgICAgY2hpbGRfc3RhY2ssICZwdGlkLCB0bHNfcHRyLCAmY3RpZCkpOwo+Cj4g
ICAgICAgICBpZiAoVFNUX1JFVCA9PSAtMSAmJiBUVEVSUk5PID09IEVOT1NZUykKPiAgICAgICAg
ICAgICAgICAgdHN0X2JyayhUQ09ORiwgImNsb25lIGRvZXMgbm90IHN1cHBvcnQgNyBhcmdzIik7
Cj4gQEAgLTg3LDYgKzEwMSwxNCBAQCBzdGF0aWMgbG9uZyBjbG9uZV9jaGlsZChjb25zdCBzdHJ1
Y3QgdGVzdF9jYXNlICp0KQo+ICAgICAgICAgcmV0dXJuIFRTVF9SRVQ7Cj4gIH0KPgo+ICtzdGF0
aWMgdm9pZCB2YWxpZGF0ZV90bHModm9pZCkKPiArewo+ICsgICAgICAgaWYgKHRsc190ZXN0X3Zh
ciA9PSAxMjM0NSkKPiArICAgICAgICAgICAgICAgdHN0X3JlcyhUUEFTUywgIkNoaWxkIFRMUyB2
YXJpYWJsZSBoYXMgZXhwZWN0ZWQgdmFsdWUiKTsKPiArICAgICAgIGVsc2UKPiArICAgICAgICAg
ICAgICAgdHN0X3JlcyhURkFJTCwgIkNoaWxkIFRMUyB2YXJpYWJsZSBjb3JydXB0ZWQgb3Igbm90
IHNldCIpOwo+ICt9Cj4gKwo+ICBzdGF0aWMgdm9pZCB0ZXN0X2Nsb25lX3BhcmVudChpbnQgdCkK
PiAgewo+ICAgICAgICAgcGlkX3QgY2hpbGQ7Cj4gQEAgLTEwMiw2ICsxMjQsOCBAQCBzdGF0aWMg
dm9pZCB0ZXN0X2Nsb25lX3BhcmVudChpbnQgdCkKPgo+ICBzdGF0aWMgaW50IGNoaWxkX2Nsb25l
X3BhcmVudCh2b2lkICphcmcgTFRQX0FUVFJJQlVURV9VTlVTRUQpCj4gIHsKPiArICAgICAgIHZh
bGlkYXRlX3RscygpOwo+ICsKPiAgICAgICAgIGlmIChwYXJlbnRfcHBpZCA9PSBnZXRwcGlkKCkp
IHsKPiAgICAgICAgICAgICAgICAgdHN0X3JlcyhUUEFTUywgImNsb25lIGFuZCBmb3JrZWQgY2hp
bGQgaGFzIHRoZSBzYW1lCj4gcGFyZW50Iik7Cj4gICAgICAgICB9IGVsc2Ugewo+IEBAIC0xMjAs
NiArMTQ0LDggQEAgc3RhdGljIHZvaWQgdGVzdF9jbG9uZV90aWQoaW50IHQpCj4KPiAgc3RhdGlj
IGludCBjaGlsZF9jbG9uZV9jaGlsZF9zZXR0aWQodm9pZCAqYXJnIExUUF9BVFRSSUJVVEVfVU5V
U0VEKQo+ICB7Cj4gKyAgICAgICB2YWxpZGF0ZV90bHMoKTsKPiArCj4gICAgICAgICBpZiAoY3Rp
ZCA9PSB0c3Rfc3lzY2FsbChfX05SX2dldHBpZCkpCj4gICAgICAgICAgICAgICAgIHRzdF9yZXMo
VFBBU1MsICJjbG9uZSgpIGNvcnJlY3RseSBzZXQgY3RpZCIpOwo+ICAgICAgICAgZWxzZQo+IEBA
IC0xMzAsNiArMTU2LDggQEAgc3RhdGljIGludCBjaGlsZF9jbG9uZV9jaGlsZF9zZXR0aWQodm9p
ZCAqYXJnCj4gTFRQX0FUVFJJQlVURV9VTlVTRUQpCj4KPiAgc3RhdGljIGludCBjaGlsZF9jbG9u
ZV9wYXJlbnRfc2V0dGlkKHZvaWQgKmFyZyBMVFBfQVRUUklCVVRFX1VOVVNFRCkKPiAgewo+ICsg
ICAgICAgdmFsaWRhdGVfdGxzKCk7Cj4gKwo+ICAgICAgICAgaWYgKHB0aWQgPT0gdHN0X3N5c2Nh
bGwoX19OUl9nZXRwaWQpKQo+ICAgICAgICAgICAgICAgICB0c3RfcmVzKFRQQVNTLCAiY2xvbmUo
KSBjb3JyZWN0bHkgc2V0IHB0aWQiKTsKPiAgICAgICAgIGVsc2UKPiBAQCAtMTc1LDYgKzIwMyw4
IEBAIHN0YXRpYyB2b2lkIHRlc3RfY2xvbmVfdGhyZWFkKGludCB0KQo+Cj4gIHN0YXRpYyBpbnQg
Y2hpbGRfY2xvbmVfdGhyZWFkKHZvaWQgKmFyZyBMVFBfQVRUUklCVVRFX1VOVVNFRCkKPiAgewo+
ICsgICAgICAgdmFsaWRhdGVfdGxzKCk7Cj4gKwo+ICAgICAgICAgaWYgKHRnaWQgPT0gdHN0X3N5
c2NhbGwoX19OUl9nZXRwaWQpKQo+ICAgICAgICAgICAgICAgICB0c3RfcmVzKFRQQVNTLCAiY2xv
bmUgaGFzIHRoZSBzYW1lIHRocmVhZCBpZCIpOwo+ICAgICAgICAgZWxzZQo+IGRpZmYgLS1naXQg
YS90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2Nsb25lMy9jbG9uZTMwMS5jCj4gYi90ZXN0Y2Fz
ZXMva2VybmVsL3N5c2NhbGxzL2Nsb25lMy9jbG9uZTMwMS5jCj4gaW5kZXggZGVlZDMwYjlmLi45
NTcxYzlmNWMgMTAwNjQ0Cj4gLS0tIGEvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9jbG9uZTMv
Y2xvbmUzMDEuYwo+ICsrKyBiL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvY2xvbmUzL2Nsb25l
MzAxLmMKPiBAQCAtMTgsMjIgKzE4LDM4IEBACj4KPiAgI2RlZmluZSBDSElMRF9TSUdOQUwgICBT
SUdVU1IxCj4gICNkZWZpbmUgREFUQSAgIDc3Nwo+ICsjZGVmaW5lIFRMU19TSVpFIDQwOTYKPiAr
I2RlZmluZSBUTFNfQUxJR04gMTYKPgo+ICBzdGF0aWMgaW50IHBpZGZkLCBjaGlsZF90aWQsIHBh
cmVudF90aWQsIHBhcmVudF9yZWNlaXZlZF9zaWduYWw7Cj4gIHN0YXRpYyB2b2xhdGlsZSBpbnQg
Y2hpbGRfcmVjZWl2ZWRfc2lnbmFsLCBjaGlsZF9kYXRhOwo+ICBzdGF0aWMgc3RydWN0IGNsb25l
X2FyZ3MgKmFyZ3M7Cj4KPiArLyogVExTIHZhcmlhYmxlIHRvIHZhbGlkYXRlIGluIGNoaWxkICov
Cj4gK3N0YXRpYyBfX3RocmVhZCBpbnQgdGxzX3Rlc3RfdmFyID0gMTIzNDU7Cj4gKwo+ICBzdGF0
aWMgc3RydWN0IHRjYXNlIHsKPiAgICAgICAgIHVpbnQ2NF90IGZsYWdzOwo+ICAgICAgICAgaW50
IGV4aXRfc2lnbmFsOwo+ICB9IHRjYXNlc1tdID0gewo+ICAgICAgICAgezAsIFNJR0NITER9LAo+
ICAgICAgICAgezAsIFNJR1VTUjJ9LAo+IC0gICAgICAge0NMT05FX0ZTLCBTSUdDSExEfSwKPiAt
ICAgICAgIHtDTE9ORV9ORVdQSUQsIFNJR0NITER9LAo+IC0gICAgICAge0NMT05FX1BBUkVOVF9T
RVRUSUQgfCBDTE9ORV9DSElMRF9TRVRUSUQgfCBDTE9ORV9QSURGRCwgU0lHQ0hMRH0sCj4gKyAg
ICAgICB7Q0xPTkVfRlMgfCBDTE9ORV9TRVRUTFMsIFNJR0NITER9LAo+ICsgICAgICAge0NMT05F
X05FV1BJRCB8IENMT05FX1NFVFRMUywgU0lHQ0hMRH0sCj4gKyAgICAgICB7Q0xPTkVfUEFSRU5U
X1NFVFRJRCB8IENMT05FX0NISUxEX1NFVFRJRCB8IENMT05FX1BJREZEIHwKPiBDTE9ORV9TRVRU
TFMsIFNJR0NITER9LAo+ICB9Owo+Cj4gK3N0YXRpYyB2b2lkICphbGxvY2F0ZV90bHNfcmVnaW9u
KHZvaWQpCj4gK3sKPiArICAgICAgIHZvaWQgKnRsc19hcmVhID0gYWxpZ25lZF9hbGxvYyhUTFNf
QUxJR04sIFRMU19TSVpFKTsKPiArICAgICAgIGlmICghdGxzX2FyZWEpIHsKPiArICAgICAgICAg
ICAgICAgcGVycm9yKCJhbGlnbmVkX2FsbG9jIik7Cj4gKyAgICAgICAgICAgICAgIGV4aXQoRVhJ
VF9GQUlMVVJFKTsKPiArICAgICAgIH0KPiArICAgICAgIG1lbXNldCh0bHNfYXJlYSwgMCwgVExT
X1NJWkUpOwo+ICsgICAgICAgcmV0dXJuIHRsc19hcmVhOwo+ICt9Cj4gKwo+ICBzdGF0aWMgdm9p
ZCBwYXJlbnRfcnhfc2lnbmFsKGludCBzaWcpCj4gIHsKPiAgICAgICAgIHBhcmVudF9yZWNlaXZl
ZF9zaWduYWwgPSBzaWc7Cj4gQEAgLTY3LDYgKzgzLDEzIEBAIHN0YXRpYyB2b2lkIGRvX2NoaWxk
KGludCBjbG9uZV9waWRmZCkKPiAgewo+ICAgICAgICAgaW50IGNvdW50ID0gMTAwMDsKPgo+ICsg
ICAgICAgLyogVmFsaWRhdGUgVExTIHVzYWdlICovCj4gKyAgICAgICBpZiAodGxzX3Rlc3RfdmFy
ID09IDEyMzQ1KSB7Cj4gKyAgICAgICAgICAgICAgIHRzdF9yZXMoVFBBU1MsICJDaGlsZCBUTFMg
dmFyaWFibGUgaGFzIGV4cGVjdGVkIHZhbHVlIik7Cj4gKyAgICAgICB9IGVsc2Ugewo+ICsgICAg
ICAgICAgICAgICB0c3RfcmVzKFRGQUlMLCAiQ2hpbGQgVExTIHZhcmlhYmxlIGNvcnJ1cHRlZCBv
ciBub3Qgc2V0Iik7Cj4gKyAgICAgICB9Cj4gKwo+ICAgICAgICAgaWYgKGNsb25lX3BpZGZkKSB7
Cj4gICAgICAgICAgICAgICAgIGNoaWxkX3JlY2VpdmVkX3NpZ25hbCA9IDA7Cj4gICAgICAgICAg
ICAgICAgIGNoaWxkX2RhdGEgPSAwOwo+IEBAIC0xMTEsNiArMTM0LDggQEAgc3RhdGljIHZvaWQg
cnVuKHVuc2lnbmVkIGludCBuKQo+ICAgICAgICAgaW50IHN0YXR1cywgY2xvbmVfcGlkZmQgPSB0
Yy0+ZmxhZ3MgJiBDTE9ORV9QSURGRDsKPiAgICAgICAgIHBpZF90IHBpZDsKPgo+ICsgICAgICAg
dm9pZCAqdGxzX3B0ciA9IGFsbG9jYXRlX3Rsc19yZWdpb24oKTsKPiArCj4gICAgICAgICBhcmdz
LT5mbGFncyA9IHRjLT5mbGFnczsKPiAgICAgICAgIGFyZ3MtPnBpZGZkID0gKHVpbnQ2NF90KSgm
cGlkZmQpOwo+ICAgICAgICAgYXJncy0+Y2hpbGRfdGlkID0gKHVpbnQ2NF90KSgmY2hpbGRfdGlk
KTsKPiBAQCAtMTE4LDcgKzE0Myw3IEBAIHN0YXRpYyB2b2lkIHJ1bih1bnNpZ25lZCBpbnQgbikK
PiAgICAgICAgIGFyZ3MtPmV4aXRfc2lnbmFsID0gdGMtPmV4aXRfc2lnbmFsOwo+ICAgICAgICAg
YXJncy0+c3RhY2sgPSAwOwo+ICAgICAgICAgYXJncy0+c3RhY2tfc2l6ZSA9IDA7Cj4gLSAgICAg
ICBhcmdzLT50bHMgPSAwOwo+ICsgICAgICAgYXJncy0+dGxzID0gKHVpbnQ2NF90KXRsc19wdHI7
Cj4KPiAgICAgICAgIHBhcmVudF9yZWNlaXZlZF9zaWduYWwgPSAwOwo+ICAgICAgICAgU0FGRV9T
SUdBQ1RJT04odGMtPmV4aXRfc2lnbmFsLCAmcHNpZ19hY3Rpb24sIE5VTEwpOwo+IEBAIC0xMjYs
NiArMTUxLDcgQEAgc3RhdGljIHZvaWQgcnVuKHVuc2lnbmVkIGludCBuKQo+ICAgICAgICAgVEVT
VChwaWQgPSBjbG9uZTMoYXJncywgc2l6ZW9mKCphcmdzKSkpOwo+ICAgICAgICAgaWYgKHBpZCA8
IDApIHsKPiAgICAgICAgICAgICAgICAgdHN0X3JlcyhURkFJTCB8IFRURVJSTk8sICJjbG9uZTMo
KSBmYWlsZWQgKCVkKSIsIG4pOwo+ICsgICAgICAgICAgICAgICBmcmVlKHRsc19wdHIpOwo+ICAg
ICAgICAgICAgICAgICByZXR1cm47Cj4gICAgICAgICB9Cj4KPiBAQCAtMTM5LDExICsxNjUsMTMg
QEAgc3RhdGljIHZvaWQgcnVuKHVuc2lnbmVkIGludCBuKQo+ICAgICAgICAgICAgICAgICBURVNU
KHBpZGZkX3NlbmRfc2lnbmFsKHBpZGZkLCBDSElMRF9TSUdOQUwsICZ1aW5mbywgMCkpOwo+ICAg
ICAgICAgICAgICAgICBpZiAoVFNUX1JFVCAhPSAwKSB7Cj4gICAgICAgICAgICAgICAgICAgICAg
ICAgdHN0X3JlcyhURkFJTCB8IFRURVJSTk8sICJwaWRmZF9zZW5kX3NpZ25hbCgpCj4gZmFpbGVk
Iik7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgZnJlZSh0bHNfcHRyKTsKPiAgICAgICAgICAg
ICAgICAgICAgICAgICByZXR1cm47Cj4gICAgICAgICAgICAgICAgIH0KPiAgICAgICAgIH0KPgo+
ICAgICAgICAgU0FGRV9XQUlUUElEKHBpZCwgJnN0YXR1cywgX19XQUxMKTsKPiArICAgICAgIGZy
ZWUodGxzX3B0cik7Cj4KPiAgICAgICAgIGlmICghcGFyZW50X3JlY2VpdmVkX3NpZ25hbCkgewo+
ICAgICAgICAgICAgICAgICB0c3RfcmVzKFRGQUlMLCAiUGFyZW50IGhhdmVuJ3QgZ290IHNpZ25h
bCIpOwo+IC0tCj4gMi40My41Cj4KPgo+IC0tCj4gTWFpbGluZyBsaXN0IGluZm86IGh0dHBzOi8v
bGlzdHMubGludXguaXQvbGlzdGluZm8vbHRwCj4KPgoKLS0gClJlZ2FyZHMsCkxpIFdhbmcKCi0t
IApNYWlsaW5nIGxpc3QgaW5mbzogaHR0cHM6Ly9saXN0cy5saW51eC5pdC9saXN0aW5mby9sdHAK
