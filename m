Return-Path: <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>
X-Original-To: lists+linux-ltp@lfdr.de
Delivered-To: lists+linux-ltp@lfdr.de
Received: from picard.linux.it (picard.linux.it [IPv6:2001:1418:10:5::2])
	by mail.lfdr.de (Postfix) with ESMTPS id C1EEF47FC5
	for <lists+linux-ltp@lfdr.de>; Mon, 17 Jun 2019 12:35:28 +0200 (CEST)
Received: from picard.linux.it (localhost [IPv6:::1])
	by picard.linux.it (Postfix) with ESMTP id 9E5F03EB063
	for <lists+linux-ltp@lfdr.de>; Mon, 17 Jun 2019 12:35:28 +0200 (CEST)
X-Original-To: ltp@lists.linux.it
Delivered-To: ltp@picard.linux.it
Received: from in-2.smtp.seeweb.it (in-2.smtp.seeweb.it [217.194.8.2])
 by picard.linux.it (Postfix) with ESMTP id 8AE0E3EA3F5
 for <ltp@lists.linux.it>; Mon, 17 Jun 2019 12:35:27 +0200 (CEST)
Received: from mail-pg1-x544.google.com (mail-pg1-x544.google.com
 [IPv6:2607:f8b0:4864:20::544])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by in-2.smtp.seeweb.it (Postfix) with ESMTPS id F06DC600436
 for <ltp@lists.linux.it>; Mon, 17 Jun 2019 12:35:24 +0200 (CEST)
Received: by mail-pg1-x544.google.com with SMTP id n65so1130691pga.4
 for <ltp@lists.linux.it>; Mon, 17 Jun 2019 03:35:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=mbobrowski-org.20150623.gappssmtp.com; s=20150623;
 h=date:from:to:cc:subject:message-id:references:mime-version
 :content-disposition:in-reply-to:user-agent;
 bh=RKQ3wBHsfBh1GEJ7FvrDS+93Szm0D6p5oMt78hgcyPY=;
 b=Dd9HU77HBGUQMB1+XSDcZ9twPsd3iTw6uVS2GxApke5PCy9DSBMhG8sP9VfQU7JcuG
 aKhO0z8C4NQElQaLqXx1anaX1QNmbVCY4fjhKl2rePdPRhX1P3cHcZSU29NLKcK+sh3a
 fPpDCn7C4Dfgmck60N3YiVlXJqcQme/i3zriwgBZvgk07EC3Hk4+sb3RNNh7wIsR0Xxx
 +3XH6fXtQ8mWgkj/5OMX254D5R4KlyTvqesYIuvFra/eS5Btn5cBVrFge9r8G+nesIAK
 u6ylBAvyUWxFaY+/F+6oALVcyx9p+IMoeXlnwaooQu42djwey9txctylvmeMyl29oPrg
 VXCg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:from:to:cc:subject:message-id:references
 :mime-version:content-disposition:in-reply-to:user-agent;
 bh=RKQ3wBHsfBh1GEJ7FvrDS+93Szm0D6p5oMt78hgcyPY=;
 b=PueFUobWYAi3NMLesFKy63GmHs5evGJHCM7+r15NFTqR3/yNcfoExB+YeLTkdGINRm
 VMrXQIHctNgRw3NOhX73ae9a2WsW5Gk+kcDz3Hjv9MdiIZmviBIXjG7NKgjpYor9eQnh
 pQSUS/dQwaEbBrwKkEYJkMRAq/3mNrES/ARjlxFxBm55frHhZ1ap/F3pIcv3fSXOBCj5
 u8wSG4OyOgGYSvdbeT/7NaxyJeFGsIz2kuQATELi+RohssJFTS1f5sTOX+L6igiVyIuT
 6GC3ZnAtElVkWWlo47rHevHg8861/IzsNQjoBTA4Cjcv862fdRtLdhqP/lrs9A3lSE5b
 IYmg==
X-Gm-Message-State: APjAAAV9R/eFFSS6xNFc2mj7fgSz/CsTSTJGhQpJ1LCt33Cs99xwtump
 g5jS+yX5evgkJmcwA8WraAZBJ29MVQ==
X-Google-Smtp-Source: APXvYqysd3DJPCRQYuVIHXoSOuGVbicqsxuvRpEZtrwYxpDzs13dkHFq3vYasCjmSwpk6tzwu6Iyig==
X-Received: by 2002:aa7:92d2:: with SMTP id k18mr13993329pfa.153.1560767723014; 
 Mon, 17 Jun 2019 03:35:23 -0700 (PDT)
Received: from poseidon.Home ([114.78.0.167])
 by smtp.gmail.com with ESMTPSA id y12sm13188278pfn.187.2019.06.17.03.35.20
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 17 Jun 2019 03:35:22 -0700 (PDT)
Date: Mon, 17 Jun 2019 20:35:16 +1000
From: Matthew Bobrowski <mbobrowski@mbobrowski.org>
To: ltp@lists.linux.it
Message-ID: <6c25395422b19d2a4e2c66937afcaa767b83e776.1560766652.git.mbobrowski@mbobrowski.org>
References: <cover.1560766652.git.mbobrowski@mbobrowski.org>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <cover.1560766652.git.mbobrowski@mbobrowski.org>
User-Agent: Mutt/1.11.3 (2019-02-01)
X-Virus-Scanned: clamav-milter 0.99.2 at in-2.smtp.seeweb.it
X-Virus-Status: Clean
X-Spam-Status: No, score=0.1 required=7.0 tests=DKIM_SIGNED,DKIM_VALID,
 SPF_HELO_NONE,SPF_NONE autolearn=disabled version=3.4.0
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on in-2.smtp.seeweb.it
Cc: jack@suse.cz
Subject: [LTP] [PATCH v4 1/3] syscalls/fanotify13: new test to verify
 FAN_REPORT_FID functionality
X-BeenThere: ltp@lists.linux.it
X-Mailman-Version: 2.1.18
Precedence: list
List-Id: Linux Test Project <ltp.lists.linux.it>
List-Unsubscribe: <https://lists.linux.it/options/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=unsubscribe>
List-Archive: <http://lists.linux.it/pipermail/ltp/>
List-Post: <mailto:ltp@lists.linux.it>
List-Help: <mailto:ltp-request@lists.linux.it?subject=help>
List-Subscribe: <https://lists.linux.it/listinfo/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it
Sender: "ltp" <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>

QSBuZXdseSBkZWZpbmVkIHRlc3QgZmlsZSB0byB2YWxpZGF0ZSB0aGUgZmFub3RpZnkgRkFOX1JF
UE9SVF9GSUQKZnVuY3Rpb25hbGl0eS4gQSBuZXcgbGluZSBlbnRyeSBmb3IgdGhpcyB0ZXN0IGZp
bGUgaGFzIGJlZW4gYWRkZWQgd2l0aGluCnJ1bnRlc3Qvc3lzY2FsbHMuCgpBZGRpdGlvbmFsbHks
IGRlZmluZWQgYSBoZWxwZXIgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBvYnRhaW4KX19r
ZXJuZWxfZnNpZF90IGFuZCBmaWxlX2hhbmRsZSBvYmplY3RzLiBUaGlzIGhlbHBlciB3aWxsIGJl
IHVzZWQgYnkKdGVzdCBmaWxlcyByZWxhdGVkIHRvIHZlcmlmeWluZyBGQU5fUkVQT1JUX0ZJRC4g
VGhlIG5hbWVfdG9faGFuZGxlX2F0KCkKZnVuY3Rpb24gaXMgY29uZGl0aW9uYWxseSBhZGRlZCB0
byBhY2NvbW1vZGF0ZSBmb3IgYnVpbGRzIG9uIG9sZGVyCmRpc3RyaWJ1dGlvbnMuCgpBZGRlZCBf
R05VX1NPVVJDRSBmZWF0dXJlIHRlc3QgbWFjcm8gdG8gc3lzY2FsbHMvZmFub3RpZnkwNSBpbiBv
cmRlciB0bwpyZXNvbHZlIGJ1aWxkIHdhcm5pbmdzLgoKU2lnbmVkLW9mZi1ieTogTWF0dGhldyBC
b2Jyb3dza2kgPG1ib2Jyb3dza2lAbWJvYnJvd3NraS5vcmc+ClJldmlld2VkLWJ5OiBBbWlyIEdv
bGRzdGVpbiA8YW1pcjczaWxAZ21haWwuY29tPgotLS0KIGNvbmZpZ3VyZS5hYyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB8ICAgMSArCiBydW50ZXN0L3N5c2NhbGxzICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgfCAgIDEgKwogdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9m
YW5vdGlmeS8uZ2l0aWdub3JlIHwgICAxICsKIHRlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvZmFu
b3RpZnkvZmFub3RpZnkuaCB8ICA1NiArKystCiAuLi4va2VybmVsL3N5c2NhbGxzL2Zhbm90aWZ5
L2Zhbm90aWZ5MDUuYyAgICAgfCAgIDEgKwogLi4uL2tlcm5lbC9zeXNjYWxscy9mYW5vdGlmeS9m
YW5vdGlmeTEzLmMgICAgIHwgMzEzICsrKysrKysrKysrKysrKysrKwogNiBmaWxlcyBjaGFuZ2Vk
LCAzNzAgaW5zZXJ0aW9ucygrKSwgMyBkZWxldGlvbnMoLSkKIGNyZWF0ZSBtb2RlIDEwMDY0NCB0
ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2Zhbm90aWZ5L2Zhbm90aWZ5MTMuYwoKZGlmZiAtLWdp
dCBhL2NvbmZpZ3VyZS5hYyBiL2NvbmZpZ3VyZS5hYwppbmRleCA1ZWNjOTI3ODEuLjk1MzhiMjMy
MiAxMDA2NDQKLS0tIGEvY29uZmlndXJlLmFjCisrKyBiL2NvbmZpZ3VyZS5hYwpAQCAtNzAsNiAr
NzAsNyBAQCBBQ19DSEVDS19GVU5DUyhbIFwKICAgICBrY21wIFwKICAgICBta2RpcmF0IFwKICAg
ICBta25vZGF0IFwKKyAgICBuYW1lX3RvX2hhbmRsZV9hdCBcCiAgICAgb3BlbmF0IFwKICAgICBw
cmVhZHYgXAogICAgIHByZWFkdjIgXApkaWZmIC0tZ2l0IGEvcnVudGVzdC9zeXNjYWxscyBiL3J1
bnRlc3Qvc3lzY2FsbHMKaW5kZXggYTExMDZmYjg0Li5lNjgyZjUwODcgMTAwNjQ0Ci0tLSBhL3J1
bnRlc3Qvc3lzY2FsbHMKKysrIGIvcnVudGVzdC9zeXNjYWxscwpAQCAtNTM0LDYgKzUzNCw3IEBA
IGZhbm90aWZ5MDkgZmFub3RpZnkwOQogZmFub3RpZnkxMCBmYW5vdGlmeTEwCiBmYW5vdGlmeTEx
IGZhbm90aWZ5MTEKIGZhbm90aWZ5MTIgZmFub3RpZnkxMgorZmFub3RpZnkxMyBmYW5vdGlmeTEz
CiAKIGlvcGVybTAxIGlvcGVybTAxCiBpb3Blcm0wMiBpb3Blcm0wMgpkaWZmIC0tZ2l0IGEvdGVz
dGNhc2VzL2tlcm5lbC9zeXNjYWxscy9mYW5vdGlmeS8uZ2l0aWdub3JlIGIvdGVzdGNhc2VzL2tl
cm5lbC9zeXNjYWxscy9mYW5vdGlmeS8uZ2l0aWdub3JlCmluZGV4IDQyNTZiOGNkMy4uMTZiZGQ5
OWU1IDEwMDY0NAotLS0gYS90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2Zhbm90aWZ5Ly5naXRp
Z25vcmUKKysrIGIvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9mYW5vdGlmeS8uZ2l0aWdub3Jl
CkBAIC0xMCw0ICsxMCw1IEBACiAvZmFub3RpZnkxMAogL2Zhbm90aWZ5MTEKIC9mYW5vdGlmeTEy
CisvZmFub3RpZnkxMwogL2Zhbm90aWZ5X2NoaWxkCmRpZmYgLS1naXQgYS90ZXN0Y2FzZXMva2Vy
bmVsL3N5c2NhbGxzL2Zhbm90aWZ5L2Zhbm90aWZ5LmggYi90ZXN0Y2FzZXMva2VybmVsL3N5c2Nh
bGxzL2Zhbm90aWZ5L2Zhbm90aWZ5LmgKaW5kZXggMTQ2NTRiN2M3Li5hNWFjMTRhY2IgMTAwNjQ0
Ci0tLSBhL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvZmFub3RpZnkvZmFub3RpZnkuaAorKysg
Yi90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2Zhbm90aWZ5L2Zhbm90aWZ5LmgKQEAgLTI5LDYg
KzI5LDExIEBACiAjZGVmaW5lCV9fRkFOT1RJRllfSF9fCiAKICNpbmNsdWRlICJjb25maWcuaCIK
KyNpbmNsdWRlIDxzeXMvc3RhdGZzLmg+CisjaW5jbHVkZSA8c3lzL3R5cGVzLmg+CisjaW5jbHVk
ZSA8c3lzL3N0YXQuaD4KKyNpbmNsdWRlIDxlcnJuby5oPgorI2luY2x1ZGUgPGZjbnRsLmg+CiAK
ICNpZiBkZWZpbmVkKEhBVkVfU1lTX0ZBTk9USUZZX0gpCiAKQEAgLTU3LDkgKzYyLDYgQEAgc3Rh
dGljIGxvbmcgZmFub3RpZnlfbWFyayhpbnQgZmQsIHVuc2lnbmVkIGludCBmbGFncywgdWludDY0
X3QgbWFzaywKICNpZm5kZWYgRkFOX1JFUE9SVF9USUQKICNkZWZpbmUgRkFOX1JFUE9SVF9USUQJ
CTB4MDAwMDAxMDAKICNlbmRpZgotI2lmbmRlZiBGQU5fUkVQT1JUX0ZJRAotI2RlZmluZSBGQU5f
UkVQT1JUX0ZJRAkJMHgwMDAwMDIwMAotI2VuZGlmCiAKICNpZm5kZWYgRkFOX01BUktfSU5PREUK
ICNkZWZpbmUgRkFOX01BUktfSU5PREUJCTAKQEAgLTg5LDYgKzkxLDU0IEBAIHN0cnVjdCBmYW5v
dGlmeV9tYXJrX3R5cGUgewogCWNvbnN0IGNoYXIgKiBuYW1lOwogfTsKIAorI2lmbmRlZiBGQU5f
UkVQT1JUX0ZJRAorI2RlZmluZSBGQU5fUkVQT1JUX0ZJRAkJMHgwMDAwMDIwMAorCitzdHJ1Y3Qg
ZmFub3RpZnlfZXZlbnRfaW5mb19oZWFkZXIgeworCXVpbnQ4X3QgaW5mb190eXBlOworCXVpbnQ4
X3QgcGFkOworCXVpbnQxNl90IGxlbjsKK307CisKK3N0cnVjdCBmYW5vdGlmeV9ldmVudF9pbmZv
X2ZpZCB7CisJc3RydWN0IGZhbm90aWZ5X2V2ZW50X2luZm9faGVhZGVyIGhkcjsKKwlfX2tlcm5l
bF9mc2lkX3QgZnNpZDsKKwl1bnNpZ25lZCBjaGFyIGhhbmRsZVswXTsKK307CisKKyNlbmRpZgor
CisvKgorICogSGVscGVyIGZ1bmN0aW9uIHVzZWQgdG8gb2J0YWluIF9fa2VybmVsX2ZzaWRfdCBh
bmQgZmlsZV9oYW5kbGUgb2JqZWN0cworICogZm9yIGEgZ2l2ZW4gcGF0aC4gVXNlZCBieSB0ZXN0
IGZpbGVzIGNvcnJlbGF0ZWQgdG8gRkFOX1JFUE9SVF9GSUQKKyAqIGZ1bmN0aW9uYWxpdHkuCisg
Ki8KK3N0YXRpYyBpbmxpbmUgdm9pZCBmYW5vdGlmeV9nZXRfZmlkKGNvbnN0IGNoYXIgKnBhdGgs
IF9fa2VybmVsX2ZzaWRfdCAqZnNpZCwKKwkJCXN0cnVjdCBmaWxlX2hhbmRsZSAqaGFuZGxlKQor
eworCWludCBtb3VudF9pZDsKKwlzdHJ1Y3Qgc3RhdGZzIHN0YXRzOworCisJaWYgKHN0YXRmcyhw
YXRoLCAmc3RhdHMpID09IC0xKQorCQl0c3RfYnJrKFRCUk9LIHwgVEVSUk5PLAorCQkJInN0YXRm
cyglcywgLi4uKSBmYWlsZWQiLCBwYXRoKTsKKwltZW1jcHkoZnNpZCwgJnN0YXRzLmZfZnNpZCwg
c2l6ZW9mKHN0YXRzLmZfZnNpZCkpOworCisjaWZkZWYgSEFWRV9OQU1FX1RPX0hBTkRMRV9BVAor
CWlmIChuYW1lX3RvX2hhbmRsZV9hdChBVF9GRENXRCwgcGF0aCwgaGFuZGxlLCAmbW91bnRfaWQs
IDApID09IC0xKSB7CisJCWlmIChlcnJubyA9PSBFT1BOT1RTVVBQKSB7CisJCQl0c3RfYnJrKFRD
T05GLAorCQkJCSJmaWxlc3lzdGVtICVzIGRvZXMgbm90IHN1cHBvcnQgZmlsZSBoYW5kbGVzIiwK
KwkJCQl0c3RfZGV2aWNlLT5mc190eXBlKTsKKwkJfQorCQl0c3RfYnJrKFRCUk9LIHwgVEVSUk5P
LAorCQkJIm5hbWVfdG9faGFuZGxlX2F0KEFUX0ZEQ1dELCAlcywgLi4uKSBmYWlsZWQiLCBwYXRo
KTsKKwl9CisjZWxzZQorCXRzdF9icmsoVENPTkYsICJuYW1lX3RvX2hhbmRsZV9hdCgpIGlzIG5v
dCBpbXBsbWVudGVkIik7CisjZW5kaWYgLyogSEFWRV9OQU1FX1RPX0hBTkRMRV9BVCAqLworfQor
CiAjZGVmaW5lIElOSVRfRkFOT1RJRllfTUFSS19UWVBFKHQpIFwKIAl7IEZBTl9NQVJLXyAjIyB0
LCAiRkFOX01BUktfIiAjdCB9CiAKZGlmZiAtLWdpdCBhL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2Fs
bHMvZmFub3RpZnkvZmFub3RpZnkwNS5jIGIvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9mYW5v
dGlmeS9mYW5vdGlmeTA1LmMKaW5kZXggZGU3MmUzNDZhLi4xMTIyOTU3MDkgMTAwNjQ0Ci0tLSBh
L3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvZmFub3RpZnkvZmFub3RpZnkwNS5jCisrKyBiL3Rl
c3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvZmFub3RpZnkvZmFub3RpZnkwNS5jCkBAIC0xMSw2ICsx
MSw3IEBACiAgKiAgICAgR2VuZXJhdGUgZW5vdWdoIGV2ZW50cyB3aXRob3V0IHJlYWRpbmcgdGhl
bSBhbmQgY2hlY2sgdGhhdCBvdmVyZmxvdwogICogICAgIGV2ZW50IGlzIGdlbmVyYXRlZC4KICAq
LworI2RlZmluZSBfR05VX1NPVVJDRQogI2luY2x1ZGUgImNvbmZpZy5oIgogCiAjaW5jbHVkZSA8
c3RkaW8uaD4KZGlmZiAtLWdpdCBhL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2FsbHMvZmFub3RpZnkv
ZmFub3RpZnkxMy5jIGIvdGVzdGNhc2VzL2tlcm5lbC9zeXNjYWxscy9mYW5vdGlmeS9mYW5vdGlm
eTEzLmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwLi44MjBmMTM5MGMKLS0t
IC9kZXYvbnVsbAorKysgYi90ZXN0Y2FzZXMva2VybmVsL3N5c2NhbGxzL2Zhbm90aWZ5L2Zhbm90
aWZ5MTMuYwpAQCAtMCwwICsxLDMxMyBAQAorLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQ
TC0yLjAKKy8qCisgKiBDb3B5cmlnaHQgKGMpIDIwMTggTWF0dGhldyBCb2Jyb3dza2kuIEFsbCBS
aWdodHMgUmVzZXJ2ZWQuCisgKgorICogU3RhcnRlZCBieSBNYXR0aGV3IEJvYnJvd3NraSA8bWJv
YnJvd3NraUBtYm9icm93c2tpLm9yZz4KKyAqCisgKiBERVNDUklQVElPTgorICoJVmFsaWRhdGUg
dGhhdCB0aGUgdmFsdWVzIHJldHVybmVkIHdpdGhpbiBhbiBldmVudCB3aGVuCisgKglGQU5fUkVQ
T1JUX0ZJRCBpcyBzcGVjaWZpZWQgbWF0Y2hlcyB0aG9zZSB0aGF0IGFyZSBvYnRhaW5lZCB2aWEK
KyAqCWV4cGxpY2l0IGludm9jYXRpb24gdG8gc3lzdGVtIGNhbGxzIHN0YXRmcygyKSBhbmQKKyAq
CW5hbWVfdG9faGFuZGxlX2F0KDIpLgorICovCisjZGVmaW5lIF9HTlVfU09VUkNFCisjaW5jbHVk
ZSAiY29uZmlnLmgiCisKKyNpbmNsdWRlIDxzdGRpby5oPgorI2luY2x1ZGUgPHN0cmluZy5oPgor
I2luY2x1ZGUgPHN5cy9zdGF0ZnMuaD4KKyNpbmNsdWRlIDxzeXMvdHlwZXMuaD4KKyNpbmNsdWRl
IDxzeXMvc3RhdC5oPgorI2luY2x1ZGUgPGZjbnRsLmg+CisjaW5jbHVkZSA8ZXJybm8uaD4KKyNp
bmNsdWRlIDx1bmlzdGQuaD4KKyNpbmNsdWRlICJ0c3RfdGVzdC5oIgorI2luY2x1ZGUgImZhbm90
aWZ5LmgiCisKKyNpZiBkZWZpbmVkKEhBVkVfU1lTX0ZBTk9USUZZX0gpCisjaW5jbHVkZSA8c3lz
L2Zhbm90aWZ5Lmg+CisKKyNkZWZpbmUgUEFUSF9MRU4gMTI4CisjZGVmaW5lIEJVRl9TSVpFIDI1
NgorI2RlZmluZSBESVJfT05FICJkaXJfb25lIgorI2RlZmluZSBGSUxFX09ORSAiZmlsZV9vbmUi
CisjZGVmaW5lIEZJTEVfVFdPICJmaWxlX3R3byIKKyNkZWZpbmUgTU9VTlRfUEFUSCAibW50cG9p
bnQiCisjZGVmaW5lIEVWRU5UX01BWCBBUlJBWV9TSVpFKG9iamVjdHMpCisjZGVmaW5lIERJUl9Q
QVRIX09ORSBNT1VOVF9QQVRIIi8iRElSX09ORQorI2RlZmluZSBGSUxFX1BBVEhfT05FIE1PVU5U
X1BBVEgiLyJGSUxFX09ORQorI2RlZmluZSBGSUxFX1BBVEhfVFdPIE1PVU5UX1BBVEgiLyJGSUxF
X1RXTworCitzdHJ1Y3QgZXZlbnRfdCB7CisJdW5zaWduZWQgbG9uZyBsb25nIGV4cGVjdGVkX21h
c2s7CisJX19rZXJuZWxfZnNpZF90IGZzaWQ7CisJc3RydWN0IGZpbGVfaGFuZGxlIGhhbmRsZTsK
KwljaGFyIGJ1ZltNQVhfSEFORExFX1NaXTsKK307CisKK3N0YXRpYyBzdHJ1Y3Qgb2JqZWN0X3Qg
eworCWNvbnN0IGNoYXIgKnBhdGg7CisJaW50IGlzX2RpcjsKK30gb2JqZWN0c1tdID0geworCXtG
SUxFX1BBVEhfT05FLCAwfSwKKwl7RklMRV9QQVRIX1RXTywgMH0sCisJe0RJUl9QQVRIX09ORSwg
MX0KK307CisKK3N0YXRpYyBzdHJ1Y3QgdGVzdF9jYXNlX3QgeworCXN0cnVjdCBmYW5vdGlmeV9t
YXJrX3R5cGUgbWFyazsKKwl1bnNpZ25lZCBsb25nIGxvbmcgbWFzazsKK30gdGVzdF9jYXNlc1td
ID0geworCXsKKwkJSU5JVF9GQU5PVElGWV9NQVJLX1RZUEUoSU5PREUpLAorCQlGQU5fT1BFTiB8
IEZBTl9DTE9TRV9OT1dSSVRFCisJfSwKKwl7CisJCUlOSVRfRkFOT1RJRllfTUFSS19UWVBFKElO
T0RFKSwKKwkJRkFOX09QRU4gfCBGQU5fQ0xPU0VfTk9XUklURSB8IEZBTl9PTkRJUgorCX0sCisJ
eworCQlJTklUX0ZBTk9USUZZX01BUktfVFlQRShNT1VOVCksCisJCUZBTl9PUEVOIHwgRkFOX0NM
T1NFX05PV1JJVEUKKwl9LAorCXsKKwkJSU5JVF9GQU5PVElGWV9NQVJLX1RZUEUoTU9VTlQpLAor
CQlGQU5fT1BFTiB8IEZBTl9DTE9TRV9OT1dSSVRFIHwgRkFOX09ORElSCisJfSwKKwl7CisJCUlO
SVRfRkFOT1RJRllfTUFSS19UWVBFKEZJTEVTWVNURU0pLAorCQlGQU5fT1BFTiB8IEZBTl9DTE9T
RV9OT1dSSVRFCisJfSwKKwl7CisJCUlOSVRfRkFOT1RJRllfTUFSS19UWVBFKEZJTEVTWVNURU0p
LAorCQlGQU5fT1BFTiB8IEZBTl9DTE9TRV9OT1dSSVRFIHwgRkFOX09ORElSCisJfQorfTsKKwor
c3RhdGljIGludCBmYW5vdGlmeV9mZDsKK3N0YXRpYyBjaGFyIGV2ZW50c19idWZbQlVGX1NJWkVd
Oworc3RhdGljIHN0cnVjdCBldmVudF90IGV2ZW50X3NldFtFVkVOVF9NQVhdOworCitzdGF0aWMg
dm9pZCBjcmVhdGVfb2JqZWN0cyh2b2lkKQoreworCXVuc2lnbmVkIGludCBpOworCisJZm9yIChp
ID0gMDsgaSA8IEFSUkFZX1NJWkUob2JqZWN0cyk7IGkrKykgeworCQlpZiAob2JqZWN0c1tpXS5p
c19kaXIpCisJCQlTQUZFX01LRElSKG9iamVjdHNbaV0ucGF0aCwgMDc1NSk7CisJCWVsc2UKKwkJ
CVNBRkVfRklMRV9QUklOVEYob2JqZWN0c1tpXS5wYXRoLCAiMCIpOworCX0KK30KKworc3RhdGlj
IHZvaWQgZ2V0X29iamVjdF9zdGF0cyh2b2lkKQoreworCXVuc2lnbmVkIGludCBpOworCWZvciAo
aSA9IDA7IGkgPCBBUlJBWV9TSVpFKG9iamVjdHMpOyBpKyspIHsKKwkJZXZlbnRfc2V0W2ldLmhh
bmRsZS5oYW5kbGVfYnl0ZXMgPSBNQVhfSEFORExFX1NaOworCQlmYW5vdGlmeV9nZXRfZmlkKG9i
amVjdHNbaV0ucGF0aCwgJmV2ZW50X3NldFtpXS5mc2lkLAorCQkJCSZldmVudF9zZXRbaV0uaGFu
ZGxlKTsKKwl9Cit9CisKK3N0YXRpYyB2b2lkIGRvX3NldHVwKHZvaWQpCit7CisJaW50IGZkOwor
CisJLyogQ2hlY2sgZm9yIGtlcm5lbCBmYW5vdGlmeSBzdXBwb3J0ICovCisJZmQgPSBTQUZFX0ZB
Tk9USUZZX0lOSVQoRkFOX0NMQVNTX05PVElGLCBPX1JET05MWSk7CisJU0FGRV9DTE9TRShmZCk7
CisKKwkvKiBDcmVhdGUgZmlsZSBhbmQgZGlyZWN0b3J5IG9iamVjdHMgZm9yIHRlc3RpbmcgKi8K
KwljcmVhdGVfb2JqZWN0cygpOworCisJLyogR2V0IHRoZSBmaWxlc3lzdGVtIGZzaWQgYW5kIGZp
bGUgaGFuZGxlIGZvciBlYWNoIGNyZWF0ZWQgb2JqZWN0ICovCisJZ2V0X29iamVjdF9zdGF0cygp
OworfQorCisKK3N0YXRpYyBpbnQgc2V0dXBfbWFya3ModW5zaWduZWQgaW50IGZkLCBzdHJ1Y3Qg
dGVzdF9jYXNlX3QgKnRjKQoreworCXVuc2lnbmVkIGludCBpOworCXN0cnVjdCBmYW5vdGlmeV9t
YXJrX3R5cGUgKm1hcmsgPSAmdGMtPm1hcms7CisKKwlmb3IgKGkgPSAwOyBpIDwgQVJSQVlfU0la
RShvYmplY3RzKTsgaSsrKSB7CisJCWlmIChmYW5vdGlmeV9tYXJrKGZkLCBGQU5fTUFSS19BREQg
fCBtYXJrLT5mbGFnLCB0Yy0+bWFzaywKKwkJCQkJQVRfRkRDV0QsIG9iamVjdHNbaV0ucGF0aCkg
PT0gLTEpIHsKKwkJCWlmIChlcnJubyA9PSBFSU5WQUwgJiYKKwkJCQltYXJrLT5mbGFnICYgRkFO
X01BUktfRklMRVNZU1RFTSkgeworCQkJCXRzdF9yZXMoVENPTkYsCisJCQkJCSJGQU5fTUFSS19G
SUxFU1lTVEVNIG5vdCBzdXBwb3J0ZWQgYnkgIgorCQkJCQkia2VybmVsIik7CisJCQkJcmV0dXJu
IDE7CisJCQl9IGVsc2UgaWYgKGVycm5vID09IEVOT0RFViAmJgorCQkJCQkhZXZlbnRfc2V0W2ld
LmZzaWQudmFsWzBdICYmCisJCQkJCSFldmVudF9zZXRbaV0uZnNpZC52YWxbMV0pIHsKKwkJCQl0
c3RfcmVzKFRDT05GLAorCQkJCQkiRkFOX1JFUE9SVF9GSUQgbm90IHN1cHBvcnRlZCBvbiAiCisJ
CQkJCSJmaWxlc3lzdGVtIHR5cGUgJXMiLAorCQkJCQl0c3RfZGV2aWNlLT5mc190eXBlKTsKKwkJ
CQlyZXR1cm4gMTsKKwkJCX0KKwkJCXRzdF9icmsoVEJST0sgfCBURVJSTk8sCisJCQkJImZhbm90
aWZ5X21hcmsoJWQsIEZBTl9NQVJLX0FERCwgRkFOX09QRU4sICIKKwkJCQkiQVRfRkRDV0QsICVz
KSBmYWlsZWQiLAorCQkJCWZhbm90aWZ5X2ZkLCBvYmplY3RzW2ldLnBhdGgpOworCQl9CisKKwkJ
LyogU2V0dXAgdGhlIGV4cGVjdGVkIG1hc2sgZm9yIGVhY2ggZ2VuZXJhdGVkIGV2ZW50ICovCisJ
CWV2ZW50X3NldFtpXS5leHBlY3RlZF9tYXNrID0gdGMtPm1hc2s7CisJCWlmICghb2JqZWN0c1tp
XS5pc19kaXIpCisJCQlldmVudF9zZXRbaV0uZXhwZWN0ZWRfbWFzayAmPSB+RkFOX09ORElSOwor
CX0KKwlyZXR1cm4gMDsKK30KKworc3RhdGljIHZvaWQgZG9fdGVzdCh1bnNpZ25lZCBpbnQgbnVt
YmVyKQoreworCXVuc2lnbmVkIGludCBpOworCWludCBsZW4sIGZkc1tBUlJBWV9TSVpFKG9iamVj
dHMpXTsKKworCXN0cnVjdCBmaWxlX2hhbmRsZSAqZXZlbnRfZmlsZV9oYW5kbGU7CisJc3RydWN0
IGZhbm90aWZ5X2V2ZW50X21ldGFkYXRhICptZXRhZGF0YTsKKwlzdHJ1Y3QgZmFub3RpZnlfZXZl
bnRfaW5mb19maWQgKmV2ZW50X2ZpZDsKKwlzdHJ1Y3QgdGVzdF9jYXNlX3QgKnRjID0gJnRlc3Rf
Y2FzZXNbbnVtYmVyXTsKKwlzdHJ1Y3QgZmFub3RpZnlfbWFya190eXBlICptYXJrID0gJnRjLT5t
YXJrOworCisJdHN0X3JlcyhUSU5GTywKKwkJIlRlc3QgIyVkOiBGQU5fUkVQT1JUX0ZJRCB3aXRo
IG1hcmsgZmxhZzogJXMiLAorCQludW1iZXIsIG1hcmstPm5hbWUpOworCisJZmFub3RpZnlfZmQg
PSBmYW5vdGlmeV9pbml0KEZBTl9DTEFTU19OT1RJRiB8IEZBTl9SRVBPUlRfRklELCBPX1JET05M
WSk7CisJaWYgKGZhbm90aWZ5X2ZkID09IC0xKSB7CisJCWlmIChlcnJubyA9PSBFSU5WQUwpIHsK
KwkJCXRzdF9yZXMoVENPTkYsCisJCQkJIkZBTl9SRVBPUlRfRklEIG5vdCBzdXBwb3J0ZWQgYnkg
a2VybmVsIik7CisJCQlyZXR1cm47CisJCX0KKwkJdHN0X2JyayhUQlJPSyB8IFRFUlJOTywKKwkJ
CSJmYW5vdGlmeV9pbml0KEZBTl9DTEFTU19OT1RJRiB8IEZBTl9SRVBPUlRfRklELCAiCisJCQki
T19SRE9OTFkpIGZhaWxlZCIpOworCX0KKworCS8qIFBsYWNlIG1hcmtzIG9uIGEgc2V0IG9mIG9i
amVjdHMgYW5kIHNldHVwIHRoZSBleHBlY3RlZCBtYXNrcworCSAqIGZvciBlYWNoIGV2ZW50IHRo
YXQgaXMgZXhwZWN0ZWQgdG8gYmUgZ2VuZXJhdGVkCisJICovCisJaWYgKHNldHVwX21hcmtzKGZh
bm90aWZ5X2ZkLCB0YykgIT0gMCkKKwkJcmV0dXJuOworCisJLyogR2VuZXJhdGUgc2VxdWVuY2Ug
b2YgRkFOX09QRU4gZXZlbnRzIG9uIG9iamVjdHMgKi8KKwlmb3IgKGkgPSAwOyBpIDwgQVJSQVlf
U0laRShvYmplY3RzKTsgaSsrKQorCQlmZHNbaV0gPSBTQUZFX09QRU4ob2JqZWN0c1tpXS5wYXRo
LCBPX1JET05MWSk7CisKKwkvKiBHZW5lcmF0ZSBzZXF1ZW5jZSBvZiBGQU5fQ0xPU0VfTk9XUklU
RSBldmVudHMgb24gb2JqZWN0cy4gRWFjaAorCSAqIEZBTl9DTE9TRV9OT1dSSVRFIGV2ZW50IGlz
IGV4cGVjdGVkIHRvIGJlIG1lcmdlZCB3aXRoIGl0cworCSAqIHJlc3BlY3RpdmUgRkFOX09QRU4g
ZXZlbnQgdGhhdCB3YXMgcGVyZm9ybWVkIG9uIHRoZSBzYW1lIG9iamVjdAorCSAqLworCWZvciAo
aSA9IDA7IGkgPCBBUlJBWV9TSVpFKG9iamVjdHMpOyBpKyspIHsKKwkJaWYgKGZkc1tpXSA+IDAp
CisJCQlTQUZFX0NMT1NFKGZkc1tpXSk7CisJfQorCisJLyogUmVhZCBldmVudHMgZnJvbSBldmVu
dCBxdWV1ZSAqLworCWxlbiA9IFNBRkVfUkVBRCgwLCBmYW5vdGlmeV9mZCwgZXZlbnRzX2J1Ziwg
QlVGX1NJWkUpOworCisJLyogSXRlcmF0ZSBvdmVyIGV2ZW50IHF1ZXVlICovCisJZm9yIChpID0g
MCwgbWV0YWRhdGEgPSAoc3RydWN0IGZhbm90aWZ5X2V2ZW50X21ldGFkYXRhICopIGV2ZW50c19i
dWY7CisJCUZBTl9FVkVOVF9PSyhtZXRhZGF0YSwgbGVuKTsKKwkJbWV0YWRhdGEgPSBGQU5fRVZF
TlRfTkVYVChtZXRhZGF0YSwgbGVuKSwgaSsrKSB7CisJCWV2ZW50X2ZpZCA9IChzdHJ1Y3QgZmFu
b3RpZnlfZXZlbnRfaW5mb19maWQgKikgKG1ldGFkYXRhICsgMSk7CisJCWV2ZW50X2ZpbGVfaGFu
ZGxlID0gKHN0cnVjdCBmaWxlX2hhbmRsZSAqKSBldmVudF9maWQtPmhhbmRsZTsKKworCQkvKiBG
aWxlIGRlc2NyaXB0b3IgaXMgcmVkdW5kYW50IHdpdGggRkFOX1JFUE9SVF9GSUQgKi8KKwkJaWYg
KG1ldGFkYXRhLT5mZCAhPSBGQU5fTk9GRCkKKwkJCXRzdF9yZXMoVEZBSUwsCisJCQkJIlVuZXhw
ZWN0ZWRseSByZWNlaXZlZCBmaWxlIGRlc2NyaXB0b3IgJWQgaW4gIgorCQkJCSJldmVudC4gRXhw
ZWN0ZWQgdG8gZ2V0IEZBTl9OT0ZEKCVkKSIsCisJCQkJbWV0YWRhdGEtPmZkLCBGQU5fTk9GRCk7
CisKKwkJLyogRW5zdXJlIHRoYXQgdGhlIGNvcnJlY3QgbWFzayBoYXMgYmVlbiByZXBvcnRlZCBp
biBldmVudCAqLworCQlpZiAobWV0YWRhdGEtPm1hc2sgIT0gZXZlbnRfc2V0W2ldLmV4cGVjdGVk
X21hc2spCisJCQl0c3RfcmVzKFRGQUlMLAorCQkJCSJVbmV4cGVjdGVkIG1hc2sgcmVjZWl2ZWQ6
ICVsbHggKGV4cGVjdGVkOiAiCisJCQkJIiVsbHgpIGluIGV2ZW50IiwKKwkJCQltZXRhZGF0YS0+
bWFzaywKKwkJCQlldmVudF9zZXRbaV0uZXhwZWN0ZWRfbWFzayk7CisKKwkJLyogVmVyaWZ5IGhh
bmRsZV9ieXRlcyByZXR1cm5lZCBpbiBldmVudCAqLworCQlpZiAoZXZlbnRfZmlsZV9oYW5kbGUt
PmhhbmRsZV9ieXRlcworCQkJCSE9IGV2ZW50X3NldFtpXS5oYW5kbGUuaGFuZGxlX2J5dGVzKSB7
CisJCQl0c3RfcmVzKFRGQUlMLAorCQkJCSJoYW5kbGVfYnl0ZXMgKCV4KSByZXR1cm5lZCBpbiBl
dmVudCBkb2VzIG5vdCAiCisJCQkJImVxdWFsIHRvIGhhbmRsZV9ieXRlcyAoJXgpIHJldHVybmVk
IGluICIKKwkJCQkibmFtZV90b19oYW5kbGVfYXQoMikiLAorCQkJCWV2ZW50X2ZpbGVfaGFuZGxl
LT5oYW5kbGVfYnl0ZXMsCisJCQkJZXZlbnRfc2V0W2ldLmhhbmRsZS5oYW5kbGVfYnl0ZXMpOwor
CQkJY29udGludWU7CisJCX0KKworCQkvKiBWZXJpZnkgaGFuZGxlX3R5cGUgcmV0dXJuZWQgaW4g
ZXZlbnQgKi8KKwkJaWYgKGV2ZW50X2ZpbGVfaGFuZGxlLT5oYW5kbGVfdHlwZSAhPQorCQkJCWV2
ZW50X3NldFtpXS5oYW5kbGUuaGFuZGxlX3R5cGUpIHsKKwkJCXRzdF9yZXMoVEZBSUwsCisJCQkJ
ImhhbmRsZV90eXBlICgleCkgcmV0dXJuZWQgaW4gZXZlbnQgZG9lcyBub3QgIgorCQkJCSJlcXVh
bCB0byBoYW5kbGVfdHlwZSAoJXgpIHJldHVybmVkIGluICIKKwkJCQkibmFtZV90b19oYW5kbGVf
YXQoMikiLAorCQkJCWV2ZW50X2ZpbGVfaGFuZGxlLT5oYW5kbGVfdHlwZSwKKwkJCQlldmVudF9z
ZXRbaV0uaGFuZGxlLmhhbmRsZV90eXBlKTsKKwkJCWNvbnRpbnVlOworCQl9CisKKwkJLyogVmVy
aWZ5IGZpbGUgaWRlbnRpZmllciBmX2hhbmRsZSByZXR1cm5lZCBpbiBldmVudCAqLworCQlpZiAo
bWVtY21wKGV2ZW50X2ZpbGVfaGFuZGxlLT5mX2hhbmRsZSwKKwkJCQlldmVudF9zZXRbaV0uaGFu
ZGxlLmZfaGFuZGxlLAorCQkJCWV2ZW50X3NldFtpXS5oYW5kbGUuaGFuZGxlX2J5dGVzKSAhPSAw
KSB7CisJCQl0c3RfcmVzKFRGQUlMLAorCQkJCSJldmVudF9maWxlX2hhbmRsZS0+Zl9oYW5kbGUg
ZG9lcyBub3QgbWF0Y2ggIgorCQkJCSJldmVudF9zZXRbaV0uaGFuZGxlLmZfaGFuZGxlIHJldHVy
bmVkIGluICIKKwkJCQkibmFtZV90b19oYW5kbGVfYXQoMikiKTsKKwkJCWNvbnRpbnVlOworCQl9
CisKKwkJLyogVmVyaWZ5IGZpbGVzeXN0ZW0gSUQgZnNpZCAgcmV0dXJuZWQgaW4gZXZlbnQgKi8K
KwkJaWYgKG1lbWNtcCgmZXZlbnRfZmlkLT5mc2lkLCAmZXZlbnRfc2V0W2ldLmZzaWQsCisJCQkJ
c2l6ZW9mKGV2ZW50X3NldFtpXS5mc2lkKSkgIT0gMCkgeworCQkJdHN0X3JlcyhURkFJTCwKKwkJ
CQkiZXZlbnRfZmlkLmZzaWQgIT0gc3RhdC5mX2ZzaWQgdGhhdCB3YXMgIgorCQkJCSJvYnRhaW5l
ZCB2aWEgc3RhdGZzKDIpIik7CisJCQljb250aW51ZTsKKwkJfQorCisJCXRzdF9yZXMoVFBBU1Ms
CisJCQkiZ290IGV2ZW50OiBtYXNrPSVsbHgsIHBpZD0lZCwgZmlkPSV4LiV4LiVseCB2YWx1ZXMg
IgorCQkJInJldHVybmVkIGluIGV2ZW50IG1hdGNoIHRob3NlIHJldHVybmVkIGluIHN0YXRmcygy
KSAiCisJCQkiYW5kIG5hbWVfdG9faGFuZGxlX2F0KDIpIiwKKwkJCW1ldGFkYXRhLT5tYXNrLAor
CQkJZ2V0cGlkKCksCisJCQlldmVudF9maWQtPmZzaWQudmFsWzBdLAorCQkJZXZlbnRfZmlkLT5m
c2lkLnZhbFsxXSwKKwkJCSoodW5zaWduZWQgbG9uZyAqKSBldmVudF9maWxlX2hhbmRsZS0+Zl9o
YW5kbGUpOworCX0KK30KKworc3RhdGljIHZvaWQgZG9fY2xlYW51cCh2b2lkKQoreworCWlmIChm
YW5vdGlmeV9mZCA+IDApCisJCVNBRkVfQ0xPU0UoZmFub3RpZnlfZmQpOworfQorCitzdGF0aWMg
c3RydWN0IHRzdF90ZXN0IHRlc3QgPSB7CisJLnNldHVwID0gZG9fc2V0dXAsCisJLnRlc3QgPSBk
b190ZXN0LAorCS50Y250ID0gQVJSQVlfU0laRSh0ZXN0X2Nhc2VzKSwKKwkuY2xlYW51cCA9IGRv
X2NsZWFudXAsCisJLm5lZWRzX3Jvb3QgPSAxLAorCS5uZWVkc190bXBkaXIgPSAxLAorCS5tb3Vu
dF9kZXZpY2UgPSAxLAorCS5tbnRwb2ludCA9IE1PVU5UX1BBVEgsCisJLmFsbF9maWxlc3lzdGVt
cyA9IDEKK307CisKKyNlbHNlCisJVFNUX1RFU1RfQ09ORigiU3lzdGVtIGRvZXMgbm90IGhhdmUg
cmVxdWlyZWQgZmFub3RpZnkgc3VwcG9ydCIpOworI2VuZGlmCi0tIAoyLjIxLjAKCgotLSAKTWF0
dGhldyBCb2Jyb3dza2kKCi0tIApNYWlsaW5nIGxpc3QgaW5mbzogaHR0cHM6Ly9saXN0cy5saW51
eC5pdC9saXN0aW5mby9sdHAK
