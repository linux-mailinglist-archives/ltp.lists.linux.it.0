Return-Path: <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>
X-Original-To: lists+linux-ltp@lfdr.de
Delivered-To: lists+linux-ltp@lfdr.de
Received: from picard.linux.it (picard.linux.it [213.254.12.146])
	by mail.lfdr.de (Postfix) with ESMTPS id DF6552B170
	for <lists+linux-ltp@lfdr.de>; Mon, 27 May 2019 11:39:05 +0200 (CEST)
Received: from picard.linux.it (localhost [IPv6:::1])
	by picard.linux.it (Postfix) with ESMTP id A4927294AD5
	for <lists+linux-ltp@lfdr.de>; Mon, 27 May 2019 11:39:05 +0200 (CEST)
X-Original-To: ltp@lists.linux.it
Delivered-To: ltp@picard.linux.it
Received: from in-4.smtp.seeweb.it (in-4.smtp.seeweb.it
 [IPv6:2001:4b78:1:20::4])
 by picard.linux.it (Postfix) with ESMTP id 6CBBA3EA1FF
 for <ltp@lists.linux.it>; Mon, 27 May 2019 11:39:02 +0200 (CEST)
Received: from heian.cn.fujitsu.com (mail.cn.fujitsu.com [183.91.158.132])
 by in-4.smtp.seeweb.it (Postfix) with ESMTP id 0A8F710009EB
 for <ltp@lists.linux.it>; Mon, 27 May 2019 11:38:54 +0200 (CEST)
X-IronPort-AV: E=Sophos;i="5.60,518,1549900800"; d="scan'208";a="64790501"
Received: from unknown (HELO cn.fujitsu.com) ([10.167.33.5])
 by heian.cn.fujitsu.com with ESMTP; 27 May 2019 17:38:54 +0800
Received: from G08CNEXCHPEKD02.g08.fujitsu.local (unknown [10.167.33.83])
 by cn.fujitsu.com (Postfix) with ESMTP id BBBCA4C4BD33;
 Mon, 27 May 2019 17:38:52 +0800 (CST)
Received: from localhost.localdomain.localdomain (10.167.215.28) by
 G08CNEXCHPEKD02.g08.fujitsu.local (10.167.33.89) with Microsoft SMTP Server
 (TLS) id 14.3.439.0; Mon, 27 May 2019 17:38:52 +0800
From: Jinhui huang <huangjh.jy@cn.fujitsu.com>
To: <ltp@lists.linux.it>
Date: Mon, 27 May 2019 17:38:47 +0800
Message-ID: <1558949927-4438-1-git-send-email-huangjh.jy@cn.fujitsu.com>
X-Mailer: git-send-email 1.8.3.1
In-Reply-To: <1558660677-13516-1-git-send-email-huangjh.jy@cn.fujitsu.com>
References: <1558660677-13516-1-git-send-email-huangjh.jy@cn.fujitsu.com>
MIME-Version: 1.0
X-Originating-IP: [10.167.215.28]
X-yoursite-MailScanner-ID: BBBCA4C4BD33.A447F
X-yoursite-MailScanner: Found to be clean
X-yoursite-MailScanner-From: huangjh.jy@cn.fujitsu.com
X-Spam-Status: No, score=0.0 required=7.0 tests=SPF_HELO_NONE,SPF_NONE
 autolearn=disabled version=3.4.0
X-Virus-Scanned: clamav-milter 0.99.2 at in-4.smtp.seeweb.it
X-Virus-Status: Clean
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on in-4.smtp.seeweb.it
Subject: [LTP] [PATCH v2] syscalls/sched_setaffinity01.c: rewrite test with
	new API
X-BeenThere: ltp@lists.linux.it
X-Mailman-Version: 2.1.18
Precedence: list
List-Id: Linux Test Project <ltp.lists.linux.it>
List-Unsubscribe: <https://lists.linux.it/options/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=unsubscribe>
List-Archive: <http://lists.linux.it/pipermail/ltp/>
List-Post: <mailto:ltp@lists.linux.it>
List-Help: <mailto:ltp-request@lists.linux.it?subject=help>
List-Subscribe: <https://lists.linux.it/listinfo/ltp>,
 <mailto:ltp-request@lists.linux.it?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it
Sender: "ltp" <ltp-bounces+lists+linux-ltp=lfdr.de@lists.linux.it>

U2lnbmVkLW9mZi1ieTogSmluaHVpIGh1YW5nIDxodWFuZ2poLmp5QGNuLmZ1aml0c3UuY29tPgot
LS0KIC4uLi9zY2hlZF9zZXRhZmZpbml0eS9zY2hlZF9zZXRhZmZpbml0eTAxLmMgICAgICAgIHwg
MTk2ICsrKysrKysrLS0tLS0tLS0tLS0tLQogMSBmaWxlIGNoYW5nZWQsIDc3IGluc2VydGlvbnMo
KyksIDExOSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS90ZXN0Y2FzZXMva2VybmVsL3N5c2Nh
bGxzL3NjaGVkX3NldGFmZmluaXR5L3NjaGVkX3NldGFmZmluaXR5MDEuYyBiL3Rlc3RjYXNlcy9r
ZXJuZWwvc3lzY2FsbHMvc2NoZWRfc2V0YWZmaW5pdHkvc2NoZWRfc2V0YWZmaW5pdHkwMS5jCmlu
ZGV4IGU5MzY3ZDYuLjY0OTQ4ODAgMTAwNjQ0Ci0tLSBhL3Rlc3RjYXNlcy9rZXJuZWwvc3lzY2Fs
bHMvc2NoZWRfc2V0YWZmaW5pdHkvc2NoZWRfc2V0YWZmaW5pdHkwMS5jCisrKyBiL3Rlc3RjYXNl
cy9rZXJuZWwvc3lzY2FsbHMvc2NoZWRfc2V0YWZmaW5pdHkvc2NoZWRfc2V0YWZmaW5pdHkwMS5j
CkBAIC0xLDMzICsxLDE4IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1v
ci1sYXRlcgogLyoKICAqIENvcHlyaWdodCAoYykgMjAxNCBPcmFjbGUgYW5kL29yIGl0cyBhZmZp
bGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLgorICogQ29weXJpZ2h0IChjKSAyMDE5IEZVSklU
U1UgTElNSVRFRC4KICAqCi0gKiBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNh
biByZWRpc3RyaWJ1dGUgaXQgYW5kL29yCi0gKiBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9m
IHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcwotICogcHVibGlzaGVkIGJ5IHRoZSBG
cmVlIFNvZnR3YXJlIEZvdW5kYXRpb247IGVpdGhlciB2ZXJzaW9uIDIgb2YKLSAqIHRoZSBMaWNl
bnNlLCBvciAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLgotICoKLSAqIFRoaXMg
cHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdvdWxkIGJlIHVzZWZ1
bCwKLSAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVk
IHdhcnJhbnR5IG9mCi0gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNV
TEFSIFBVUlBPU0UuICBTZWUgdGhlCi0gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3Ig
bW9yZSBkZXRhaWxzLgotICoKLSAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2Yg
dGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlCi0gKiBhbG9uZyB3aXRoIHRoaXMgcHJvZ3Jh
bS4gSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgorICogQXV0aG9y
OiBTdGFuaXNsYXYgS2hvbG1hbnNraWtoIDxzdGFuaXNsYXYua2hvbG1hbnNraWtoQG9yYWNsZS5j
b20+CiAgKi8KIAogLyoKLSAqIFRoaXMgdGVzdCB2ZXJpZmllcyBzY2hlZF9zZXRhZmZpbml0eSgy
KSBmb3IgYWxsIGVycm9yIGNvbmRpdGlvbnMKLSAqIHRvIG9jY3VyIGNvcnJlY3RseS4KLSAqCi0g
KiBzY2hlZF9zZXRhZmZpbml0eSgpIHJldHVybnMgLTEgYW5kIHNldHMgdGhlIGVycm9yIGNvZGUg
dG86Ci0gKgotICogMSkgRUZBVUxULCBpZiB0aGUgc3VwcGxpZWQgbWVtb3J5IGFkZHJlc3MgaXMg
aW52YWxpZAotICogMikgRUlOVkFMLCBpZiB0aGUgbWFzayBkb2Vzbid0IGNvbnRhaW4gYXQgbGVh
c3Qgb25lCi0gKiAgICBwZXJtaXR0ZWQgY3B1Ci0gKiAzKSBFU1JDSCwgaWYgdGhlIHByb2Nlc3Mg
d2hvc2UgaWQgaXMgcGlkIGNvdWxkIG5vdAotICogICAgYmUgZm91bmQKLSAqIDQpIEVQRVJNLCBp
ZiB0aGUgY2FsbGluZyBwcm9jZXNzIGRvZXNuJ3QgaGF2ZSBhcHByb3ByaWF0ZQotICogICAgcHJp
dmlsZWdlcworICogRGVzY3JpcHRpb246CisgKiBDaGVjayB2YXJpb3VzIGVycm5vcyBmb3Igc2No
ZWRfc2V0YWZmaW5pdHkoKToKKyAqIDEpIEVGQVVMVCwgaWYgdGhlIHN1cHBsaWVkIG1lbW9yeSBh
ZGRyZXNzIGlzIGludmFsaWQuCisgKiAyKSBFSU5WQUwsIGlmIHRoZSBtYXNrIGRvZXNuJ3QgY29u
dGFpbiBhdCBsZWFzdCBvbmUgcGVybWl0dGVkIGNwdS4KKyAqIDMpIEVTUkNILCBpZiB0aGUgcHJv
Y2VzcyB3aG9zZSBpZCBpcyBwaWQgY291bGQgbm90IGJlIGZvdW5kLgorICogNCkgRVBFUk0sIGlm
IHRoZSBjYWxsaW5nIHByb2Nlc3MgZG9lc24ndCBoYXZlIGFwcHJvcHJpYXRlIHByaXZpbGVnZXMu
CiAgKi8KIAogI2RlZmluZSBfR05VX1NPVVJDRQpAQCAtMzYsMTQyICsyMSwxMTUgQEAKICNpbmNs
dWRlIDxzY2hlZC5oPgogI2luY2x1ZGUgPHNpZ25hbC5oPgogI2luY2x1ZGUgPHVuaXN0ZC5oPgot
I2luY2x1ZGUgPHN5cy90eXBlcy5oPgotI2luY2x1ZGUgPHN5cy93YWl0Lmg+Ci0jaW5jbHVkZSAi
dGVzdC5oIgotI2luY2x1ZGUgInNhZmVfbWFjcm9zLmgiCisjaW5jbHVkZSA8c3RkbGliLmg+CisK
KyNpbmNsdWRlICJ0c3RfdGVzdC5oIgorI2luY2x1ZGUgInRzdF9zYWZlX21hY3Jvcy5oIgogI2lu
Y2x1ZGUgImxhcGkvY3B1c2V0LmgiCiAjaW5jbHVkZSAibGFwaS9zeXNjYWxscy5oIgogCi1jaGFy
ICpUQ0lEID0gInNjaGVkX3NldGFmZmluaXR5MDEiOwotCi0jZGVmaW5lIFBJRF9NQVhfUEFUSCAi
L3Byb2Mvc3lzL2tlcm5lbC9waWRfbWF4IgotCi1zdGF0aWMgY3B1X3NldF90ICptYXNrLCAqZW1h
c2s7Ci1zdGF0aWMgY3B1X3NldF90ICpmbWFzayA9ICh2b2lkICopLTE7CitzdGF0aWMgY3B1X3Nl
dF90ICptYXNrLCAqZW1hc2ssICpmbWFzazsKIHN0YXRpYyBzaXplX3QgbWFza19zaXplLCBlbWFz
a19zaXplOwogc3RhdGljIHBpZF90IHNlbGZfcGlkLCBwcml2aWxlZ2VkX3BpZCwgZnJlZV9waWQ7
Ci1zdGF0aWMgdWlkX3QgdWlkOwotc3RhdGljIGNvbnN0IGNoYXIgbm9ib2R5X3VpZFtdID0gIm5v
Ym9keSI7CiBzdGF0aWMgc3RydWN0IHBhc3N3ZCAqbHRwdXNlcjsKLXN0YXRpYyBsb25nIG5jcHVz
OwogCi1zdGF0aWMgc3RydWN0IHRlc3RfY2FzZV90IHsKK3N0YXRpYyBzdHJ1Y3QgdGNhc2Ugewog
CXBpZF90ICpwaWQ7Ci0Jc2l6ZV90ICptYXNrX3NpemU7CisJc2l6ZV90ICpzaXplOwogCWNwdV9z
ZXRfdCAqKm1hc2s7CiAJaW50IGV4cF9lcnJubzsKLX0gdGVzdF9jYXNlc1tdID0geworfSB0Y2Fz
ZXNbXSA9IHsKIAl7JnNlbGZfcGlkLCAmbWFza19zaXplLCAmZm1hc2ssIEVGQVVMVH0sCiAJeyZz
ZWxmX3BpZCwgJmVtYXNrX3NpemUsICZlbWFzaywgRUlOVkFMfSwKIAl7JmZyZWVfcGlkLCAmbWFz
a19zaXplLCAmbWFzaywgRVNSQ0h9LAogCXsmcHJpdmlsZWdlZF9waWQsICZtYXNrX3NpemUsICZt
YXNrLCBFUEVSTX0sCiB9OwogCi1pbnQgVFNUX1RPVEFMID0gQVJSQVlfU0laRSh0ZXN0X2Nhc2Vz
KTsKK3N0YXRpYyB2b2lkIGtpbGxfcGlkKHZvaWQpCit7CisJU0FGRV9LSUxMKHByaXZpbGVnZWRf
cGlkLCBTSUdLSUxMKTsKKwlTQUZFX1dBSVRQSUQocHJpdmlsZWdlZF9waWQsIE5VTEwsIDApOwor
CVNBRkVfU0VURVVJRCgwKTsKK30KIAotc3RhdGljIHZvaWQgY2xlYW51cCh2b2lkKQorc3RhdGlj
IHZvaWQgdmVyaWZ5X3Rlc3QodW5zaWduZWQgaW50IG4pCiB7Ci0JaWYgKG1hc2sgIT0gTlVMTCkg
ewotCQlDUFVfRlJFRShtYXNrKTsKLQkJbWFzayA9IE5VTEw7Ci0JfQorCXN0cnVjdCB0Y2FzZSAq
dGMgPSAmdGNhc2VzW25dOwogCi0JaWYgKGVtYXNrICE9IE5VTEwpIHsKLQkJQ1BVX0ZSRUUoZW1h
c2spOwotCQllbWFzayA9IE5VTEw7CisJaWYgKHRjLT5leHBfZXJybm8gPT0gRVBFUk0pIHsKKwkJ
cHJpdmlsZWdlZF9waWQgPSBTQUZFX0ZPUksoKTsKKwkJaWYgKHByaXZpbGVnZWRfcGlkID09IDAp
IHsKKwkJCXBhdXNlKCk7CisJCQlleGl0KDApOworCQl9CisKKwkJU0FGRV9TRVRFVUlEKGx0cHVz
ZXItPnB3X3VpZCk7CiAJfQogCi0JU0FGRV9TRVRFVUlEKE5VTEwsIHVpZCk7CisJVEVTVCh0c3Rf
c3lzY2FsbChfX05SX3NjaGVkX3NldGFmZmluaXR5LAorCQkJKnRjLT5waWQsICp0Yy0+c2l6ZSwg
KnRjLT5tYXNrKSk7CisKKwlpZiAoVFNUX1JFVCAhPSAtMSkgeworCQl0c3RfcmVzKFRGQUlMLCAi
c2NoZWRfc2V0YWZmaW5pdHkoKSBzdWNjZWRlZCB1bmV4cGVjdGVkbHkiKTsKKwkJa2lsbF9waWQo
KTsKKwkJcmV0dXJuOworCX0KIAotCWlmIChwcml2aWxlZ2VkX3BpZCA+IDApIHsKLQkJa2lsbChw
cml2aWxlZ2VkX3BpZCwgU0lHS0lMTCk7Ci0JCXdhaXRwaWQocHJpdmlsZWdlZF9waWQsIE5VTEws
IDApOwotCQlwcml2aWxlZ2VkX3BpZCA9IDA7CisJaWYgKFRTVF9FUlIgIT0gdGMtPmV4cF9lcnJu
bykgeworCQl0c3RfcmVzKFRGQUlMIHwgVFRFUlJOTywKKwkJCSJzY2hlZF9zZXRhZmZpbml0eSgp
IHNob3VsZCBmYWlsIHdpdGggJXMsIGdvdCIsCisJCQl0c3Rfc3RyZXJybm8odGMtPmV4cF9lcnJu
bykpOworCX0gZWxzZSB7CisJCXRzdF9yZXMoVFBBU1MgfCBUVEVSUk5PLCAic2NoZWRfc2V0YWZm
aW5pdHkoKSBmYWlsZWQiKTsKIAl9CisKKwlpZiAodGMtPmV4cF9lcnJubyA9PSBFUEVSTSkKKwkJ
a2lsbF9waWQoKTsKIH0KIAogc3RhdGljIHZvaWQgc2V0dXAodm9pZCkKIHsKLQl0c3RfcmVxdWly
ZV9yb290KCk7Ci0JdWlkID0gZ2V0ZXVpZCgpOworCWxvbmcgbmNwdXM7CiAJbmNwdXMgPSB0c3Rf
bmNwdXNfbWF4KCk7CisJZm1hc2sgPSB0c3RfZ2V0X2JhZF9hZGRyKE5VTEwpOwogCi0JLyogQ3Vy
cmVudCBtYXNrICovCiAJbWFzayA9IENQVV9BTExPQyhuY3B1cyk7Ci0JaWYgKG1hc2sgPT0gTlVM
TCkKLQkJdHN0X2Jya20oVEJST0sgfCBURVJSTk8sIGNsZWFudXAsICJDUFVfQUxMT0MoJWxkKSBm
YWlsZWQiLAotCQkJbmNwdXMpOworCWlmICghbWFzaykKKwkJdHN0X2JyayhUQlJPSyB8IFRURVJS
Tk8sICJDUFVfQUxMT0MoKSBmYWlsZWQiKTsKKwogCW1hc2tfc2l6ZSA9IENQVV9BTExPQ19TSVpF
KG5jcHVzKTsKKwogCWlmIChzY2hlZF9nZXRhZmZpbml0eSgwLCBtYXNrX3NpemUsIG1hc2spIDwg
MCkKLQkJdHN0X2Jya20oVEJST0sgfCBURVJSTk8sIGNsZWFudXAsICJzY2hlZF9nZXRhZmZpbml0
eSgpIGZhaWxlZCIpOworCQl0c3RfYnJrKFRCUk9LIHwgVFRFUlJOTywgInNjaGVkX2dldGFmZmlu
aXR5KCkgZmFpbGVkIik7CiAKLQkvKiBNYXNrIHdpdGggb25lIG1vcmUgY3B1IHRoYW4gYXZhaWxh
YmxlIG9uIHRoZSBzeXN0ZW0gKi8KIAllbWFzayA9IENQVV9BTExPQyhuY3B1cyArIDEpOwotCWlm
IChlbWFzayA9PSBOVUxMKQotCQl0c3RfYnJrbShUQlJPSyB8IFRFUlJOTywgY2xlYW51cCwgIkNQ
VV9BTExPQyglbGQpIGZhaWxlZCIsCi0JCQluY3B1cyArIDEpOworCWlmICghZW1hc2spCisJCXRz
dF9icmsoVEJST0sgfCBUVEVSUk5PLCAiQ1BVX0FMTE9DKCkgZmFpbGVkIik7CisKIAllbWFza19z
aXplID0gQ1BVX0FMTE9DX1NJWkUobmNwdXMgKyAxKTsKIAlDUFVfWkVST19TKGVtYXNrX3NpemUs
IGVtYXNrKTsKIAlDUFVfU0VUX1MobmNwdXMsIGVtYXNrX3NpemUsIGVtYXNrKTsKIAotCXByaXZp
bGVnZWRfcGlkID0gdHN0X2ZvcmsoKTsKLQlpZiAocHJpdmlsZWdlZF9waWQgPT0gMCkgewotCQlw
YXVzZSgpOwotCi0JCWV4aXQoMCk7Ci0JfSBlbHNlIGlmIChwcml2aWxlZ2VkX3BpZCA8IDApIHsK
LQkJdHN0X2Jya20oVEJST0sgfCBURVJSTk8sIGNsZWFudXAsICJmb3JrKCkgZmFpbGVkIik7Ci0J
fQotCi0JLyogRHJvcHBpbmcgdGhlIHJvb3QgcHJpdmlsZWdlcyAqLwotCWx0cHVzZXIgPSBnZXRw
d25hbShub2JvZHlfdWlkKTsKLQlpZiAobHRwdXNlciA9PSBOVUxMKQotCQl0c3RfYnJrbShUQlJP
SyB8IFRFUlJOTywgY2xlYW51cCwKLQkJCSJnZXRwd25hbSBmYWlsZWQgZm9yIHVzZXIgaWQgJXMi
LCBub2JvZHlfdWlkKTsKKwlsdHB1c2VyID0gU0FGRV9HRVRQV05BTSgibm9ib2R5Iik7CiAKLQlT
QUZFX1NFVEVVSUQoY2xlYW51cCwgbHRwdXNlci0+cHdfdWlkKTsKLQotCS8qIHRoaXMgcGlkIGlz
IG5vdCB1c2VkIGJ5IHRoZSBPUyAqLwotCWZyZWVfcGlkID0gdHN0X2dldF91bnVzZWRfcGlkKGNs
ZWFudXApOworCWZyZWVfcGlkID0gdHN0X2dldF91bnVzZWRfcGlkKCk7CiB9CiAKLWludCBtYWlu
KGludCBhcmdjLCBjaGFyICphcmd2W10pCitzdGF0aWMgdm9pZCBjbGVhbnVwKHZvaWQpCiB7Ci0J
aW50IGxjOwotCWludCBpOwotCi0JdHN0X3BhcnNlX29wdHMoYXJnYywgYXJndiwgTlVMTCwgTlVM
TCk7Ci0KLQlzZXR1cCgpOwotCi0JZm9yIChsYyA9IDA7IFRFU1RfTE9PUElORyhsYyk7IGxjKysp
IHsKLQkJdHN0X2NvdW50ID0gMDsKLQkJZm9yIChpID0gMDsgaSA8IFRTVF9UT1RBTDsgaSsrKSB7
Ci0JCQkvKiBBdm9pZCBjYWxsaW5nIGdsaWJjIHdyYXBwZXIgZnVuY3Rpb24sIGFzIGl0IG1heQot
CQkJICogdHJ5IHRvIHJlYWQvdmFsaWRhdGUgZGF0YSBpbiBjcHUgbWFzay4gVGhpcyB0ZXN0Ci0J
CQkgKiBpcyBwYXNzaW5nIGludmFsaWQgcG9pbnRlciBvbiBwdXJwb3NlLiAqLwotCQkJVEVTVChs
dHBfc3lzY2FsbChfX05SX3NjaGVkX3NldGFmZmluaXR5LAotCQkJCSoodGVzdF9jYXNlc1tpXS5w
aWQpLAotCQkJCSoodGVzdF9jYXNlc1tpXS5tYXNrX3NpemUpLAotCQkJCSoodGVzdF9jYXNlc1tp
XS5tYXNrKSkpOwotCi0JCQlpZiAoVEVTVF9SRVRVUk4gIT0gLTEpCi0JCQkJdHN0X3Jlc20oVEZB
SUwsCi0JCQkJCSJzY2hlZF9zZXRhZmZpbml0eSgpIHVuZXhwZWN0ZWRseSBzdWNjZWRlZCIpOwot
Ci0JCQlpZiAoVEVTVF9FUlJOTyA9PSB0ZXN0X2Nhc2VzW2ldLmV4cF9lcnJubykgewotCQkJCXRz
dF9yZXNtKFRQQVNTLCAiZXhwZWN0ZWQgZmFpbHVyZSB3aXRoICclcyciLAotCQkJCQlzdHJlcnJv
cih0ZXN0X2Nhc2VzW2ldLmV4cF9lcnJubykpOwotCQkJfSBlbHNlIHsKLQkJCQl0c3RfcmVzbShU
RkFJTCwKLQkJCQkJImNhbGwgcmV0dXJuZWQgJyVzJywgZXhwZWN0ZWQgLSAnJXMnIiwKLQkJCQkJ
c3RyZXJyb3IoVEVTVF9FUlJOTyksCi0JCQkJCXN0cmVycm9yKHRlc3RfY2FzZXNbaV0uZXhwX2Vy
cm5vKSk7Ci0JCQl9Ci0JCX0KLQl9CisJaWYgKG1hc2spCisJCUNQVV9GUkVFKG1hc2spOwogCi0J
Y2xlYW51cCgpOwotCXRzdF9leGl0KCk7CisJaWYgKGVtYXNrKQorCQlDUFVfRlJFRShlbWFzayk7
CiB9CisKK3N0YXRpYyBzdHJ1Y3QgdHN0X3Rlc3QgdGVzdCA9IHsKKwkudGNudCA9IEFSUkFZX1NJ
WkUodGNhc2VzKSwKKwkudGVzdCA9IHZlcmlmeV90ZXN0LAorCS5zZXR1cCA9IHNldHVwLAorCS5j
bGVhbnVwID0gY2xlYW51cCwKKwkubmVlZHNfdG1wZGlyID0gMSwKKwkuZm9ya3NfY2hpbGQgPSAx
LAorCS5uZWVkc19yb290ID0gMSwKK307Ci0tIAoxLjguMy4xCgoKCgotLSAKTWFpbGluZyBsaXN0
IGluZm86IGh0dHBzOi8vbGlzdHMubGludXguaXQvbGlzdGluZm8vbHRwCg==
